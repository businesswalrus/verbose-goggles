(self.webpackChunkmailchimp=self.webpackChunkmailchimp||[]).push([["73550"],{599271:function(t){var e;e=function(){var t,e,n,r,i=["navigation","request","process","log","user","state","error","manual"],a=function(t,e,n){for(var r=n,i=0,a=t.length;i<a;i++)r=e(r,t[i],i,t);return r},s=function(t,e){return a(t,function(t,n,r,i){return e(n,r,i)?t.concat(n):t},[])},o=function(t,e){return a(t,function(t,n,r,i){return!0===t||n===e},!1)},u=function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=!({toString:null}).propertyIsEnumerable("toString"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);if(!c)return n;for(var r=0,i=l.length;r<i;r++)Object.prototype.hasOwnProperty.call(t,l[r])&&n.push(l[r]);return n},f=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=t&&n<=e}},h=function(t){return"function"==typeof t||u(t)&&s(t,function(t){return"function"==typeof t}).length===t.length},g=function(t){return"string"==typeof t&&!!t.length},p={},m=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};p.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:g},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(t){return void 0===t||g(t)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(t){return void 0===t||g(t)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(t){return!0===t||!1===t}},enabledErrorTypes:{defaultValue:function(){return m()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(t){if("object"!=typeof t||!t)return!1;var e=d(t),n=d(m());return!(s(e,function(t){return o(n,t)}).length<e.length)&&!(s(d(t),function(e){return"boolean"!=typeof t[e]}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:h},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:h},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:h},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(t){return t&&"object"==typeof t&&g(t.notify)&&g(t.sessions)&&0===s(d(t),function(t){return!o(["notify","sessions"],t)}).length}},autoTrackSessions:{defaultValue:function(t){return!0},message:"should be true|false",validate:function(t){return!0===t||!1===t}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(t){return null===t||u(t)&&s(t,function(t){return"string"==typeof t}).length===t.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(t){return"string"==typeof t&&t.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(t){return f(0,100)(t)}},enabledBreadcrumbTypes:{defaultValue:function(){return i},message:"should be null or a list of available breadcrumb types ("+i.join(",")+")",validate:function(t){return null===t||u(t)&&a(t,function(t,e){return!1===t?t:o(i,e)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(t){return void 0===t||"string"==typeof t}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(t){return null===t||t&&a(d(t),function(t,e){return t&&o(["id","email","name"],e)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(t){return"object"==typeof t&&null!==t}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(t){return!t||t&&a(["debug","info","warn","error"],function(e,n){return e&&"function"==typeof t[n]},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(t){return u(t)&&t.length===s(t,function(t){return"string"==typeof t||t&&"function"==typeof t.test}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(t){return u(t)&&t.length===s(t,function(t){return t&&"object"==typeof t&&"function"==typeof t.load}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(t){return u(t)&&t.length===s(t,function(t){return t&&"object"==typeof t&&"string"==typeof t.name}).length}}};var b=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(t,e){return a(t,function(t,n,r,i){return t.concat(e(n,r,i))},[])};function v(){return(v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var S=p.schema,w={releaseStage:b({},S.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:v({},S.appType,{defaultValue:function(){return"browser"}}),logger:b({},S.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?_():void 0}})},_=function(){var t={},e=console.log;return y(["debug","info","warn","error"],function(n){var r=console[n];t[n]="function"==typeof r?r.bind(console,"[bugsnag]"):e.bind(console,"[bugsnag]")}),t},E=function(){function t(t,e,n,r){void 0===r&&(r=new Date),this.type=n,this.message=t,this.metadata=e,this.timestamp=r}return t.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},t}(),k={};t=function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t){return t.charAt(0).toUpperCase()+t.substring(1)}function n(t){return function(){return this[t]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],a=["fileName","functionName","source"],s=r.concat(i,a,["args"]);function o(t){if(t instanceof Object)for(var n=0;n<s.length;n++)t.hasOwnProperty(s[n])&&void 0!==t[s[n]]&&this["set"+e(s[n])](t[s[n]])}o.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof o)this.evalOrigin=t;else if(t instanceof Object)this.evalOrigin=new o(t);else throw TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(","))+")"+(this.getFileName()?"@"+this.getFileName():"")+(t(this.getLineNumber())?":"+this.getLineNumber():"")+(t(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<r.length;u++)o.prototype["get"+e(r[u])]=n(r[u]),o.prototype["set"+e(r[u])]=function(t){return function(e){this[t]=!!e}}(r[u]);for(var c=0;c<i.length;c++)o.prototype["get"+e(i[c])]=n(i[c]),o.prototype["set"+e(i[c])]=function(e){return function(n){if(!t(n))throw TypeError(e+" must be a Number");this[e]=Number(n)}}(i[c]);for(var l=0;l<a.length;l++)o.prototype["get"+e(a[l])]=n(a[l]),o.prototype["set"+e(a[l])]=function(t){return function(e){this[t]=String(e)}}(a[l]);return o},"function"==typeof r&&r.amd?r("stackframe",[],t):"object"==typeof k?k=t():this.StackFrame=t();var T={};e=function(t){"use strict";var e=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(t){return!!t.match(n)},this).map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),a=this.extractLocation(r?r[1]:i.pop());return new t({functionName:i.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:e})},this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter(function(t){return!t.match(r)},this).map(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(n),i=r&&r[1]?r[1]:void 0,a=this.extractLocation(e.replace(n,""));return new t({functionName:i,fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:e})},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),i=[],a=2,s=r.length;a<s;a+=2){var o=n.exec(r[a]);o&&i.push(new t({fileName:o[2],lineNumber:o[1],source:r[a]}))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),i=[],a=0,s=r.length;a<s;a+=2){var o=n.exec(r[a]);o&&i.push(new t({functionName:o[3]||void 0,fileName:o[2],lineNumber:o[1],source:r[a]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter(function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this).map(function(e){var n,r=e.split("@"),i=this.extractLocation(r.pop()),a=r.shift()||"",s=a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return a.match(/\(([^\)]*)\)/)&&(n=a.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")),new t({functionName:s,args:void 0===n||"[arguments not available]"===n?void 0:n.split(","),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})},this)}}},"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],e):"object"==typeof T?T=e(k):this.ErrorStackParser=e(this.StackFrame);var A=T,C=function(t,e,n,r){var i,a,s,o,u;return JSON.stringify((i=t,a=r&&r.redactedKeys?r.redactedKeys:[],s=r&&r.redactedPaths?r.redactedPaths:[],o=[],u=0,function t(e,n){function r(){return n.length>8&&u>25e3}if(u++,n.length>20||r())return"...";if(null===e||"object"!=typeof e)return e;if(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1}(o,e))return"[Circular]";if(o.push(e),"function"==typeof e.toJSON)try{u--;var i=t(e.toJSON(),n);return o.pop(),i}catch(t){return x(t)}if(e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))){u--;var c=t({name:e.name,message:e.message},n);return o.pop(),c}if("[object Array]"===Object.prototype.toString.call(e)){for(var l=[],d=0,f=e.length;d<f;d++){if(r()){l.push("...");break}l.push(t(e[d],n.concat("[]")))}return o.pop(),l}var h={};try{for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){if(function(t,e){for(var n=0,r=t.length;n<r;n++)if(0===e.indexOf(t[n]))return!0;return!1}(s,n.join("."))&&function(t,e){for(var n=0,r=t.length;n<r;n++)if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase()||t[n]&&"function"==typeof t[n].test&&t[n].test(e))return!0;return!1}(a,g)){h[g]="[REDACTED]";continue}if(r()){h[g]="...";break}h[g]=t(function(t,e){try{return t[e]}catch(t){return x(t)}}(e,g),n.concat(g))}}catch(t){}return o.pop(),h}(i,[])),e,n)};function x(t){return"[Throws: "+(t?t.message:"?")+"]"}function R(t,e,n,r){if("string"==typeof n){void 0===r?r=null:null!==r&&"string"!=typeof r&&(r=C(r));var i=e[n];if("number"==typeof i){t[i]={name:n,variant:r};return}t.push({name:n,variant:r}),e[n]=t.length-1}}var O=function(t,e,n){var r=e[n];"number"==typeof r&&(t[r]=null,delete e[n])},L=function(t,e,n){if(u(e)){for(var r=0;r<e.length;++r){var i=e[r];null!==i&&"object"==typeof i&&R(t,n,i.name,i.variant)}return t}},j=function(t){return!!t&&(!!t.stack||!!t.stacktrace||!!t["opera#sourceloc"])&&"string"==typeof(t.stack||t.stacktrace||t["opera#sourceloc"])&&t.stack!==t.name+": "+t.message},P=function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},N=function(t,e,n){if("string"==typeof e){if(!n){delete t[e];return}"__proto__"!==e&&"constructor"!==e&&"prototype"!==e&&t[e]&&delete t[e][n]}},I=function(t,e,n,r){var i,a;if(e){if(null===n)return N(t,e);if("object"==typeof n&&(a=n),"string"==typeof n&&((i={})[n]=r,a=i),a){if("__proto__"===e||"constructor"===e||"prototype"===e)return;t[e]||(t[e]={}),t[e]=b({},t[e],a)}}},V=function(t,e,n){if("string"==typeof e){if(!n)return t[e];if(t[e])return t[e][n]}},q={};function B(){return(B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n=function(t){return{backtrace:function(e){var n=[],r=10;"object"==typeof e&&"number"==typeof e.maxStackSize&&(r=e.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var a=Array(i.arguments.length),s=0;s<a.length;++s)a[s]=i.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new t({functionName:RegExp.$1||void 0,args:a})):n.push(new t({args:a}));try{i=i.caller}catch(t){break}}return n}}},"function"==typeof r&&r.amd?r("stack-generator",["stackframe"],n):"object"==typeof q?q=n(k):this.StackGenerator=n(this.StackFrame);var F=function(){function t(e,n,r,i,a){void 0===r&&(r=[]),void 0===i&&(i=M()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=a,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[H(e,n,t.__type,r)]}var e=t.prototype;return e.addMetadata=function(t,e,n){return I(this._metadata,t,e,n)},e.setTraceCorrelation=function(t,e){"string"==typeof t&&(this._correlation=B({traceId:t},"string"==typeof e?{spanId:e}:{}))},e.getMetadata=function(t,e){return V(this._metadata,t,e)},e.clearMetadata=function(t,e){return N(this._metadata,t,e)},e.addFeatureFlag=function(t,e){void 0===e&&(e=null),R(this._features,this._featuresIndex,t,e)},e.addFeatureFlags=function(t){L(this._features,t,this._featuresIndex)},e.getFeatureFlags=function(){return y(s(this._features,Boolean),function(t){var e=t.name,n=t.variant,r={featureFlag:e};return"string"==typeof n&&(r.variant=n),r})},e.clearFeatureFlag=function(t){O(this._features,this._featuresIndex,t)},e.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},e.getUser=function(){return this._user},e.setUser=function(t,e,n){this._user={id:t,email:e,name:n}},e.toJSON=function(){return{payloadVersion:"4",exceptions:y(this.errors,function(t){return b({},t,{message:t.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},t}(),D=function(t){var e={file:t.fileName,method:$(t.functionName),lineNumber:t.lineNumber,columnNumber:t.columnNumber,code:void 0,inProject:void 0};return!(e.lineNumber>-1)||e.file||e.method||(e.file="global code"),e},$=function(t){return/^global code$/i.test(t)?"global code":t},M=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},U=function(t){return"string"==typeof t?t:""};function H(t,e,n,r){return{errorClass:U(t),errorMessage:U(e),type:n,stacktrace:a(r,function(t,e){var n=D(e);try{if("{}"===JSON.stringify(n))return t;return t.concat(n)}catch(e){return t}},[])}}F.getStacktrace=function(t,e,n){if(j(t))return A.parse(t).slice(e);try{return s(q.backtrace(),function(t){return -1===(t.functionName||"").indexOf("StackGenerator$$")}).slice(1+n)}catch(t){return[]}},F.create=function(t,e,n,r,i,a){void 0===i&&(i=0);var s=Z(t,e,r,a),o=s[0],u=s[1];try{var c=F.getStacktrace(o,u>0?1+u+i:0,1+i);l=new F(o.name,o.message,c,n,t)}catch(e){l=new F(o.name,o.message,[],n,t)}if("InvalidError"===o.name&&l.addMetadata(""+r,"non-error parameter",K(t)),o.cause){var l,d,f=y((function t(e){return e.cause?[e].concat(t(e.cause)):[e]})(o).slice(1),function(t){var e=P(t)&&j(t)?A.parse(t):[],n=Z(t,!0,"error cause")[0];return"InvalidError"===n.name&&l.addMetadata("error cause",K(t)),H(n.name,n.message,F.__type,e)});(d=l.errors).push.apply(d,f)}return l};var K=function(t){return null===t?"null":void 0===t?"undefined":t},Z=function(t,e,n,r){var i,a=0,s=function(t){var e="error cause"===n?"was":"received";r&&r.warn(n+" "+e+' a non-error: "'+t+'"');var i=Error(n+" "+e+' a non-error. See "'+n+'" tab for more detail.');return i.name="InvalidError",i};if(e)switch(typeof t){case"string":case"number":case"boolean":i=Error(String(t)),a+=1;break;case"function":i=s("function"),a+=2;break;case"object":null!==t&&P(t)?i=t:null!==t&&X(t)?((i=Error(t.message||t.errorMessage)).name=t.name||t.errorClass,a+=1):(i=s(null===t?"null":"unsupported object"),a+=2);break;default:i=s("nothing"),a+=2}else P(t)?i=t:(i=s(typeof t),a+=2);if(!j(i))try{throw i}catch(t){j(t)&&(i=t,a=1)}return[i,a]};F.__type="browserjs";var X=function(t){return("string"==typeof t.name||"string"==typeof t.errorClass)&&("string"==typeof t.message||"string"==typeof t.errorMessage)},z=function(t,e,n){var r=0,i=function(){if(r>=t.length)return n(null,!0);e(t[r],function(t,e){return t?n(t):!1===e?n(null,!1):void(r++,i())})};i()},Q=function(t,e,n,r){z(t,function(t,r){if("function"!=typeof t)return r(null);try{if(2!==t.length){var i=t(e);if(i&&"function"==typeof i.then)return i.then(function(t){return setTimeout(function(){return r(null,t)})},function(t){setTimeout(function(){return n(t),r(null,!0)})});return r(null,i)}t(e,function(t,e){if(t)return n(t),r(null);r(null,e)})}catch(t){n(t),r(null)}},r)},J=function(t,e,n,r){for(var i=!1,a=t.slice();!i&&a.length;)try{i=!1===a.pop()(e)}catch(t){r.error("Error occurred in "+n+" callback, continuing anyway…"),r.error(t)}return i},G=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},W="object"==typeof window?window:self,Y=0;for(var tt in W)Object.hasOwnProperty.call(W,tt)&&Y++;var te=G(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+Y.toString(36),4),tn=function(){return te},tr=0;function ti(){return G((1679616*Math.random()<<0).toString(36),4)}function ta(){return"c"+new Date().getTime().toString(36)+G((tr=tr<1679616?tr:0,++tr-1).toString(36),4)+tn()+(ti()+ti())}ta.fingerprint=tn;var ts=function(){function t(){this.id=ta(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var e=t.prototype;return e.getUser=function(){return this._user},e.setUser=function(t,e,n){this._user={id:t,email:e,name:n}},e.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},e._track=function(t){this[t._handledState.unhandled?"_unhandled":"_handled"]+=1},t}(),to=function(){},tu=function(){function t(e,n,r,i){var a=this;void 0===n&&(n=p.schema),void 0===r&&(r=[]),this._notifier=i,this._config={},this._schema=n,this._delivery={sendSession:to,sendEvent:to},this._logger={debug:to,info:to,warn:to,error:to},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=t,this.Event=F,this.Breadcrumb=E,this.Session=ts,this._config=this._configure(e,r),y(r.concat(this._config.plugins),function(t){t&&a._loadPlugin(t)}),this._depth=1;var s=this,o=this.notify;this.notify=function(){return o.apply(s,arguments)}}var e=t.prototype;return e.addMetadata=function(t,e,n){return I(this._metadata,t,e,n)},e.getMetadata=function(t,e){return V(this._metadata,t,e)},e.clearMetadata=function(t,e){return N(this._metadata,t,e)},e.addFeatureFlag=function(t,e){void 0===e&&(e=null),R(this._features,this._featuresIndex,t,e)},e.addFeatureFlags=function(t){L(this._features,t,this._featuresIndex)},e.clearFeatureFlag=function(t){O(this._features,this._featuresIndex,t)},e.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},e.getContext=function(){return this._context},e.setContext=function(t){this._context=t},e._configure=function(t,e){var n=a(e,function(t,e){return e&&e.configSchema?b({},t,e.configSchema):t},this._schema),r=a(d(n),function(e,r){var i=n[r].defaultValue(t[r]);return void 0!==t[r]?n[r].validate(t[r])?n[r].allowPartialObject?e.config[r]=b(i,t[r]):e.config[r]=t[r]:(e.errors[r]=n[r].message,e.config[r]=i):e.config[r]=i,e},{errors:{},config:{}}),i=r.errors,s=r.config;if(n.apiKey){if(!s.apiKey)throw Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(s.apiKey)||(i.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=b({},s.metadata),L(this._features,s.featureFlags,this._featuresIndex),this._user=b({},s.user),this._context=s.context,s.logger&&(this._logger=s.logger),s.onError&&(this._cbs.e=this._cbs.e.concat(s.onError)),s.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(s.onBreadcrumb)),s.onSession&&(this._cbs.s=this._cbs.s.concat(s.onSession)),d(i).length&&this._logger.warn(tc(i,t)),s},e.getUser=function(){return this._user},e.setUser=function(t,e,n){this._user={id:t,email:e,name:n}},e._loadPlugin=function(t){var e=t.load(this);return t.name&&(this._plugins["~"+t.name+"~"]=e),this},e.getPlugin=function(t){return this._plugins["~"+t+"~"]},e._setDelivery=function(t){this._delivery=t(this)},e.startSession=function(){var t=new ts;return(t.app.releaseStage=this._config.releaseStage,t.app.version=this._config.appVersion,t.app.type=this._config.appType,t._user=b({},this._user),J(this._cbs.s,t,"onSession",this._logger))?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,t)},e.addOnError=function(t,e){void 0===e&&(e=!1),this._cbs.e[e?"unshift":"push"](t)},e.removeOnError=function(t){this._cbs.e=s(this._cbs.e,function(e){return e!==t})},e._addOnSessionPayload=function(t){this._cbs.sp.push(t)},e.addOnSession=function(t){this._cbs.s.push(t)},e.removeOnSession=function(t){this._cbs.s=s(this._cbs.s,function(e){return e!==t})},e.addOnBreadcrumb=function(t,e){void 0===e&&(e=!1),this._cbs.b[e?"unshift":"push"](t)},e.removeOnBreadcrumb=function(t){this._cbs.b=s(this._cbs.b,function(e){return e!==t})},e.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},e.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},e.leaveBreadcrumb=function(t,e,n){if(t="string"==typeof t?t:"",n="string"==typeof n&&o(i,n)?n:"manual",e="object"==typeof e&&null!==e?e:{},t){var r=new E(t,e,n);if(J(this._cbs.b,r,"onBreadcrumb",this._logger)){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(r),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},e._isBreadcrumbTypeEnabled=function(t){var e=this._config.enabledBreadcrumbTypes;return null===e||o(e,t)},e.notify=function(t,e,n){void 0===n&&(n=to);var r=F.create(t,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,e,n)},e._notify=function(e,n,r){var i=this;if(void 0===r&&(r=to),e.app=b({},e.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),e.context=e.context||this._context,e._metadata=b({},e._metadata,this._metadata),e._user=b({},e._user,this._user),e.breadcrumbs=this._breadcrumbs.slice(),L(e._features,this._features,e._featuresIndex),null!==this._config.enabledReleaseStages&&!o(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),r(null,e);var a=e.severity,s=function(t){i._logger.error("Error occurred in onError callback, continuing anyway…"),i._logger.error(t)};Q([].concat(this._cbs.e).concat(n),e,s,function(n,o){if(n&&s(n),!o)return i._logger.debug("Event not sent due to onError callback"),r(null,e);i._isBreadcrumbTypeEnabled("error")&&t.prototype.leaveBreadcrumb.call(i,e.errors[0].errorClass,{errorClass:e.errors[0].errorClass,errorMessage:e.errors[0].errorMessage,severity:e.severity},"error"),a!==e.severity&&(e._handledState.severityReason={type:"userCallbackSetSeverity"}),e.unhandled!==e._handledState.unhandled&&(e._handledState.severityReason.unhandledOverridden=!0,e._handledState.unhandled=e.unhandled),i._session&&(i._session._track(e),e._session=i._session),i._delivery.sendEvent({apiKey:e.apiKey||i._config.apiKey,notifier:i._notifier,events:[e]},function(t){return r(t,e)})})},t}(),tc=function(t,e){return Error("Invalid configuration\n"+y(d(t),function(n){return"  - "+n+" "+t[n]+", got "+tl(e[n])}).join("\n\n"))},tl=function(t){switch(typeof t){case"string":case"number":case"object":return JSON.stringify(t);default:return String(t)}},td={},tf=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];td.event=function(t,e){var n=C(t,null,null,{redactedPaths:tf,redactedKeys:e});return n.length>1e6&&(t.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+n.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},n=C(t,null,null,{redactedPaths:tf,redactedKeys:e})),n},td.session=function(t,e){return C(t,null,null)};var th={},tg=function(t,e,n,r){var i=JSON.parse(JSON.stringify(new Date));return tp(t.endpoints[e],r.location.protocol)+"?apiKey="+encodeURIComponent(t.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(i)},tp=(th=function(t,e){return void 0===e&&(e=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});var i=tg(t._config,"notify","4",e),a=td.event(n,t._config.redactedKeys),s=new e.XDomainRequest;s.onload=function(){r(null)},s.onerror=function(){var e=Error("Event failed to send");t._logger.error("Event failed to send…",e),a.length>1e6&&t._logger.warn("Event oversized ("+(a.length/1e6).toFixed(2)+" MB)"),r(e)},s.open("POST",i),setTimeout(function(){try{s.send(a)}catch(e){t._logger.error(e),r(e)}},0)},sendSession:function(n,r){void 0===r&&(r=function(){});var i=tg(t._config,"sessions","1",e),a=new e.XDomainRequest;a.onload=function(){r(null)},a.open("POST",i),setTimeout(function(){try{a.send(td.session(n,t._config.redactedKeys))}catch(e){t._logger.error(e),r(e)}},0)}}})._matchPageProtocol=function(t,e){return"http:"===e?t.replace(/^https:/,"http:"):t},tm=function(t,e){return void 0===e&&(e=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var i=t._config.endpoints.notify,a=new e.XMLHttpRequest,s=td.event(n,t._config.redactedKeys);a.onreadystatechange=function(){if(a.readyState===e.XMLHttpRequest.DONE){var n=a.status;if(0===n||n>=400){var i=Error("Request failed with status "+n);t._logger.error("Event failed to send…",i),s.length>1e6&&t._logger.warn("Event oversized ("+(s.length/1e6).toFixed(2)+" MB)"),r(i)}else r(null)}},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Bugsnag-Api-Key",n.apiKey||t._config.apiKey),a.setRequestHeader("Bugsnag-Payload-Version","4"),a.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),a.send(s)}catch(e){t._logger.error(e)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var i=t._config.endpoints.sessions,a=new e.XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===e.XMLHttpRequest.DONE){var n=a.status;if(0===n||n>=400){var i=Error("Request failed with status "+n);t._logger.error("Session failed to send…",i),r(i)}else r(null)}},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Bugsnag-Api-Key",t._config.apiKey),a.setRequestHeader("Bugsnag-Payload-Version","1"),a.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),a.send(td.session(n,t._config.redactedKeys))}catch(e){t._logger.error(e)}}}},tb=new Date,ty=function(){tb=new Date},tv={name:"appDuration",load:function(t){return t.addOnError(function(t){var e=new Date;t.app.duration=e-tb},!0),{reset:ty}}},tS=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},tw="object"==typeof window?window:self,t_=0;for(var tE in tw)Object.hasOwnProperty.call(tw,tE)&&t_++;var tk=tS(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+t_.toString(36),4),tT=function(){return tk},tA=0;function tC(){return tS((1679616*Math.random()<<0).toString(36),4)}function tx(){return"c"+new Date().getTime().toString(36)+tS((tA=tA<1679616?tA:0,++tA-1).toString(36),4)+tT()+(tC()+tC())}tx.fingerprint=tT;var tR="bugsnag-anonymous-id",tO=function(t){try{var e=t.localStorage,n=e.getItem(tR);if(n&&/^c[a-z0-9]{20,32}$/.test(n))return n;return n=tx(),e.setItem(tR,n),n}catch(t){}},tL=function(t){var e=t.getUser();e&&e.id||t.setUser(t.device.id)},tj={load:function(t){t._sessionDelegate=tP}},tP={startSession:function(t,e){return(t._session=e,t._pausedSession=null,null===t._config.enabledReleaseStages||o(t._config.enabledReleaseStages,t._config.releaseStage))?t._delivery.sendSession({notifier:t._notifier,device:e.device,app:e.app,sessions:[{id:e.id,startedAt:e.startedAt,user:e._user}]}):t._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),t},resumeSession:function(t){return t._session?t:t._pausedSession?(t._session=t._pausedSession,t._pausedSession=null,t):t.startSession()},pauseSession:function(t){t._pausedSession=t._session,t._session=null}},tN={load:function(t){t._config.collectUserIp||t.addOnError(function(t){t._user&&void 0===t._user.id&&delete t._user.id,t._user=b({id:"[REDACTED]"},t._user),t.request=b({clientIp:"[REDACTED]"},t.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(t){return!0===t||!1===t}}}},tI={};tI.load=function(t){!/^(local-)?dev(elopment)?$/.test(t._config.releaseStage)&&t._isBreadcrumbTypeEnabled("log")&&y(tV,function(e){var n=console[e];console[e]=function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];t.leaveBreadcrumb("Console output",a(i,function(t,e,n){var r="[Unknown value]";try{r=String(e)}catch(t){}if("[object Object]"===r)try{r=JSON.stringify(e)}catch(t){}return t["["+n+"]"]=r,t},{severity:0===e.indexOf("group")?"log":e}),"log"),n.apply(console,i)},console[e]._restore=function(){console[e]=n}})};var tV=s(["log","debug","info","warn","error"],function(t){return"undefined"!=typeof console&&"function"==typeof console[t]});function tq(t,e,n){var r=t[e];if(!r)return r;var i=n(r);return t[e]=i,r}function tB(t){var e=!!t[1]&&"function"==typeof t[1].handleEvent;return{get:function(){return e?t[1].handleEvent:t[1]},replace:function(n){e?t[1].handleEvent=n:t[1]=n}}}var tF=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/,tD={};tD=function(t){return void 0===t&&(t=window),{load:function(e){if("addEventListener"in t&&e._isBreadcrumbTypeEnabled("navigation")){var n=function(t){return function(){return e.leaveBreadcrumb(t,{},"navigation")}};t.addEventListener("pagehide",n("Page hidden"),!0),t.addEventListener("pageshow",n("Page shown"),!0),t.addEventListener("load",n("Page loaded"),!0),t.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),t.addEventListener("load",function(){return t.addEventListener("popstate",n("Navigated back"),!0)}),t.addEventListener("hashchange",function(n){var r=n.oldURL?{from:t$(n.oldURL,t),to:t$(n.newURL,t),state:tH(t)}:{to:t$(t.location.href,t)};e.leaveBreadcrumb("Hash changed",r,"navigation")},!0),t.history.replaceState&&tU(e,t.history,"replaceState",t),t.history.pushState&&tU(e,t.history,"pushState",t)}}}};var t$=function(t,e){var n=e.document.createElement("A");return n.href=t,""+n.pathname+n.search+n.hash},tM=function(t,e,n,r){var i=t$(t.location.href,t);return{title:n,state:e,prevState:tH(t),to:r||i,from:i}},tU=function(t,e,n,r){var i=e[n];e[n]=function(a,s,o){t.leaveBreadcrumb("History "+n,tM(r,a,s,o),"navigation"),"function"==typeof t.resetEventCount&&t.resetEventCount(),t._config.autoTrackSessions&&t.startSession(),i.apply(e,[a,s].concat(void 0!==o?o:[]))}},tH=function(t){try{return t.history.state}catch(t){}},tK="request",tZ={load:function(t){var e=0;t.addOnError(function(n){if(e>=t._config.maxEvents)return t._logger.warn("Cancelling event send due to maxEvents per session limit of "+t._config.maxEvents+" being reached"),!1;e++}),t.resetEventCount=function(){e=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(t){return f(1,100)(t)}}}},tX={},tz=(tX={load:function(t){t.addOnError(function(t){y(a(t.errors,function(t,e){return t.concat(e.stacktrace)},[]),function(t){t.file=tz(t.file)})})}})._strip=function(t){return"string"==typeof t?t.replace(/\?.*$/,"").replace(/#.*$/,""):t},tQ=function(t,e,n,r){t[0]||t.push({});var i=t[0];i.file||"string"!=typeof e||(i.file=e),!i.lineNumber&&tJ(n)&&(i.lineNumber=n),!i.columnNumber&&(tJ(r)?i.columnNumber=r:window.event&&tJ(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},tJ=function(t){return"number"==typeof t&&"NaN"!==String.call(t)},tG={},tW=b({},p.schema,w),tY={_client:null,createClient:function(t){"string"==typeof t&&(t={apiKey:t}),t||(t={});var e,n,r,i,u,c,l,d,f,h,g,p,m=new tu(t,tW,[tv,(void 0===e&&(e=navigator),void 0===n&&(n=window),{load:function(t){var r={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};n&&n.screen&&n.screen.orientation&&n.screen.orientation.type?r.orientation=n.screen.orientation.type:n&&n.document&&(r.orientation=n.document.documentElement.clientWidth>n.document.documentElement.clientHeight?"landscape":"portrait"),t._config.generateAnonymousId&&(r.id=tO(n)),t.addOnSession(function(e){e.device=b({},e.device,r),t._config.collectUserIp||tL(e)}),t.addOnError(function(e){e.device=b({},e.device,r,{time:new Date}),t._config.collectUserIp||tL(e)},!0)},configSchema:{generateAnonymousId:{validate:function(t){return!0===t||!1===t},defaultValue:function(){return!0},message:"should be true|false"}}}),(void 0===r&&(r=window),{load:function(t){t.addOnError(function(t){void 0===t.context&&(t.context=r.location.pathname)},!0)}}),(void 0===i&&(i=window),{load:function(t){t.addOnError(function(t){t.request&&t.request.url||(t.request=b({},t.request,{url:i.location.href}))},!0)}}),tZ,tj,tN,tX,(void 0===u&&(u=window),void 0===c&&(c="window onerror"),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledExceptions){var e=u.onerror;u.onerror=function(n,r,i,a,s){if(0===i&&/Script error\.?/.test(n))t._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var o,u={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(s)tQ((o=t.Event.create(s,!0,u,c,1)).errors[0].stacktrace,r,i,a);else if("object"!=typeof n||null===n||r&&"string"==typeof r||i||a||s)tQ((o=t.Event.create(n,!0,u,c,1)).errors[0].stacktrace,r,i,a);else{var l=n.type?"Event: "+n.type:"Error",d=n.message||n.detail||"";(o=t.Event.create({name:l,message:d},!0,u,c,1)).originalError=n,o.addMetadata(c,{event:n,extraParameters:r})}t._notify(o)}"function"==typeof e&&e.apply(this,arguments)}}}}),(void 0===l&&(l=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledRejections){var e=function(e){var n,r=e.reason,i=!1;try{e.detail&&e.detail.reason&&(r=e.detail.reason,i=!0)}catch(t){}var a=t.Event.create(r,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,t._logger);i&&y(a.errors[0].stacktrace,(n=r,function(t){t.file!==n.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))})),t._notify(a,function(t){if(P(t.originalError)&&!t.originalError.stack){var e;t.addMetadata("unhandledRejection handler",((e={})[Object.prototype.toString.call(t.originalError)]={name:t.originalError.name,message:t.originalError.message,code:t.originalError.code},e))}})};"addEventListener"in l?l.addEventListener("unhandledrejection",e):l.onunhandledrejection=function(t,n){e({detail:{reason:t,promise:n}})}}}}),tD(),(void 0===d&&(d=window),{load:function(t){"addEventListener"in d&&t._isBreadcrumbTypeEnabled("user")&&d.addEventListener("click",function(e){var n,r,i,a;try{(a=(i=e.target).textContent||i.innerText||"")||"submit"!==i.type&&"button"!==i.type||(a=i.value),n=(a=a.replace(tF,"$1")).length>140?a.slice(0,135)+"(...)":a,r=function t(e,n){var r=[e.tagName];if(e.id&&r.push("#"+e.id),e.className&&e.className.length&&r.push("."+e.className.split(" ").join(".")),!n.document.querySelectorAll||!Array.prototype.indexOf)return r.join("");try{if(1===n.document.querySelectorAll(r.join("")).length)return r.join("")}catch(t){return r.join("")}if(e.parentNode.childNodes.length>1){var i=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;r.push(":nth-child("+i+")")}return 1===n.document.querySelectorAll(r.join("")).length?r.join(""):e.parentNode?t(e.parentNode,n)+" > "+r.join(""):r.join("")}(e.target,d)}catch(e){n="[hidden]",r="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:n,targetSelector:r},"user")},!0)}}),(void 0===f&&(f=[]),void 0===h&&(h=window),{load:function(t){if(t._isBreadcrumbTypeEnabled("request")){var e=[t._config.endpoints.notify,t._config.endpoints.sessions].concat(f);(function(){if("addEventListener"in h.XMLHttpRequest.prototype){var n=h.XMLHttpRequest.prototype.open;h.XMLHttpRequest.prototype.open=function(r,i){var a=this,s=!1;this.addEventListener("load",function(){return function(n,r,i){if(void 0===r){t._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!("string"==typeof r&&o(e,r.replace(/\?.*$/,"")))){var a={status:i,request:n+" "+r};i>=400?t.leaveBreadcrumb("XMLHttpRequest failed",a,tK):t.leaveBreadcrumb("XMLHttpRequest succeeded",a,tK)}}(r,i,a.status)}),this.addEventListener("error",function(){return function(n,r){if(void 0===r){t._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}!("string"==typeof r&&o(e,r.replace(/\?.*$/,"")))&&t.leaveBreadcrumb("XMLHttpRequest error",{request:n+" "+r},tK)}(r,i)}),n.apply(this,arguments)}}})(),function(){if("fetch"in h&&!h.fetch.polyfill){var t=h.fetch;h.fetch=function(){var e,i=arguments,a=arguments[0],s=arguments[1],o=null;return a&&"object"==typeof a?(o=a.url,s&&"method"in s?e=s.method:a&&"method"in a&&(e=a.method)):(o=a,s&&"method"in s&&(e=s.method)),void 0===e&&(e="GET"),new Promise(function(a,s){t.apply(void 0,i).then(function(t){n(t,e,o),a(t)}).catch(function(t){r(e,o),s(t)})})}}}();var n=function(e,n,r){var i={status:e.status,request:n+" "+r};e.status>=400?t.leaveBreadcrumb("fetch() failed",i,tK):t.leaveBreadcrumb("fetch() succeeded",i,tK)},r=function(e,n){t.leaveBreadcrumb("fetch() error",{request:e+" "+n},tK)}}}}),tI,(void 0===g&&(g=document),void 0===p&&(p=window),{load:function(t){if(t._config.trackInlineScripts){var e=p.location.href,n="",r=g.attachEvent?"complete"===g.readyState:"loading"!==g.readyState,i=function(){return g.documentElement.outerHTML};n=i();var o=g.onreadystatechange;g.onreadystatechange=function(){"interactive"===g.readyState&&(n=i(),r=!0);try{o.apply(this,arguments)}catch(t){}};var u=null,c=function(t){u=t},l=function(){var t=g.currentScript||u;if(!t&&!r){var e=g.scripts||g.getElementsByTagName("script");t=e[e.length-1]}return t},d=function(t){r&&n||(n=i());var e=["\x3c!-- DOC START --\x3e"].concat(n.split("\n")),s=t-1,o=Math.max(s-3,0),u=Math.min(s+3,e.length);return a(e.slice(o,u),function(t,e,n){return t[o+1+n]=e.length<=200?e:e.substr(0,200),t},{})};t.addOnError(function(t){t.errors[0].stacktrace=s(t.errors[0].stacktrace,function(t){return!/__trace__$/.test(t.method)});var n=t.errors[0].stacktrace[0],r=function(t){return t.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!n||!n.file||r(n.file)===r(e)){var i=l();if(i){var a=i.innerHTML;t.addMetadata("script","content",a.length<=5e5?a:a.substr(0,5e5)),n&&n.lineNumber&&(n.code=d(n.lineNumber))}}},!0);var f=y(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(t){return tq(p,t,function(t){return h(t,function(t){return{get:function(){return t[0]},replace:function(e){t[0]=e}}})})})[0];y(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(t){p[t]&&p[t].prototype&&Object.prototype.hasOwnProperty.call(p[t].prototype,"addEventListener")&&(tq(p[t].prototype,"addEventListener",function(t){return h(t,tB)}),tq(p[t].prototype,"removeEventListener",function(t){return h(t,tB,!0)}))})}function h(t,e,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var i=e(r),a=i.get();if(n&&t.apply(this,r),"function"!=typeof a)return t.apply(this,r);if(a.__trace__)i.replace(a.__trace__);else{var s=l();a.__trace__=function(){c(s),f(function(){c(null)},0);var t=a.apply(this,arguments);return c(null),t},a.__trace__.__trace__=a.__trace__,i.replace(a.__trace__)}}catch(t){}if(t.apply)return t.apply(this,r);switch(r.length){case 1:return t(r[0]);case 2:return t(r[0],r[1]);default:return t()}}}},configSchema:{trackInlineScripts:{validate:function(t){return!0===t||!1===t},defaultValue:function(){return!0},message:"should be true|false"}}})],{name:"Bugsnag JavaScript",version:"7.25.0",url:"https://github.com/bugsnag/bugsnag-js"});return m._setDelivery(window.XDomainRequest?th:tm),m._logger.debug("Loaded!"),m.leaveBreadcrumb("Bugsnag loaded",{},"state"),m._config.autoTrackSessions?m.startSession():m},start:function(t){return tY._client?tY._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."):tY._client=tY.createClient(t),tY._client},isStarted:function(){return null!=tY._client}};return y(["resetEventCount"].concat(d(tu.prototype)),function(t){/^_/.test(t)||(tY[t]=function(){if(!tY._client)return console.log("Bugsnag."+t+"() was called before Bugsnag.start()");tY._client._depth+=1;var e=tY._client[t].apply(tY._client,arguments);return tY._client._depth-=1,e})}),(tG=tY).Client=tu,tG.Event=F,tG.Session=ts,tG.Breadcrumb=E,tG.default=tY,tG},t.exports=e()},681298:function(t,e,n){var r=n(377001),i=n(996404),a=n(74568),s=0;function o(){return a((1679616*Math.random()<<0).toString(36),4)}function u(){return"c"+new Date().getTime().toString(36)+a((s=s<1679616?s:0,++s-1).toString(36),4)+r()+(o()+o())}u.fingerprint=r,u.isCuid=i,t.exports=u},377001:function(t,e,n){var r=n(74568),i="object"==typeof window?window:self,a=0;for(var s in i)Object.hasOwnProperty.call(i,s)&&a++;var o=r(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+a.toString(36),4);t.exports=function(){return o}},996404:function(t){t.exports=function(t){return"string"==typeof t&&/^c[a-z0-9]{20,32}$/.test(t)}},74568:function(t){t.exports=function(t,e){var n="000000000"+t;return n.substr(n.length-e)}},395552:function(t,e,n){t.exports=n(599271)},257538:function(t){var e;e=function(){var t={};function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}t=function(){function t(){var t="undefined"!=typeof window&&window.React;if(this.name="react",this.lazy=0==arguments.length&&!t,!this.lazy&&(this.React=(arguments.length<=0?void 0:arguments[0])||t,!this.React))throw Error("@bugsnag/plugin-react reference to `React` was undefined")}return t.prototype.load=function(t){if(!this.lazy){var e=i(this.React,t);return e.createErrorBoundary=function(){return e},e}var n=function(){throw Error("@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\nPass React to the plugin constructor\n\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })`\nand then call `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()`\n\nOr if React is not available until after Bugsnag has started,\nconstruct the plugin with no arguments\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact()] })`,\nthen pass in React when available to construct your error boundary\n  `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)`")};return n.createErrorBoundary=function(e){if(!e)throw Error("@bugsnag/plugin-react reference to `React` was undefined");return i(e,t)},n},t}();var r=function(t){for(var e=t.split(/\s*\n\s*/g),n="",r=0,i=e.length;r<i;r++)e[r].length&&(n+=(n.length?"\n":"")+e[r]);return n},i=function(t,i){return function(a){function s(t){var e;return(e=a.call(this,t)||this).state={error:null,info:null},e.handleClearError=e.handleClearError.bind(function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)),e}s.prototype=Object.create(a.prototype),s.prototype.constructor=s,n(s,a);var o=s.prototype;return o.handleClearError=function(){this.setState({error:null,info:null})},o.componentDidCatch=function(t,e){var n=this.props.onError,a=i.Event.create(t,!0,{severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},1);e&&e.componentStack&&(e.componentStack=r(e.componentStack)),a.addMetadata("react",e),i._notify(a,n),this.setState({error:t,info:e})},o.render=function(){if(this.state.error){var n=this.props.FallbackComponent;return n?t.createElement(n,e({},this.state,{clearError:this.handleClearError})):null}return this.props.children},s}(t.Component)};return t.formatComponentStack=r,t.default=t,t},t.exports=e()},749156:function(t,e,n){"use strict";n.d(e,{c:()=>s});var r=n(888151),i=n(735574),a=n(559015);class s{constructor(t,e,n,r,i,a,s){this.wasBackgrounded=!1,this.document=t,this.location=e,this.spanFactory=n,this.webVitals=r,this.onSettle=i,this.performance=s,a.onStateChange(t=>{this.wasBackgrounded||"in-background"!==t||(this.wasBackgrounded=!0)})}configure(t){if(!t.autoInstrumentFullPageLoads||this.wasBackgrounded)return;let e=null,n=document.querySelector('meta[name="traceparent"]');if(null!==n&&n.getAttribute("content")){let[,t,r]=n.getAttribute("content").split("-");e={traceId:t,id:r}}let s=this.spanFactory.startSpan("[FullPageLoad]",{startTime:0,parentContext:e}),o=(0,r.zq)(t.sendPageAttributes),u=new URL(this.location.href);this.onSettle(e=>{if(this.wasBackgrounded)return;let n=t.routingProvider.resolveRoute(u)||(0,a.j8)(u);s.name+=n,(0,i.U)(this.spanFactory,this.performance,n,s),s.setAttribute("bugsnag.span.category","full_page_load"),s.setAttribute("bugsnag.browser.page.route",n),o.referrer&&s.setAttribute("bugsnag.browser.page.referrer",this.document.referrer),o.title&&s.setAttribute("bugsnag.browser.page.title",this.document.title),o.url&&s.setAttribute("bugsnag.browser.page.url",u.toString()),this.webVitals.attachTo(s),this.spanFactory.endSpan(s,e)})}}},592581:function(t,e,n){"use strict";n.d(e,{A:()=>s});var r=n(428099),i=n(292625);let a=["http://","https://","/","./","../"];class s{constructor(t,e,n,r){this.spanFactory=t,this.spanContextStorage=e,this.fetchTracker=n,this.xhrTracker=r,this.configEndpoint="",this.networkRequestCallback=i.S,this.logger={debug:console.debug,warn:console.warn,info:console.info,error:console.error},this.trackRequest=t=>{if(!this.shouldTrackRequest(t))return;let e={url:t.url,type:t.type,propagateTraceContext:!1},n=this.networkRequestCallback(e);if(!n)return{onRequestEnd:void 0,extraRequestHeaders:void 0};if(void 0===n.propagateTraceContext&&(n.propagateTraceContext=!1),!n.url)return{onRequestEnd:void 0,extraRequestHeaders:n.propagateTraceContext?this.getExtraRequestHeaders():void 0};if("string"!=typeof n.url){this.logger.warn(`expected url to be a string following network request callback, got ${typeof n.url}`);return}let r=this.spanFactory.startNetworkSpan({method:t.method,startTime:t.startTime,url:n.url});return{onRequestEnd:t=>{"success"===t.state&&this.spanFactory.endSpan(r,t.endTime,{"http.status_code":t.status})},extraRequestHeaders:n.propagateTraceContext?this.getExtraRequestHeaders(r):void 0}}}configure(t){this.logger=t.logger,t.autoInstrumentNetworkRequests&&(this.configEndpoint=t.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest),this.networkRequestCallback=t.networkRequestCallback)}shouldTrackRequest(t){return t.url!==this.configEndpoint&&a.some(e=>t.url.startsWith(e))}getExtraRequestHeaders(t){let e={};if(t){let n=t.traceId,r=t.id,i=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=o(n,r,i),e.tracestate=u(n)}else if(this.spanContextStorage.current){let t=this.spanContextStorage.current,n=t.traceId,r=t.id,i=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=o(n,r,i),e.tracestate=u(n)}return e}}function o(t,e,n){return`00-${t}-${e}-${n?"01":"00"}`}function u(t){return`sb=v:1;r32:${(0,r.Am)(t)}`}},735574:function(t,e,n){"use strict";n.d(e,{U:()=>r});let r=(t,e,n,r)=>{function i(e,i,a){if(void 0===i||void 0===a||0===i&&0===a)return;let s=t.startSpan(`[PageLoadPhase/${e}]${n}`,{startTime:i,parentContext:r,makeCurrentContext:!1});s.setAttribute("bugsnag.span.category","page_load_phase"),s.setAttribute("bugsnag.phase",e),t.endSpan(s,a)}let a=e.getEntriesByType("navigation"),s=Array.isArray(a)&&a[0];if(s){i("Unload",s.unloadEventStart,s.unloadEventEnd),i("Redirect",s.redirectStart,s.redirectEnd),i("LoadFromCache",s.fetchStart,s.domainLookupStart),i("DNSLookup",s.domainLookupStart,s.domainLookupEnd);let t=s.secureConnectionStart||s.connectEnd;i("TCPHandshake",s.connectStart,t),i("TLS",s.secureConnectionStart,s.connectEnd),i("HTTPRequest",s.requestStart,s.responseStart),i("HTTPResponse",s.responseStart,s.responseEnd),i("DomContentLoadedEvent",s.domContentLoadedEventStart,s.domContentLoadedEventEnd),i("LoadEvent",s.loadEventStart,s.loadEventEnd)}}},761414:function(t,e,n){"use strict";n.d(e,{p:()=>r});class r{constructor(t,e,n){this.spanFactory=t,this.spanContextStorage=e,this.PerformanceObserverClass=n}configure(t){var e;if(!((e=this.PerformanceObserverClass)&&Array.isArray(e.supportedEntryTypes)&&e.supportedEntryTypes.includes("resource")))return;let n=new this.PerformanceObserverClass(e=>{for(let n of e.getEntries()){if("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)continue;let e=this.spanContextStorage.first;if(e){let r=t.networkRequestCallback({url:n.name,type:n.initiatorType});if(!r)return;if("string"!=typeof r.url){t.logger.warn(`expected url to be a string following network request callback, got ${typeof r.url}`);return}let i="";try{let t=new URL(r.url);t.search="",i=t.href}catch(e){t.logger.warn(`Unable to parse URL returned from networkRequestCallback: ${r.url}`);return}let a=this.spanFactory.startSpan(`[ResourceLoad]${i}`,{parentContext:e,startTime:n.startTime,makeCurrentContext:!1});a.setAttribute("bugsnag.span.category","resource_load"),a.setAttribute("http.url",r.url);let s=function(t){switch(t){case"":return;case"http/1.0":return"1.0";case"http/1.1":return"1.1";case"h2":case"h2c":return"2.0";case"h3":return"3.0";case"spdy/1":case"spdy/2":case"spdy/3":return"SPDY";default:return t}}(n.nextHopProtocol);s&&a.setAttribute("http.flavor",s),n.encodedBodySize&&n.decodedBodySize&&(a.setAttribute("http.response_content_length",n.encodedBodySize),a.setAttribute("http.response_content_length_uncompressed",n.decodedBodySize)),n.responseStatus&&a.setAttribute("http.status_code",n.responseStatus),this.spanFactory.endSpan(a,n.responseEnd)}}});try{n.observe({type:"resource",buffered:!0})}catch(e){t.logger.warn("Unable to get previous resource loads as buffered observer not supported, only showing resource loads from this point on"),n.observe({entryTypes:["resource"]})}}}},370266:function(t,e,n){"use strict";n.d(e,{X:()=>l});var r=n(428099),i=n(888151),a=n(559015);let{startTime:s,parentContext:o,makeCurrentContext:u}=r.I_,c={startTime:s,parentContext:o,makeCurrentContext:u,trigger:{getDefaultValue:t=>String(t),message:"should be a string",validate:r.HD}};class l{constructor(t,e,n){this.spanFactory=t,this.location=e,this.document=n}configure(t){if(!t.autoInstrumentRouteChanges)return;let e=new URL(this.location.href),n=t.routingProvider.resolveRoute(e)||(0,a.j8)(e),s=(0,i.zq)(t.sendPageAttributes);t.routingProvider.listenForRouteChanges((e,i,o)=>{let u;if(e instanceof URL)u=e;else try{let t=String(e);u=new URL(t)}catch(e){return t.logger.warn("Invalid span options\n  - url should be a URL"),{id:"",name:"",traceId:"",samplingRate:0,isValid:()=>!1,setAttribute:()=>{},end:()=>{}}}let l={...o,trigger:i},d=this.spanFactory.validateSpanOptions("[RouteChange]",l,c),f=t.routingProvider.resolveRoute(u)||(0,a.j8)(u);d.name+=f;let h=this.spanFactory.startSpan(d.name,d.options);return h.setAttribute("bugsnag.span.category","route_change"),h.setAttribute("bugsnag.browser.page.route",f),h.setAttribute("bugsnag.browser.page.previous_route",n),h.setAttribute("bugsnag.browser.page.route_change.trigger",d.options.trigger),s.url&&h.setAttribute("bugsnag.browser.page.url",e.toString()),n=f,{get id(){return h.id},get traceId(){return h.traceId},get samplingRate(){return h.samplingRate},get name(){return h.name},isValid:h.isValid,setAttribute:h.setAttribute,end:e=>{let i=(0,r.Kn)(e)?e:{endTime:e};if(s.title&&h.setAttribute("bugsnag.browser.page.title",this.document.title),i.url){var o;let e="string"==typeof(o=i.url)?new URL(o):o,r=t.routingProvider.resolveRoute(e)||(0,a.j8)(e);h.name=`[RouteChange]${r}`,h.setAttribute("bugsnag.browser.page.route",r),n=r,s.url&&h.setAttribute("bugsnag.browser.page.url",e.toString())}this.spanFactory.toPublicApi(h).end(i.endTime)}}})}}},444742:function(t,e,n){"use strict";function r(t){let e=[],n="hidden"===t.document.visibilityState?"in-background":"in-foreground",r=t=>{if(n!==t)for(let r of(n=t,e))r(n)};return t.document.addEventListener("visibilitychange",function(){r("hidden"===t.document.visibilityState?"in-background":"in-foreground")}),t.addEventListener("pagehide",function(){r("in-background")}),t.addEventListener("pageshow",function(){r("in-foreground")}),{onStateChange(t){e.push(t),"in-background"===n&&t(n)}}}n.d(e,{Z:()=>r})},616566:function(t,e,n){"use strict";let r,i,a;n.d(e,{ZP:()=>k});var s=n(428099),o=n(584774),u=n(188501),c=n(592828),l=n(749156),d=n(592581),f=n(761414),h=n(370266),g=n(444742),p=n(642865),m=n(15019),b=n(559015),y=n(460938),v=n(755151),S=n(446252),w=n(782166),_=n(683860),E=n(886534);if("undefined"==typeof window||"undefined"==typeof document)r=(0,v.$)(),i=(0,b.Uj)(),a=(0,s.Ou)();else{let t=(0,g.Z)(window),e=(0,_.K)(document),n=(0,p.Z)(performance,t),k=(0,S.Z)(window),T=(0,w.Z)(navigator,k),A=(0,u.Z)(window,n),C=(0,c.Z)(XMLHttpRequest,n,document),x=new E.O(performance,n,window.PerformanceObserver);r=(0,v.Z)(n,window,A,C,performance),i=(0,b.HN)(r,window.location),a=(0,s.eI)({backgroundingListener:t,clock:n,resourceAttributesSource:T,spanAttributesSource:e,deliveryFactory:(0,o.Z)(window.fetch,n,t),idGenerator:y.Z,schema:(0,m.E)(window.location.hostname,new i),plugins:(e,n)=>[r,new l.c(document,window.location,e,x,r,t,performance),new f.p(e,n,window.PerformanceObserver),new d.A(e,n,A,C),new h.X(e,window.location,document)],persistence:k,retryQueueFactory:(t,e)=>new s.jo(t,e)})}let k=a},642865:function(t,e,n){"use strict";n.d(e,{Z:()=>a});var r=n(428099);function i(t,e){return Math.abs(Date.now()-(t+e.now()))>3e5?Date.now()-e.now():t}function a(t,e){let n=i(void 0===t.timeOrigin?t.timing.navigationStart:t.timeOrigin,t);return e.onStateChange(e=>{"in-foreground"===e&&(n=i(n,t))}),{now:()=>t.now(),date:()=>new Date(n+t.now()),convert:t=>t.getTime()-n,toUnixTimestampNanoseconds:t=>(0,r.Q4)(n+t).toString()}}},15019:function(t,e,n){"use strict";n.d(e,{E:()=>o});var r=n(428099),i=n(292625),a=n(953281),s=n(888151);function o(t,e){return{...r.fK,releaseStage:{...r.fK.releaseStage,defaultValue:"localhost"===t?"development":"production"},autoInstrumentFullPageLoads:{defaultValue:!0,message:"should be true|false",validate:r.jn},autoInstrumentNetworkRequests:{defaultValue:!0,message:"should be true|false",validate:r.jn},autoInstrumentRouteChanges:{defaultValue:!0,message:"should be true|false",validate:r.jn},generateAnonymousId:{defaultValue:!0,message:"should be true|false",validate:r.jn},routingProvider:{defaultValue:e,message:"should be a routing provider",validate:a.T},settleIgnoreUrls:{defaultValue:[],message:"should be an array of string|RegExp",validate:r.Qg},networkRequestCallback:{defaultValue:i.S,message:"should be a function",validate:i.b},sendPageAttributes:{defaultValue:s.o4,message:"should be an object",validate:s.UT},serviceName:{defaultValue:"unknown_service",message:"should be a string",validate:r.Xy}}}},559015:function(t,e,n){"use strict";n.d(e,{HN:()=>s,Uj:()=>a,j8:()=>i});var r=n(950704);let i=t=>t.pathname||"/",a=()=>class{constructor(t=i){this.resolveRoute=t}listenForRouteChanges(t){}},s=(t,e)=>class{constructor(t=i){this.resolveRoute=t}listenForRouteChanges(n){addEventListener("popstate",r=>{let i=n(new URL(e.href),"popstate");t(t=>{i.end(t)})});let i=history.pushState;history.pushState=function(...e){let a=e[2];if(a){let e=n(new URL((0,r.Z)(a.toString(),document.baseURI)),"pushState");t(t=>{e.end(t)})}i.apply(this,e)}}}},460938:function(t,e,n){"use strict";function r(t){let e=t.toString(16);return 1===e.length?"0"+e:e}n.d(e,{Z:()=>i});let i={generate(t){let e=new Uint8Array(t/8);return Array.from(window.crypto.getRandomValues(e)).map(r).join("")}}},9166:function(t,e,n){"use strict";n.d(e,{ZP:()=>r.ZP});var r=n(616566)},53304:function(t,e,n){"use strict";n.d(e,{Z:()=>i});var r=n(188506);class i extends r.N{constructor(t,e){super(t),this.timeout=void 0,new MutationObserver(()=>{this.restart()}).observe(e,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;let t=this.clock.now();this.timeout=setTimeout(()=>{this.settle(t)},100)}}},755151:function(t,e,n){"use strict";n.d(e,{$:()=>o,Z:()=>u});var r=n(53304),i=n(10799),a=n(413430),s=n(902229);function o(){let t=()=>{};return t.configure=()=>{},t}function u(t,e,n,o,u){let c=new r.Z(t,e.document),l=new a.Z(t,n),d=new a.Z(t,o),f=new i.Z(t,e.addEventListener,u,e.document),h=new s.Z(t,[c,f,l,d]);function g(e){let n=t=>{clearTimeout(r),h.unsubscribe(n),e(t)},r=setTimeout(()=>{let r=t.now();h.unsubscribe(n),e(r)},6e4),i=h.isSettled()?100:0,a=t.now();setTimeout(()=>{h.isSettled()?n(a):h.subscribe(n)},i)}return g.configure=function(t){let e=t.settleIgnoreUrls.map(t=>"string"==typeof t?RegExp(t):t).concat(RegExp(t.endpoint));l.setUrlsToIgnore(e),d.setUrlsToIgnore(e)},g}},10799:function(t,e,n){"use strict";n.d(e,{Z:()=>i});var r=n(188506);class i extends r.N{constructor(t,e,n,r){super(t),"complete"===r.readyState?setTimeout(()=>{this.settleUsingPerformance(n)},0):e("load",()=>{setTimeout(()=>{this.settleUsingPerformance(n)},0)})}settleUsingPerformance(t){let e=this.clock.now(),n="function"==typeof t.getEntriesByType?t.getEntriesByType("navigation")[0]:void 0,r=0;n&&"navigation"===n.entryType?r=n.loadEventEnd:t.timing&&(r=t.timing.loadEventEnd-t.timing.navigationStart),(r<=0||r>e)&&(r=e),this.settle(r)}}},413430:function(t,e,n){"use strict";n.d(e,{Z:()=>i});var r=n(188506);class i extends r.N{constructor(t,e){super(t),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,e.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(t){this.urlsToIgnore=t}onRequestStart(t){if(!this.shouldIgnoreUrl(t.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,{onRequestEnd:t=>{if(0==--this.outstandingRequests){let t=this.clock.now();this.timeout=setTimeout(()=>{this.settle(t)},100)}}}}shouldIgnoreUrl(t){return this.urlsToIgnore.some(e=>e.test(t))}}},902229:function(t,e,n){"use strict";n.d(e,{Z:()=>i});var r=n(188506);class i extends r.N{constructor(t,e){for(let n of(super(t),this.settlers=e,e))n.subscribe(t=>{this.settlersAreSettled()?this.settle(t):this.settled=!1})}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(let t of this.settlers)if(!t.isSettled())return!1;return!0}}},188506:function(t,e,n){"use strict";n.d(e,{N:()=>r});class r{constructor(t){this.settled=!1,this.callbacks=new Set,this.clock=t}subscribe(t){this.callbacks.add(t),this.isSettled()&&t(this.clock.now())}unsubscribe(t){this.callbacks.delete(t)}isSettled(){return this.settled}settle(t){for(let e of(this.settled=!0,this.callbacks))e(t)}}},446252:function(t,e,n){"use strict";n.d(e,{Z:()=>i});var r=n(428099);function i(t){try{if(t.localStorage)return new a(t.localStorage)}catch(t){}return new r.oD}class a{constructor(t){this.storage=t}async load(t){try{let e=this.storage.getItem(t);if(e)return(0,r.rC)(t,e)}catch(t){}}async save(t,e){try{this.storage.setItem(t,function(t,e){switch(t){case"bugsnag-sampling-probability":return JSON.stringify(e);case"bugsnag-anonymous-id":return e;default:return t}}(t,e))}catch(t){}}}},782166:function(t,e,n){"use strict";n.d(e,{Z:()=>a});var r=n(681298),i=n(428099);function a(t,e){let n,a;return function(s){let o=new i.Tm(s.releaseStage,s.appVersion,s.serviceName,"bugsnag.performance.browser","2.10.1",s.logger);if(o.set("browser.user_agent",t.userAgent),t.userAgentData&&(o.set("browser.platform",t.userAgentData.platform),o.set("browser.mobile",t.userAgentData.mobile)),s.generateAnonymousId){if(n||(n=e.load("bugsnag-anonymous-id").then(t=>{let n=t||r();return t||e.save("bugsnag-anonymous-id",n),a=n})),!a)return n.then(t=>(o.set("device.id",t),o));o.set("device.id",a)}return Promise.resolve(o)}}},953281:function(t,e,n){"use strict";n.d(e,{T:()=>i});var r=n(428099);let i=t=>(0,r.Kn)(t)&&"function"==typeof t.resolveRoute&&"function"==typeof t.listenForRouteChanges},888151:function(t,e,n){"use strict";n.d(e,{UT:()=>s,o4:()=>i,zq:()=>a});var r=n(428099);let i={referrer:!0,title:!0,url:!0};function a(t){return{...i,...t}}function s(t){let e=["undefined","boolean"],n=Object.keys(i);return(0,r.Kn)(t)&&n.every(n=>e.includes(typeof t[n]))}},683860:function(t,e,n){"use strict";n.d(e,{K:()=>r});let r=t=>{let e={url:{name:"bugsnag.browser.page.url",getValue:()=>t.location.href,permitted:!1},title:{name:"bugsnag.browser.page.title",getValue:()=>t.title,permitted:!1}};return{configure(t){e.title.permitted=t.sendPageAttributes.title||!1,e.url.permitted=t.sendPageAttributes.url||!1},requestAttributes(t){for(let n of Object.values(e))n.permitted&&t.setAttribute(n.name,n.getValue())}}}},886534:function(t,e,n){"use strict";n.d(e,{O:()=>r});class r{constructor(t,e,n){if(this.performance=t,this.clock=e,this.observers=[],n&&Array.isArray(n.supportedEntryTypes)){let t=n.supportedEntryTypes;t.includes("largest-contentful-paint")&&this.observeLargestContentfulPaint(n),t.includes("layout-shift")&&this.observeLayoutShift(n)}}attachTo(t){let e=this.firstContentfulPaint();e&&t.addEvent("fcp",e);let n=this.timeToFirstByte();n&&t.addEvent("ttfb",n);let r=this.firstInputDelay();for(let e of(r&&(t.addEvent("fid_start",r.start),t.addEvent("fid_end",r.end)),this.cumulativeLayoutShift&&t.setAttribute("bugsnag.metrics.cls",this.cumulativeLayoutShift),this.largestContentfulPaint&&t.addEvent("lcp",this.largestContentfulPaint),this.observers))e.disconnect()}firstContentfulPaint(){let t=this.performance.getEntriesByName("first-contentful-paint","paint"),e=Array.isArray(t)&&t[0];if(e)return e.startTime}timeToFirstByte(){let t;let e=this.performance.getEntriesByType("navigation"),n=Array.isArray(e)&&e[0];if((t=n?n.responseStart:this.performance.timing.responseStart-this.performance.timing.navigationStart)>0&&t<=this.clock.now())return t}firstInputDelay(){let t=this.performance.getEntriesByType("first-input"),e=Array.isArray(t)&&t[0];if(e)return{start:e.startTime,end:e.processingStart}}observeLargestContentfulPaint(t){let e=new t(t=>{let e=t.getEntries();e.length>0&&(this.largestContentfulPaint=e[e.length-1].startTime)});e.observe({type:"largest-contentful-paint",buffered:!0}),this.observers.push(e)}observeLayoutShift(t){let e;let n=new t(t=>{for(let n of t.getEntries())!n.hadRecentInput&&(e&&n.startTime-e.previousStartTime<1e3&&n.startTime-e.firstStartTime<5e3?(e.value+=n.value,e.previousStartTime=n.startTime):e={value:n.value,firstStartTime:n.startTime,previousStartTime:n.startTime});e&&(void 0===this.cumulativeLayoutShift||e.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=e.value)});n.observe({type:"layout-shift",buffered:!0}),this.observers.push(n)}}},493618:function(t,e,n){"use strict";n.d(e,{Tm:()=>s,cN:()=>a});var r=n(189997),i=n(342289);class a{get droppedAttributesCount(){return this._droppedAttributesCount}constructor(t,e,n,r){this._droppedAttributesCount=0,this.attributes=t,this.spanAttributeLimits=e,this.spanName=n,this.logger=r}validateAttribute(t,e){if("string"==typeof e&&e.length>this.spanAttributeLimits.attributeStringValueLimit&&(this.attributes.set(t,function(t,e){let n=t.length,r=t.slice(0,e),i=r.length;return`${r} *** ${n-i} CHARS TRUNCATED`}(e,this.spanAttributeLimits.attributeStringValueLimit)),this.logger.warn(`Span attribute ${t} in span ${this.spanName} was truncated as the string exceeds the ${this.spanAttributeLimits.attributeStringValueLimit} character limit set by attributeStringValueLimit.`)),Array.isArray(e)&&e.length>this.spanAttributeLimits.attributeArrayLengthLimit){let n=e.slice(0,this.spanAttributeLimits.attributeArrayLengthLimit);this.attributes.set(t,n),this.logger.warn(`Span attribute ${t} in span ${this.spanName} was truncated as the array exceeds the ${this.spanAttributeLimits.attributeArrayLengthLimit} element limit set by attributeArrayLengthLimit.`)}}set(t,e){"string"==typeof t&&("string"==typeof e||"boolean"==typeof e||(0,i.hj)(e)||Array.isArray(e))&&this.attributes.set(t,e)}setCustom(t,e){if("string"==typeof t&&("string"==typeof e||"boolean"==typeof e||(0,i.hj)(e)||Array.isArray(e))){if(!this.attributes.has(t)&&this.attributes.size>=this.spanAttributeLimits.attributeCountLimit){this._droppedAttributesCount++,this.logger.warn(`Span attribute ${t} in span ${this.spanName} was dropped as the number of attributes exceeds the ${this.spanAttributeLimits.attributeCountLimit} attribute limit set by attributeCountLimit.`);return}if(t.length>r.Jf){this._droppedAttributesCount++,this.logger.warn(`Span attribute ${t} in span ${this.spanName} was dropped as the key length exceeds the ${r.Jf} character fixed limit.`);return}this.attributes.set(t,e)}}remove(t){this.attributes.delete(t)}toJson(){return Array.from(this.attributes).forEach(([t,e])=>{this.validateAttribute(t,e)}),Array.from(this.attributes).map(([t,e])=>(function(t,e){switch(typeof e){case"number":if(Number.isNaN(e)||!Number.isFinite(e))return;if("bugsnag.sampling.p"!==t&&Number.isInteger(e))return{key:t,value:{intValue:`${e}`}};return{key:t,value:{doubleValue:e}};case"boolean":return{key:t,value:{boolValue:e}};case"string":return{key:t,value:{stringValue:e}};case"object":if(Array.isArray(e)){let n=e.map(t=>(function(t){switch(typeof t){case"number":if(Number.isNaN(t)||!Number.isFinite(t))return;if(Number.isInteger(t))return{intValue:`${t}`};return{doubleValue:t};case"boolean":return{boolValue:t};case"string":return{stringValue:t}}})(t)).filter(t=>void 0!==t);return{key:t,value:{arrayValue:n.length>0?{values:n}:{}}}}return;default:return}})(t,e))}}class s extends a{constructor(t,e,n,i,a,s){let o=new Map([["deployment.environment",t],["telemetry.sdk.name",i],["telemetry.sdk.version",a],["service.name",n]]);e.length>0&&o.set("service.version",e),super(o,r.Ky,"resource-attributes",s)}}},531224:function(t,e,n){"use strict";n.d(e,{s:()=>a});var r=n(202855),i=n(557789);class a{constructor(t,e,n,r,i,a){this.spans=[],this.timeout=null,this.flushQueue=Promise.resolve(),this.delivery=t,this.configuration=e,this.retryQueue=n,this.sampler=r,this.probabilityManager=i,this.encoder=a,this.flush=this.flush.bind(this)}stop(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(t){(!this.configuration.enabledReleaseStages||this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage))&&(this.spans.push(t),this.spans.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop(),this.flushQueue=this.flushQueue.then(async()=>{let t=await this.prepareBatch();if(!t)return;let e=await this.encoder.encode(t),n=Date.now();try{let t=await this.delivery.send(e);switch(void 0!==t.samplingProbability&&this.probabilityManager.setProbability(t.samplingProbability),t.state){case"success":this.retryQueue.flush();break;case"failure-discard":this.configuration.logger.warn("delivery failed");break;case"failure-retryable":this.configuration.logger.info("delivery failed, adding to retry queue"),this.retryQueue.add(e,n);break;default:t.state}}catch(t){this.configuration.logger.warn("delivery failed")}}),await this.flushQueue}async runCallbacks(t){if(!this.configuration.onSpanEnd)return!0;{let e=performance.now(),n=!0;for(let e of this.configuration.onSpanEnd)try{let r=e(t);if("function"==typeof r.then&&(r=await r),!1===r){n=!1;break}}catch(t){this.configuration.logger.error("Error in onSpanEnd callback: "+t)}if(n){let n=(0,r.Q)(performance.now()-e);t.setAttribute("bugsnag.span.callbacks_duration",n)}return n}}async prepareBatch(){if(0===this.spans.length)return;await this.probabilityManager.ensureFreshProbability();let t=[],e=this.sampler.spanProbability;for(let n of this.spans)n.samplingProbability.raw>e.raw&&(n.samplingProbability=e),this.sampler.sample(n)&&await this.runCallbacks((0,i.Oh)(n))&&t.push(n);if(this.spans=[],0!==t.length)return t}}},202855:function(t,e,n){"use strict";function r(t){return Math.round(1e6*t)}n.d(e,{Q:()=>r})},636202:function(t,e,n){"use strict";n.d(e,{f:()=>a,w:()=>s});var r=n(189997),i=n(342289);let a={appVersion:{defaultValue:"",message:"should be a string",validate:i.Xy},endpoint:{defaultValue:"https://otlp.bugsnag.com/v1/traces",message:"should be a string",validate:i.Xy},apiKey:{defaultValue:"",message:"should be a 32 character hexadecimal string",validate:t=>(0,i.HD)(t)&&/^[a-f0-9]{32}$/.test(t)},logger:{defaultValue:{debug(t){console.debug(t)},info(t){console.info(t)},warn(t){console.warn(t)},error(t){console.error(t)}},message:"should be a Logger object",validate:i.ay},releaseStage:{defaultValue:"production",message:"should be a string",validate:i.Xy},enabledReleaseStages:{defaultValue:null,message:"should be an array of strings",validate:t=>null===t||(0,i.GI)(t)},plugins:{defaultValue:[],message:"should be an array of plugin objects",validate:i.w},bugsnag:{defaultValue:void 0,message:"should be an instance of Bugsnag",validate:t=>(0,i.Kn)(t)&&"function"==typeof t.addOnError},samplingProbability:{defaultValue:void 0,message:"should be a number between 0 and 1",validate:t=>void 0===t||(0,i.hj)(t)&&t>=0&&t<=1},onSpanEnd:{defaultValue:void 0,message:"should be an array of functions",validate:i.xT},attributeStringValueLimit:{defaultValue:r.JY,message:`should be a number between 1 and ${r.r7}`,validate:t=>(0,i.hj)(t)&&t>0&&t<=r.r7},attributeArrayLengthLimit:{defaultValue:r.Kd,message:`should be a number between 1 and ${r.fd}`,validate:t=>(0,i.hj)(t)&&t>0&&t<=r.fd},attributeCountLimit:{defaultValue:r.G5,message:`should be a number between 1 and ${r.op}`,validate:t=>(0,i.hj)(t)&&t>0&&t<=r.op}};function s(t,e){if("string"==typeof t&&(t={apiKey:t}),!(0,i.Kn)(t)||!(0,i.HD)(t.apiKey)||0===t.apiKey.length)throw Error("No Bugsnag API Key set");let n="",r={};for(let i of Object.keys(e))Object.prototype.hasOwnProperty.call(t,i)?e[i].validate(t[i])?r[i]=t[i]:(n+=`
  - ${i} ${e[i].message}, got ${typeof t[i]}`,r[i]=e[i].defaultValue):r[i]=e[i].defaultValue;return r.apiKey=t.apiKey,r.maximumBatchSize=t.maximumBatchSize||100,r.batchInactivityTimeoutMs=t.batchInactivityTimeoutMs||3e4,n.length>0&&r.logger.warn(`Invalid configuration${n}`),r}},795005:function(t,e,n){"use strict";n.d(e,{O:()=>p,e:()=>g});var r=n(531224),i=n(636202),a=n(674143),s=n(979922),o=n(500983),u=n(636179),c=n(460322),l=n(699492),d=n(321026),f=n(477393),h=n(93702);function g(t){let e=new c.d,n=e,g=t.spanContextStorage||new d.X(t.backgroundingListener),p=t.schema.logger.defaultValue,m=new l.Z(1),b=new f.k(n,m,t.idGenerator,t.spanAttributesSource,t.clock,t.backgroundingListener,p,g),y=t.plugins(b,g);return{start:c=>{let l=(0,i.w)(c,t.schema);if(l.endpoint===i.f.endpoint.defaultValue&&(l.endpoint=l.endpoint.replace("https://",`https://${l.apiKey}.`)),l.bugsnag&&"function"==typeof l.bugsnag.Event.prototype.setTraceCorrelation&&l.bugsnag.Client){let t=l.bugsnag.Client.prototype._notify;l.bugsnag.Client.prototype._notify=function(...e){let n=g.current;n&&"function"==typeof e[0].setTraceCorrelation&&e[0].setTraceCorrelation(n.traceId,n.id),t.apply(this,e)}}let d=t.deliveryFactory(l.endpoint);for(let i of(t.spanAttributesSource.configure(l),(void 0===l.samplingProbability?u.Z.create(t.persistence,m,new o.Z(d,l.apiKey)):s.Z.create(m,l.samplingProbability)).then(i=>{for(let s of(n=new r.s(d,l,t.retryQueueFactory(d,l.retryQueueMaxSize),m,i,new a.Q(t.clock,l,t.resourceAttributesSource)),e.spans))n.add(s);t.backgroundingListener.onStateChange(t=>{n.flush(),"in-foreground"===t&&i.ensureFreshProbability()}),p=l.logger,b.configure(n,l)}),l.plugins))y.push(i);for(let t of y)t.configure(l,b)},startSpan:(t,e)=>{let n=b.validateSpanOptions(t,e),r=b.startSpan(n.name,n.options);return r.setAttribute("bugsnag.span.category","custom"),b.toPublicApi(r)},startNetworkSpan:e=>{let n=b.startNetworkSpan(e);return{...b.toPublicApi(n),end:e=>{b.endSpan(n,(0,h.k)(t.clock,e.endTime),{"http.status_code":e.status})}}},getPlugin:t=>{for(let e of y)if(e instanceof t)return e},get currentSpanContext(){return g.current},...t.platformExtensions&&t.platformExtensions(b,g)}}function p(){let t=()=>{};return{start:t,startSpan:()=>({id:"",traceId:"",end:t,isValid:()=>!1}),currentSpanContext:void 0}}},189997:function(t,e,n){"use strict";n.d(e,{G5:()=>u,JY:()=>i,Jf:()=>r,Kd:()=>s,Ky:()=>d,fd:()=>o,op:()=>c,r7:()=>a,sj:()=>l});let r=128,i=1024,a=1e4,s=1e3,o=1e4,u=128,c=1e3,l={attributeStringValueLimit:1024,attributeArrayLengthLimit:1e3,attributeCountLimit:128},d={attributeStringValueLimit:1/0,attributeArrayLengthLimit:1/0,attributeCountLimit:1/0}},674143:function(t,e,n){"use strict";n.d(e,{I:()=>s,Q:()=>i});var r=n(557789);class i{constructor(t,e,n){this.clock=t,this.configuration=e,this.resourceAttributeSource=n}async encode(t){let e=await this.resourceAttributeSource(this.configuration),n=Array(t.length);for(let e=0;e<t.length;++e)n[e]=(0,r.DL)(t[e],this.clock);return{body:{resourceSpans:[{resource:{attributes:e.toJson()},scopeSpans:[{spans:n}]}]},headers:{"Bugsnag-Api-Key":this.configuration.apiKey,"Content-Type":"application/json",...void 0!==this.configuration.samplingProbability?{}:{"Bugsnag-Span-Sampling":this.generateSamplingHeader(t)}}}}generateSamplingHeader(t){if(0===t.length)return"1:0";let e=Object.create(null);for(let n of t){let t=e[n.samplingProbability.raw]||0;e[n.samplingProbability.raw]=t+1}let n=Object.keys(e),r=Array(n.length);for(let t=0;t<n.length;++t){let i=n[t];r[t]=`${i}:${e[i]}`}return r.join(";")}}let a=new Set([402,407,408,429]);function s(t){return t>=200&&t<300?"success":t>=400&&t<500&&!a.has(t)?"failure-discard":"failure-retryable"}},954400:function(t,e,n){"use strict";n.d(e,{o:()=>r});class r{constructor(){this.events=[]}add(t,e){this.events.push({name:t,time:e})}toJson(t){return this.events.map(({name:e,time:n})=>({name:e,timeUnixNano:t.toUnixTimestampNanoseconds(n)}))}}},979922:function(t,e,n){"use strict";n.d(e,{Z:()=>r});class r{static async create(t,e){return t.probability=e,new r(t,e)}constructor(t,e){this.sampler=t,this.samplingProbability=e}setProbability(t){return Promise.resolve()}ensureFreshProbability(){return Promise.resolve()}}},428099:function(t,e,n){"use strict";n.d(e,{Am:()=>f.Z,HD:()=>d.HD,I_:()=>l.I_,Iz:()=>o.I,Kn:()=>d.Kn,Ou:()=>s.O,Q4:()=>i.Q,Qg:()=>d.Qg,Tm:()=>r.Tm,Xy:()=>d.Xy,eI:()=>s.e,fK:()=>a.f,jn:()=>d.jn,jo:()=>c.j,oD:()=>u.o,rC:()=>u.r});var r=n(493618),i=n(202855),a=n(636202),s=n(795005),o=n(674143),u=n(120141),c=n(657288),l=n(557789);n(321026),n(477393);var d=n(342289),f=n(779485)},120141:function(t,e,n){"use strict";n.d(e,{o:()=>s,r:()=>o});var r=n(681298),i=n(342289);let{isCuid:a}=r;class s{constructor(){this.persistedItems=new Map}async load(t){return this.persistedItems.get(t)}async save(t,e){this.persistedItems.set(t,e)}}function o(t,e){switch(t){case"bugsnag-sampling-probability":{let t=JSON.parse(e);return(0,i.D3)(t)?t:void 0}case"bugsnag-anonymous-id":return a(e)?e:void 0}}},500983:function(t,e,n){"use strict";n.d(e,{Z:()=>r});class r{constructor(t,e){this.delivery=t,this.payload={body:{resourceSpans:[]},headers:{"Bugsnag-Api-Key":e,"Content-Type":"application/json","Bugsnag-Span-Sampling":"1.0:0"}}}async getNewProbability(){for(;;){let t=await this.delivery.send(this.payload);if(void 0!==t.samplingProbability)return t.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise(t=>{setTimeout(t,3e4)})}}},636179:function(t,e,n){"use strict";n.d(e,{Z:()=>r});class r{static async create(t,e,n){let i;let a=await t.load("bugsnag-sampling-probability");return void 0===a?(e.probability=1,i=0):(a.time,Date.now(),e.probability=a.value,i=a.time),new r(t,e,n,i)}constructor(t,e,n,r){this.outstandingFreshnessCheck=void 0,this.persistence=t,this.sampler=e,this.probabilityFetcher=n,this.lastProbabilityTime=r,this.ensureFreshProbability()}setProbability(t){return this.lastProbabilityTime=Date.now(),this.sampler.probability=t,this.persistence.save("bugsnag-sampling-probability",{value:t,time:this.lastProbabilityTime})}ensureFreshProbability(){return this.outstandingFreshnessCheck?this.outstandingFreshnessCheck:Date.now()-this.lastProbabilityTime>=864e5?(this.outstandingFreshnessCheck=this.probabilityFetcher.getNewProbability().then(t=>{this.setProbability(t),this.outstandingFreshnessCheck=void 0}),this.outstandingFreshnessCheck):Promise.resolve()}}},460322:function(t,e,n){"use strict";n.d(e,{d:()=>r});class r{constructor(){this.spans=[]}add(t){this.spans.push(t)}}},657288:function(t,e,n){"use strict";n.d(e,{j:()=>r});class r{constructor(t,e){this.delivery=t,this.retryQueueMaxSize=e,this.requestQueue=Promise.resolve(),this.payloads=[]}add(t,e){this.payloads.push({payload:t,time:e});let n=this.payloads.reduce((t,{payload:e})=>t+i(e),0);for(;n>this.retryQueueMaxSize;){let t=this.payloads.shift();if(!t)break;n-=i(t.payload)}}async flush(){if(0===this.payloads.length)return;let t=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then(async()=>{for(let{payload:e,time:n}of t)if(!(Date.now()>=n+864e5))try{let{state:t}=await this.delivery.send(e);switch(t){case"success":case"failure-discard":break;case"failure-retryable":this.add(e,n)}}catch(t){}}),await this.requestQueue}}function i(t){let e=0;for(let n=0;n<t.body.resourceSpans.length;++n){let r=t.body.resourceSpans[n].scopeSpans;for(let t=0;t<r.length;++t)e+=r[t].spans.length}return e}},699492:function(t,e,n){"use strict";function r(t){return Math.floor(0xffffffff*t)}n.d(e,{Z:()=>i});class i{constructor(t){this._probability=t,this.scaledProbability=r(t)}get probability(){return this._probability}set probability(t){this._probability=t,this.scaledProbability=r(t)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(t){return t.samplingRate<=t.samplingProbability.scaled}shouldSample(t){return t<=this.spanProbability.scaled}}},321026:function(t,e,n){"use strict";n.d(e,{X:()=>r});class r{constructor(t,e=[]){this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground="in-foreground"===t,this.contextStack.length=0},this.contextStack=e,t.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let t=this.contextStack.length-1;t>=0;--t)yield this.contextStack[t]}push(t){t.isValid()&&this.isInForeground&&this.contextStack.push(t)}pop(t){var e;(t===(e=this.current)||void 0!==t&&void 0!==e&&t.id===e.id&&t.traceId===e.traceId)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&!1===this.contextStack[this.contextStack.length-1].isValid();)this.contextStack.pop()}}},477393:function(t,e,n){"use strict";n.d(e,{k:()=>u});var r=n(493618),i=n(189997),a=n(557789),s=n(93702),o=n(342289);class u{constructor(t,e,n,r,a,s,o,u){this.spanAttributeLimits=i.sj,this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground="in-foreground"===t,this.openSpans=new WeakSet},this.processor=t,this.sampler=e,this.idGenerator=n,this.spanAttributesSource=r,this.clock=a,this.logger=o,this.spanContextStorage=u,s.onStateChange(this.onBackgroundStateChange)}startSpan(t,e){let n=(0,s.k)(this.clock,e.startTime),i=this.idGenerator.generate(64),u=(0,o.vn)(e.parentContext)||null===e.parentContext?e.parentContext:this.spanContextStorage.current,c=u?u.id:void 0,l=u?u.traceId:this.idGenerator.generate(128),d=new r.cN(new Map,this.spanAttributeLimits,t,this.logger);"boolean"==typeof e.isFirstClass&&d.set("bugsnag.span.first_class",e.isFirstClass);let f=new a.M1(i,l,t,n,d,this.clock,c);return this.isInForeground&&(this.openSpans.add(f),!1!==e.makeCurrentContext&&this.spanContextStorage.push(f)),f}startNetworkSpan(t){let e=`[HTTP/${t.method.toUpperCase()}]`,n=this.validateSpanOptions(e,t),r=this.startSpan(n.name,{...n.options,makeCurrentContext:!1});return r.setAttribute("bugsnag.span.category","network"),r.setAttribute("http.method",t.method),r.setAttribute("http.url",t.url),r}configure(t,e){this.processor=t,this.logger=e.logger,this.spanAttributeLimits={attributeArrayLengthLimit:e.attributeArrayLengthLimit,attributeCountLimit:e.attributeCountLimit,attributeStringValueLimit:e.attributeStringValueLimit}}endSpan(t,e,n){this.spanContextStorage.pop(t);let r=!this.openSpans.delete(t),i=t.isValid();if(r&&!i&&this.logger.warn("Attempted to end a Span which is no longer valid."),r||!i||-1===e){t.end(e,this.sampler.spanProbability);return}for(let[e,r]of Object.entries(n||{}))t.setAttribute(e,r);this.spanAttributesSource.requestAttributes(t);let a=t.end(e,this.sampler.spanProbability);this.sampler.sample(a)&&this.processor.add(a)}toPublicApi(t){return{get id(){return t.id},get traceId(){return t.traceId},get samplingRate(){return t.samplingRate},get name(){return t.name},isValid:()=>t.isValid(),setAttribute:(e,n)=>{t.setCustomAttribute(e,n)},end:e=>{let n=(0,s.k)(this.clock,e);this.endSpan(t,n)}}}validateSpanOptions(t,e,n=a.I_){let r="",i={};if("string"!=typeof t&&(r+=`
  - name should be a string, got ${typeof t}`,t=String(t)),void 0===e||(0,o.Kn)(e)){let t=e||{};for(let e of Object.keys(n))Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]?n[e].validate(t[e])?i[e]=t[e]:(r+=`
  - ${e} ${n[e].message}, got ${typeof t[e]}`,i[e]=n[e].getDefaultValue(t[e])):i[e]=n[e].getDefaultValue(t[e])}else r+="\n  - options is not an object";return r.length>0&&this.logger.warn(`Invalid span options${r}`),{name:t,options:i}}}},557789:function(t,e,n){"use strict";n.d(e,{DL:()=>s,I_:()=>c,M1:()=>u,Oh:()=>o});var r=n(954400),i=n(779485),a=n(342289);function s(t,e){return{name:t.name,kind:t.kind,spanId:t.id,traceId:t.traceId,parentSpanId:t.parentSpanId,...t.attributes.droppedAttributesCount>0?{droppedAttributesCount:t.attributes.droppedAttributesCount}:{},startTimeUnixNano:e.toUnixTimestampNanoseconds(t.startTime),endTimeUnixNano:e.toUnixTimestampNanoseconds(t.endTime),attributes:t.attributes.toJson(),events:t.events.toJson(e)}}function o(t){return{get id(){return t.id},get traceId(){return t.traceId},get samplingRate(){return t.samplingRate},get name(){return t.name},isValid:()=>!1,end:()=>{},setAttribute:(e,n)=>{t.attributes.setCustom(e,n)}}}class u{constructor(t,e,n,a,s,o,u){this.kind=3,this.events=new r.o,this.id=t,this.traceId=e,this.parentSpanId=u,this.name=n,this.startTime=a,this.attributes=s,this.samplingRate=(0,i.Z)(this.traceId),this.clock=o}addEvent(t,e){this.events.add(t,e)}setAttribute(t,e){this.attributes.set(t,e)}setCustomAttribute(t,e){this.attributes.setCustom(t,e)}end(t,e){this.endTime=t;let n=e;return this.attributes.set("bugsnag.sampling.p",n.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:t,get samplingProbability(){return n},set samplingProbability(samplingProbability){n=samplingProbability,this.attributes.set("bugsnag.sampling.p",n.raw)},parentSpanId:this.parentSpanId}}isValid(){return void 0===this.endTime&&this.startTime>this.clock.now()-36e5}}let c={startTime:{message:"should be a number or Date",getDefaultValue:()=>void 0,validate:a.og},parentContext:{message:"should be a SpanContext",getDefaultValue:()=>void 0,validate:t=>null===t||(0,a.TS)(t)},makeCurrentContext:{message:"should be true|false",getDefaultValue:()=>void 0,validate:a.jn},isFirstClass:{message:"should be true|false",getDefaultValue:()=>void 0,validate:a.jn}}},93702:function(t,e,n){"use strict";n.d(e,{k:()=>i});var r=n(342289);function i(t,e){return(0,r.hj)(e)?e:e instanceof Date?t.convert(e):t.now()}},779485:function(t,e,n){"use strict";function r(t){let e=0;for(let n=0;n<t.length/8;n++){let r=8*n;e=(e^Number.parseInt(t.slice(r,r+8),16))>>>0}return e}n.d(e,{Z:()=>r})},342289:function(t,e,n){"use strict";n.d(e,{D3:()=>d,GI:()=>c,HD:()=>s,Kn:()=>i,Qg:()=>l,TS:()=>f,Xy:()=>o,ay:()=>u,hj:()=>a,jn:()=>r,og:()=>g,vn:()=>h,w:()=>p,xT:()=>m});let r=t=>!0===t||!1===t,i=t=>!!t&&"object"==typeof t&&!Array.isArray(t),a=t=>"number"==typeof t&&Number.isFinite(t)&&!Number.isNaN(t),s=t=>"string"==typeof t,o=t=>s(t)&&t.length>0,u=t=>i(t)&&"function"==typeof t.debug&&"function"==typeof t.info&&"function"==typeof t.warn&&"function"==typeof t.error,c=t=>Array.isArray(t)&&t.every(o),l=t=>Array.isArray(t)&&t.every(t=>o(t)||t instanceof RegExp);function d(t){return i(t)&&a(t.value)&&a(t.time)}let f=t=>i(t)&&"string"==typeof t.id&&"string"==typeof t.traceId&&"function"==typeof t.isValid,h=t=>i(t)&&"string"==typeof t.id&&"string"==typeof t.traceId;function g(t){return a(t)||t instanceof Date}function p(t){return Array.isArray(t)&&t.every(t=>i(t)&&"function"==typeof t.configure)}function m(t){return Array.isArray(t)&&t.every(t=>"function"==typeof t)}},584774:function(t,e,n){"use strict";n.d(e,{Z:()=>i});var r=n(428099);function i(t,e,n){let i=!1;return n&&n.onStateChange(t=>{i="in-background"===t}),function(n){return{async send(a){let s=JSON.stringify(a.body);a.headers["Bugsnag-Sent-At"]=e.date().toISOString();try{let e=await t(n,{method:"POST",keepalive:i,body:s,headers:a.headers});return{state:(0,r.Iz)(e.status),samplingProbability:function(t){let e=t.get("Bugsnag-Sampling-Probability");if("string"!=typeof e)return;let n=Number.parseFloat(e);if(!Number.isNaN(n)&&!(n<0)&&!(n>1))return n}(e.headers)}}catch(t){if(s.length>1e6)return{state:"failure-discard"};return{state:"failure-retryable"}}}}}}},292625:function(t,e,n){"use strict";function r(t){return t}function i(t){return"function"==typeof t}n.d(e,{S:()=>r,b:()=>i})},188501:function(t,e,n){"use strict";n.d(e,{Z:()=>s});var r=n(189671),i=n(950704);function a(t){return!!t&&"object"==typeof t&&!(t instanceof URL)}function s(t,e){let n=new r.v,s=t.fetch;return t.fetch=function(r,o){let u=function(t,e,n,r){let s=a(e),o=s?e.url:String(e),u=!!n&&n.method||s&&e.method||"GET";return{url:(0,i.Z)(o,r),method:u,startTime:t,type:"fetch"}}(e.now(),r,o,t.document&&t.document.baseURI),{onRequestEnd:c,extraRequestHeaders:l}=n.start(u),d=function(t,e,n){if(!n)return[t,e];let r=n.reduce((t,e)=>({...t,...e}),{});return!a(t)||e&&e.headers?e=function(t,e){var n;if(e||(e={}),!((n=e.headers)&&"object"==typeof n&&n instanceof Headers))return{...e,headers:{...t,...e.headers}};for(let[n,r]of Object.entries(t))e.headers.has(n)||e.headers.set(n,r);return e}(r,e):function(t,e){for(let[n,r]of Object.entries(t))e.headers.has(n)||e.headers.set(n,r)}(r,t),[t,e]}(r,o,l);return s.call(this,d[0],d[1]).then(t=>(c({status:t.status,endTime:e.now(),state:"success"}),t)).catch(t=>{throw c({error:t,endTime:e.now(),state:"error"}),t})},n}},592828:function(t,e,n){"use strict";n.d(e,{Z:()=>a});var r=n(189671),i=n(950704);function a(t,e,n){let a=new r.v,s=new WeakMap,o=new WeakMap,u=t.prototype.open;t.prototype.open=function(t,e,...r){s.set(this,{method:t,url:(0,i.Z)(String(e),n&&n.baseURI)}),u.call(this,t,e,...r)};let c=t.prototype.send;return t.prototype.send=function(n){let r=s.get(this);if(r){let n=o.get(this);n&&this.removeEventListener("readystatechange",n);let{onRequestEnd:i,extraRequestHeaders:s}=a.start({type:"xmlhttprequest",method:r.method,url:r.url,startTime:e.now()});if(s)for(let t of s)for(let[e,n]of Object.entries(t))this.setRequestHeader(e,n);let u=n=>{this.readyState===t.DONE&&i&&i(this.status>0?{endTime:e.now(),status:this.status,state:"success"}:{endTime:e.now(),state:"error"})};this.addEventListener("readystatechange",u),o.set(this,u)}c.call(this,n)},a}},189671:function(t,e,n){"use strict";n.d(e,{v:()=>r});class r{constructor(){this.callbacks=[]}onStart(t){this.callbacks.push(t)}start(t){let e=[];for(let n of this.callbacks){let r=n(t);r&&e.push(r)}return{onRequestEnd:t=>{for(let n of e)n&&n.onRequestEnd&&n.onRequestEnd(t)},extraRequestHeaders:e.map(t=>{if(t&&t.extraRequestHeaders)return t.extraRequestHeaders}).filter(i)}}}function i(t){return void 0!==t}},950704:function(t,e,n){"use strict";function r(t,e){if(0===t.indexOf("https://")||0===t.indexOf("http://"))return t;try{let n=new URL(t,e).href;if(!t.endsWith("/")&&n.endsWith("/"))return n.slice(0,-1);return n}catch(e){return t}}n.d(e,{Z:()=>r})}}]);
//# sourceMappingURL=73550.ffc51a64a60b42bd.js.map
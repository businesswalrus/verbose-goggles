!function(){var t={6251:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};e.__esModule=!0,e.createStorage=void 0;var r="Cannot access Web Storage API";e.createStorage=function(t){var e;try{e="local"===t?localStorage:sessionStorage}catch(t){console.warn(r)}var o={setItem:function(t,n){try{e.setItem(t,JSON.stringify(n))}catch(t){console.warn(r)}},getItem:function(t){try{var n=e.getItem(t);return n&&JSON.parse(n)}catch(t){return console.warn(r),null}},removeItem:function(t){try{e.removeItem(t)}catch(t){console.warn(r)}},clear:function(){try{e.clear()}catch(t){console.warn(r)}},setFnItem:function(t,e){var r,i=o.getItem("ada-functional-storage")||{},s=n(n({},i),((r={})[t]=e,r));o.setItem("ada-functional-storage",s)},getFnItem:function(t){var e=o.getItem("ada-functional-storage");return e&&e[t]||null}};return o}},6183:function(t,e,n){"use strict";e.ad=e.BB=void 0;var r=n(6251);e.BB=(0,r.createStorage)("local"),e.ad=(0,r.createStorage)("session")},9186:function(t,e,n){t.exports=n(5301)},977:function(t,e,n){t.exports=n(5930)},7293:function(t,e,n){t.exports=n(5140)},8233:function(t,e,n){t.exports=n(4474)},20:function(t,e,n){t.exports=n(5267)},6544:function(t,e,n){var r=n(6473);t.exports=r},2795:function(t,e,n){var r=n(5926);t.exports=r},4615:function(t,e,n){var r=n(6368);t.exports=r},847:function(t,e,n){var r=n(6158);t.exports=r},1342:function(t,e,n){var r=n(3959);t.exports=r},6682:function(t,e,n){n(7640);var r=n(5296);t.exports=r("Array").indexOf},2342:function(t,e,n){var r=n(3381),o=n(6682),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||r(i,t)&&e===i.indexOf?o:e}},5933:function(t,e,n){n(6889);var r=n(7675);t.exports=r.Object.assign},8825:function(t,e,n){n(8805);var r=n(7675).Object,o=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(o.sham=!0)},9069:function(t,e,n){n(7375);var r=n(7675);t.exports=r.Object.getOwnPropertySymbols},9768:function(t,e,n){n(9676);var r=n(7675);t.exports=r.Object.keys},5301:function(t,e,n){var r=n(6544);t.exports=r},5930:function(t,e,n){var r=n(2795);t.exports=r},5140:function(t,e,n){var r=n(4615);t.exports=r},4474:function(t,e,n){var r=n(847);t.exports=r},5267:function(t,e,n){var r=n(1342);t.exports=r},182:function(t,e,n){var r=n(5391),o=n(2073),i=n(4003),s=r.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not a function")}},8347:function(t,e,n){var r=n(5391),o=n(5774),i=r.String,s=r.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not an object")}},4581:function(t,e,n){var r=n(9441),o=n(8630),i=n(954),s=function(t){return function(e,n,s){var a,c=r(e),u=i(c),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2217:function(t,e,n){var r=n(2116),o=n(9036),i=n(6731),s=n(5809),a=n(954),c=n(6601),u=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,d=6==t,p=7==t,h=5==t||d;return function(f,g,m,v){for(var _,y,b=s(f),w=i(b),S=r(g,m),E=a(w),O=0,C=v||c,T=e?C(f,E):n||p?C(f,0):void 0;E>O;O++)if((h||O in w)&&(y=S(_=w[O],O,b),t))if(e)T[O]=y;else if(y)switch(t){case 3:return!0;case 5:return _;case 6:return O;case 2:u(T,_)}else switch(t){case 4:return!1;case 7:u(T,_)}return d?-1:o||l?l:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},538:function(t,e,n){"use strict";var r=n(7131);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},8067:function(t,e,n){var r=n(5391),o=n(8630),i=n(954),s=n(8724),a=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=i(t),u=o(e,r),l=o(void 0===n?r:n,r),d=a(c(l-u,0)),p=0;u<l;u++,p++)s(d,p,t[u]);return d.length=p,d}},820:function(t,e,n){var r=n(9036);t.exports=r([].slice)},9077:function(t,e,n){var r=n(5391),o=n(1972),i=n(6553),s=n(5774),a=n(6615)("species"),c=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||s(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?c:e}},6601:function(t,e,n){var r=n(9077);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},244:function(t,e,n){var r=n(9036),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},5663:function(t,e,n){var r=n(5391),o=n(7104),i=n(2073),s=n(244),a=n(6615)("toStringTag"),c=r.Object,u="Arguments"==s(function(){return arguments}());t.exports=o?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?n:u?s(e):"Object"==(r=s(e))&&i(e.callee)?"Arguments":r}},8471:function(t,e,n){var r=n(5560),o=n(6381),i=n(3768);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},3768:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8724:function(t,e,n){"use strict";var r=n(5141),o=n(6381),i=n(3768);t.exports=function(t,e,n){var s=r(e);s in t?o.f(t,s,i(0,n)):t[s]=n}},8643:function(t,e,n){var r=n(7675),o=n(4373),i=n(1635),s=n(6381).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},5560:function(t,e,n){var r=n(7131);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6171:function(t,e,n){var r=n(5391),o=n(5774),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},4084:function(t,e,n){var r=n(7827);t.exports=r("navigator","userAgent")||""},6312:function(t,e,n){var r,o,i=n(5391),s=n(4084),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},5296:function(t,e,n){var r=n(7675);t.exports=function(t){return r[t+"Prototype"]}},347:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1938:function(t,e,n){"use strict";var r=n(5391),o=n(1981),i=n(9036),s=n(2073),a=n(5687).f,c=n(3488),u=n(7675),l=n(2116),d=n(8471),p=n(4373),h=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return o(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,o,f,g,m,v,_,y,b=t.target,w=t.global,S=t.stat,E=t.proto,O=w?r:S?r[b]:(r[b]||{}).prototype,C=w?u:u[b]||d(u,b,{})[b],T=C.prototype;for(f in e)n=!c(w?f:b+(S?".":"#")+f,t.forced)&&O&&p(O,f),m=C[f],n&&(v=t.noTargetGet?(y=a(O,f))&&y.value:O[f]),g=n&&v?v:e[f],n&&typeof m==typeof g||(_=t.bind&&n?l(g,r):t.wrap&&n?h(g):E&&s(g)?i(g):g,(t.sham||g&&g.sham||m&&m.sham)&&d(_,"sham",!0),d(C,f,_),E&&(p(u,o=b+"Prototype")||d(u,o,{}),d(u[o],f,g),t.real&&T&&!T[f]&&d(T,f,g)))}},7131:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},1981:function(t,e,n){var r=n(5164),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(i):function(){return s.apply(i,arguments)})},2116:function(t,e,n){var r=n(9036),o=n(182),i=n(5164),s=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments)}}},5164:function(t,e,n){var r=n(7131);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},3057:function(t,e,n){var r=n(5164),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},9036:function(t,e,n){var r=n(5164),o=Function.prototype,i=o.bind,s=o.call,a=r&&i.bind(s,s);t.exports=r?function(t){return t&&a(t)}:function(t){return t&&function(){return s.apply(t,arguments)}}},7827:function(t,e,n){var r=n(7675),o=n(5391),i=n(2073),s=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},3514:function(t,e,n){var r=n(182);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},5391:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},4373:function(t,e,n){var r=n(9036),o=n(5809),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},6145:function(t){t.exports={}},9417:function(t,e,n){var r=n(7827);t.exports=r("document","documentElement")},2633:function(t,e,n){var r=n(5560),o=n(7131),i=n(6171);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},6731:function(t,e,n){var r=n(5391),o=n(9036),i=n(7131),s=n(244),a=r.Object,c=o("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?c(t,""):a(t)}:a},6678:function(t,e,n){var r=n(9036),o=n(2073),i=n(4993),s=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t)}),t.exports=i.inspectSource},9257:function(t,e,n){var r,o,i,s=n(7683),a=n(5391),c=n(9036),u=n(5774),l=n(8471),d=n(4373),p=n(4993),h=n(651),f=n(6145),g="Object already initialized",m=a.TypeError,v=a.WeakMap;if(s||p.state){var _=p.state||(p.state=new v),y=c(_.get),b=c(_.has),w=c(_.set);r=function(t,e){if(b(_,t))throw new m(g);return e.facade=t,w(_,t,e),e},o=function(t){return y(_,t)||{}},i=function(t){return b(_,t)}}else{var S=h("state");f[S]=!0,r=function(t,e){if(d(t,S))throw new m(g);return e.facade=t,l(t,S,e),e},o=function(t){return d(t,S)?t[S]:{}},i=function(t){return d(t,S)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},1972:function(t,e,n){var r=n(244);t.exports=Array.isArray||function(t){return"Array"==r(t)}},2073:function(t){t.exports=function(t){return"function"==typeof t}},6553:function(t,e,n){var r=n(9036),o=n(7131),i=n(2073),s=n(5663),a=n(7827),c=n(6678),u=function(){},l=[],d=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=r(p.exec),f=!p.exec(u),g=function(t){if(!i(t))return!1;try{return d(u,l,t),!0}catch(t){return!1}},m=function(t){if(!i(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!d||o((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},3488:function(t,e,n){var r=n(7131),o=n(2073),i=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n==l||n!=u&&(o(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},5774:function(t,e,n){var r=n(2073);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3599:function(t){t.exports=!0},3969:function(t,e,n){var r=n(5391),o=n(7827),i=n(2073),s=n(3381),a=n(1004),c=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&s(e.prototype,c(t))}},954:function(t,e,n){var r=n(2954);t.exports=function(t){return r(t.length)}},5852:function(t,e,n){var r=n(6312),o=n(7131);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},7683:function(t,e,n){var r=n(5391),o=n(2073),i=n(6678),s=r.WeakMap;t.exports=o(s)&&/native code/.test(i(s))},8593:function(t,e,n){"use strict";var r=n(5560),o=n(9036),i=n(3057),s=n(7131),a=n(5556),c=n(6841),u=n(6337),l=n(5809),d=n(6731),p=Object.assign,h=Object.defineProperty,f=o([].concat);t.exports=!p||s((function(){if(r&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||a(p({},e)).join("")!=o}))?function(t,e){for(var n=l(t),o=arguments.length,s=1,p=c.f,h=u.f;o>s;)for(var g,m=d(arguments[s++]),v=p?f(a(m),p(m)):a(m),_=v.length,y=0;_>y;)g=v[y++],r&&!i(h,m,g)||(n[g]=m[g]);return n}:p},3628:function(t,e,n){var r,o=n(8347),i=n(9157),s=n(347),a=n(6145),c=n(9417),u=n(6171),l=n(651)("IE_PROTO"),d=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;f="undefined"!=typeof document?document.domain&&r?h(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):h(r);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=o(t),n=new d,d.prototype=null,n[l]=t):n=f(),void 0===e?n:i.f(n,e)}},9157:function(t,e,n){var r=n(5560),o=n(2506),i=n(6381),s=n(8347),a=n(9441),c=n(5556);e.f=r&&!o?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),o=c(e),u=o.length,l=0;u>l;)i.f(t,n=o[l++],r[n]);return t}},6381:function(t,e,n){var r=n(5391),o=n(5560),i=n(2633),s=n(2506),a=n(8347),c=n(5141),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=o?s?function(t,e,n){if(a(t),e=c(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=d(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=c(e),a(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5687:function(t,e,n){var r=n(5560),o=n(3057),i=n(6337),s=n(3768),a=n(9441),c=n(5141),u=n(4373),l=n(2633),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=a(t),e=c(e),l)try{return d(t,e)}catch(t){}if(u(t,e))return s(!o(i.f,t,e),t[e])}},3126:function(t,e,n){var r=n(244),o=n(9441),i=n(2036).f,s=n(8067),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return i(t)}catch(t){return s(a)}}(t):i(o(t))}},2036:function(t,e,n){var r=n(4512),o=n(347).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},6841:function(t,e){e.f=Object.getOwnPropertySymbols},3381:function(t,e,n){var r=n(9036);t.exports=r({}.isPrototypeOf)},4512:function(t,e,n){var r=n(9036),o=n(4373),i=n(9441),s=n(4581).indexOf,a=n(6145),c=r([].push);t.exports=function(t,e){var n,r=i(t),u=0,l=[];for(n in r)!o(a,n)&&o(r,n)&&c(l,n);for(;e.length>u;)o(r,n=e[u++])&&(~s(l,n)||c(l,n));return l}},5556:function(t,e,n){var r=n(4512),o=n(347);t.exports=Object.keys||function(t){return r(t,o)}},6337:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},5759:function(t,e,n){"use strict";var r=n(7104),o=n(5663);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},6034:function(t,e,n){var r=n(5391),o=n(3057),i=n(2073),s=n(5774),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!s(r=o(n,t)))return r;if(i(n=t.valueOf)&&!s(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!s(r=o(n,t)))return r;throw a("Can't convert object to primitive value")}},7675:function(t){t.exports={}},6438:function(t,e,n){var r=n(8471);t.exports=function(t,e,n,o){o&&o.enumerable?t[e]=n:r(t,e,n)}},8890:function(t,e,n){var r=n(5391).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},9696:function(t,e,n){var r=n(5391),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},5051:function(t,e,n){var r=n(7104),o=n(6381).f,i=n(8471),s=n(4373),a=n(5759),c=n(6615)("toStringTag");t.exports=function(t,e,n,u){if(t){var l=n?t:t.prototype;s(l,c)||o(l,c,{configurable:!0,value:e}),u&&!r&&i(l,"toString",a)}}},651:function(t,e,n){var r=n(3557),o=n(7980),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},4993:function(t,e,n){var r=n(5391),o=n(9696),i="__core-js_shared__",s=r[i]||o(i,{});t.exports=s},3557:function(t,e,n){var r=n(3599),o=n(4993);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.0",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"})},8630:function(t,e,n){var r=n(6759),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},9441:function(t,e,n){var r=n(6731),o=n(8890);t.exports=function(t){return r(o(t))}},6759:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!=r||0===r?0:(r>0?n:e)(r)}},2954:function(t,e,n){var r=n(6759),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},5809:function(t,e,n){var r=n(5391),o=n(8890),i=r.Object;t.exports=function(t){return i(o(t))}},5045:function(t,e,n){var r=n(5391),o=n(3057),i=n(5774),s=n(3969),a=n(3514),c=n(6034),u=n(6615),l=r.TypeError,d=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var n,r=a(t,d);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},5141:function(t,e,n){var r=n(5045),o=n(3969);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},7104:function(t,e,n){var r={};r[n(6615)("toStringTag")]="z",t.exports="[object z]"===String(r)},7803:function(t,e,n){var r=n(5391),o=n(5663),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},4003:function(t,e,n){var r=n(5391).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},7980:function(t,e,n){var r=n(9036),o=0,i=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36)}},1004:function(t,e,n){var r=n(5852);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2506:function(t,e,n){var r=n(5560),o=n(7131);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1635:function(t,e,n){var r=n(6615);e.f=r},6615:function(t,e,n){var r=n(5391),o=n(3557),i=n(4373),s=n(7980),a=n(5852),c=n(1004),u=o("wks"),l=r.Symbol,d=l&&l.for,p=c?l:l&&l.withoutSetter||s;t.exports=function(t){if(!i(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&i(l,t)?u[t]=l[t]:u[t]=c&&d?d(e):p(e)}return u[t]}},7640:function(t,e,n){"use strict";var r=n(1938),o=n(9036),i=n(4581).indexOf,s=n(538),a=o([].indexOf),c=!!a&&1/a([1],1,-0)<0,u=s("indexOf");r({target:"Array",proto:!0,forced:c||!u},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:i(this,t,e)}})},6889:function(t,e,n){var r=n(1938),o=n(8593);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},8805:function(t,e,n){var r=n(1938),o=n(5560),i=n(6381).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},9676:function(t,e,n){var r=n(1938),o=n(5809),i=n(5556);r({target:"Object",stat:!0,forced:n(7131)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},7375:function(t,e,n){"use strict";var r=n(1938),o=n(5391),i=n(7827),s=n(1981),a=n(3057),c=n(9036),u=n(3599),l=n(5560),d=n(5852),p=n(7131),h=n(4373),f=n(1972),g=n(2073),m=n(5774),v=n(3381),_=n(3969),y=n(8347),b=n(5809),w=n(9441),S=n(5141),E=n(7803),O=n(3768),C=n(3628),T=n(5556),x=n(2036),k=n(3126),P=n(6841),j=n(5687),I=n(6381),D=n(9157),A=n(6337),N=n(820),R=n(6438),$=n(3557),M=n(651),L=n(6145),F=n(7980),B=n(6615),U=n(1635),H=n(8643),G=n(5051),z=n(9257),W=n(2217).forEach,q=M("hidden"),V="Symbol",J=B("toPrimitive"),K=z.set,Y=z.getterFor(V),X=Object.prototype,Q=o.Symbol,Z=Q&&Q.prototype,tt=o.TypeError,et=o.QObject,nt=i("JSON","stringify"),rt=j.f,ot=I.f,it=k.f,st=A.f,at=c([].push),ct=$("symbols"),ut=$("op-symbols"),lt=$("string-to-symbol-registry"),dt=$("symbol-to-string-registry"),pt=$("wks"),ht=!et||!et.prototype||!et.prototype.findChild,ft=l&&p((function(){return 7!=C(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=rt(X,e);r&&delete X[e],ot(t,e,n),r&&t!==X&&ot(X,e,r)}:ot,gt=function(t,e){var n=ct[t]=C(Z);return K(n,{type:V,tag:t,description:e}),l||(n.description=e),n},mt=function(t,e,n){t===X&&mt(ut,e,n),y(t);var r=S(e);return y(n),h(ct,r)?(n.enumerable?(h(t,q)&&t[q][r]&&(t[q][r]=!1),n=C(n,{enumerable:O(0,!1)})):(h(t,q)||ot(t,q,O(1,{})),t[q][r]=!0),ft(t,r,n)):ot(t,r,n)},vt=function(t,e){y(t);var n=w(e),r=T(n).concat(wt(n));return W(r,(function(e){l&&!a(_t,n,e)||mt(t,e,n[e])})),t},_t=function(t){var e=S(t),n=a(st,this,e);return!(this===X&&h(ct,e)&&!h(ut,e))&&(!(n||!h(this,e)||!h(ct,e)||h(this,q)&&this[q][e])||n)},yt=function(t,e){var n=w(t),r=S(e);if(n!==X||!h(ct,r)||h(ut,r)){var o=rt(n,r);return!o||!h(ct,r)||h(n,q)&&n[q][r]||(o.enumerable=!0),o}},bt=function(t){var e=it(w(t)),n=[];return W(e,(function(t){h(ct,t)||h(L,t)||at(n,t)})),n},wt=function(t){var e=t===X,n=it(e?ut:w(t)),r=[];return W(n,(function(t){!h(ct,t)||e&&!h(X,t)||at(r,ct[t])})),r};if(d||(Q=function(){if(v(Z,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,e=F(t),n=function(t){this===X&&a(n,ut,t),h(this,q)&&h(this[q],e)&&(this[q][e]=!1),ft(this,e,O(1,t))};return l&&ht&&ft(X,e,{configurable:!0,set:n}),gt(e,t)},R(Z=Q.prototype,"toString",(function(){return Y(this).tag})),R(Q,"withoutSetter",(function(t){return gt(F(t),t)})),A.f=_t,I.f=mt,D.f=vt,j.f=yt,x.f=k.f=bt,P.f=wt,U.f=function(t){return gt(B(t),t)},l&&(ot(Z,"description",{configurable:!0,get:function(){return Y(this).description}}),u||R(X,"propertyIsEnumerable",_t,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Q}),W(T(pt),(function(t){H(t)})),r({target:V,stat:!0,forced:!d},{for:function(t){var e=E(t);if(h(lt,e))return lt[e];var n=Q(e);return lt[e]=n,dt[n]=e,n},keyFor:function(t){if(!_(t))throw tt(t+" is not a symbol");if(h(dt,t))return dt[t]},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),r({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(t,e){return void 0===e?C(t):vt(C(t),e)},defineProperty:mt,defineProperties:vt,getOwnPropertyDescriptor:yt}),r({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:bt,getOwnPropertySymbols:wt}),r({target:"Object",stat:!0,forced:p((function(){P.f(1)}))},{getOwnPropertySymbols:function(t){return P.f(b(t))}}),nt&&r({target:"JSON",stat:!0,forced:!d||p((function(){var t=Q();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}))},{stringify:function(t,e,n){var r=N(arguments),o=e;if((m(e)||void 0!==t)&&!_(t))return f(e)||(e=function(t,e){if(g(o)&&(e=a(o,this,t,e)),!_(e))return e}),r[1]=e,s(nt,null,r)}}),!Z[J]){var St=Z.valueOf;R(Z,J,(function(t){return a(St,this)}))}G(Q,V),L[q]=!0},6473:function(t,e,n){var r=n(2342);t.exports=r},5926:function(t,e,n){var r=n(5933);t.exports=r},6368:function(t,e,n){var r=n(8825);t.exports=r},6158:function(t,e,n){var r=n(9069);t.exports=r},3959:function(t,e,n){var r=n(9768);t.exports=r},5473:function(t,e,n){var r="undefined"!=typeof JSON?JSON:n(4343);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var s,a="boolean"==typeof e.cycles&&e.cycles,c=e.replacer||function(t,e){return e},u=e.cmp&&(s=e.cmp,function(t){return function(e,n){var r={key:e,value:t[e]},o={key:n,value:t[n]};return s(r,o)}}),l=[];return function t(e,s,d,p){var h=n?"\n"+new Array(p+1).join(n):"",f=n?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=c.call(e,s,d))){if("object"!=typeof d||null===d)return r.stringify(d);if(o(d)){for(var g=[],m=0;m<d.length;m++){var v=t(d,m,d[m],p+1)||r.stringify(null);g.push(h+n+v)}return"["+g.join(",")+h+"]"}if(-1!==l.indexOf(d)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(d);var _=i(d).sort(u&&u(d));for(g=[],m=0;m<_.length;m++){var y=t(d,s=_[m],d[s],p+1);if(y){var b=r.stringify(s)+f+y;g.push(h+n+b)}}return l.splice(l.indexOf(d),1),"{"+g.join(",")+h+"}"}}({"":t},"",t,0)};var o=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},i=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in t)e.call(t,r)&&n.push(r);return n}},4343:function(t,e,n){e.parse=n(5776),e.stringify=n(9086)},5776:function(t){var e,n,r,o,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(t){throw{name:"SyntaxError",message:t,at:e,text:r}},a=function(t){return t&&t!==n&&s("Expected '"+t+"' instead of '"+n+"'"),n=r.charAt(e),e+=1,n},c=function(){var t,e="";for("-"===n&&(e="-",a("-"));n>="0"&&n<="9";)e+=n,a();if("."===n)for(e+=".";a()&&n>="0"&&n<="9";)e+=n;if("e"===n||"E"===n)for(e+=n,a(),"-"!==n&&"+"!==n||(e+=n,a());n>="0"&&n<="9";)e+=n,a();if(t=+e,isFinite(t))return t;s("Bad number")},u=function(){var t,e,r,o="";if('"'===n)for(;a();){if('"'===n)return a(),o;if("\\"===n)if(a(),"u"===n){for(r=0,e=0;e<4&&(t=parseInt(a(),16),isFinite(t));e+=1)r=16*r+t;o+=String.fromCharCode(r)}else{if("string"!=typeof i[n])break;o+=i[n]}else o+=n}s("Bad string")},l=function(){for(;n&&n<=" ";)a()};o=function(){switch(l(),n){case"{":return function(){var t,e={};if("{"===n){if(a("{"),l(),"}"===n)return a("}"),e;for(;n;){if(t=u(),l(),a(":"),Object.hasOwnProperty.call(e,t)&&s('Duplicate key "'+t+'"'),e[t]=o(),l(),"}"===n)return a("}"),e;a(","),l()}}s("Bad object")}();case"[":return function(){var t=[];if("["===n){if(a("["),l(),"]"===n)return a("]"),t;for(;n;){if(t.push(o()),l(),"]"===n)return a("]"),t;a(","),l()}}s("Bad array")}();case'"':return u();case"-":return c();default:return n>="0"&&n<="9"?c():function(){switch(n){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}s("Unexpected '"+n+"'")}()}},t.exports=function(t,i){var a;return r=t,e=0,n=" ",a=o(),l(),n&&s("Syntax error"),"function"==typeof i?function t(e,n){var r,o,s=e[n];if(s&&"object"==typeof s)for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(void 0!==(o=t(s,r))?s[r]=o:delete s[r]);return i.call(e,n,s)}({"":a},""):a}},9086:function(t){var e,n,r,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(t){return o.lastIndex=0,o.test(t)?'"'+t.replace(o,(function(t){var e=i[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function a(t,o){var i,c,u,l,d,p=e,h=o[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"function"==typeof r&&(h=r.call(o,t,h)),typeof h){case"string":return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(e+=n,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=h.length,i=0;i<l;i+=1)d[i]=a(i,h)||"null";return u=0===d.length?"[]":e?"[\n"+e+d.join(",\n"+e)+"\n"+p+"]":"["+d.join(",")+"]",e=p,u}if(r&&"object"==typeof r)for(l=r.length,i=0;i<l;i+=1)"string"==typeof(c=r[i])&&(u=a(c,h))&&d.push(s(c)+(e?": ":":")+u);else for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(u=a(c,h))&&d.push(s(c)+(e?": ":":")+u);return u=0===d.length?"{}":e?"{\n"+e+d.join(",\n"+e)+"\n"+p+"}":"{"+d.join(",")+"}",e=p,u}}t.exports=function(t,o,i){var s;if(e="",n="","number"==typeof i)for(s=0;s<i;s+=1)n+=" ";else"string"==typeof i&&(n=i);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return a("",{"":t})}},181:function(t,e,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,f=function(){return l.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=i.test(t);return n||s.test(t)?a(t.slice(2),n?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,n){var r,o,i,s,a,c,u=0,l=!1,d=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function _(e){var n=r,i=o;return r=o=void 0,u=e,s=t.apply(i,n)}function y(t){return u=t,a=setTimeout(w,e),l?_(t):s}function b(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=i}function w(){var t=f();if(b(t))return S(t);a=setTimeout(w,function(t){var n=e-(t-c);return d?h(n,i-(t-u)):n}(t))}function S(t){return a=void 0,v&&r?_(t):(r=o=void 0,s)}function E(){var t=f(),n=b(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return y(c);if(d)return a=setTimeout(w,e),_(c)}return void 0===a&&(a=setTimeout(w,e)),s}return e=m(e)||0,g(n)&&(l=!!n.leading,i=(d="maxWait"in n)?p(m(n.maxWait)||0,e):i,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==a&&clearTimeout(a),u=0,r=c=o=a=void 0},E.flush=function(){return void 0===a?s:S(f())},E}},7654:function(t,e,n){var r,o="__lodash_hash_undefined__",i=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,c=s||a||Function("return this")(),u=Array.prototype,l=Function.prototype,d=Object.prototype,p=c["__core-js_shared__"],h=(r=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",f=l.toString,g=d.hasOwnProperty,m=d.toString,v=RegExp("^"+f.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=u.splice,y=T(c,"Map"),b=T(Object,"create");function w(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function S(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function E(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function O(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function C(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function T(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){if(!k(t)||h&&h in t)return!1;var e=function(t){var e=k(t)?m.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?v:i;return e.test(function(t){if(null!=t){try{return f.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function x(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(x.Cache||E),n}function k(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}w.prototype.clear=function(){this.__data__=b?b(null):{}},w.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},w.prototype.get=function(t){var e=this.__data__;if(b){var n=e[t];return n===o?void 0:n}return g.call(e,t)?e[t]:void 0},w.prototype.has=function(t){var e=this.__data__;return b?void 0!==e[t]:g.call(e,t)},w.prototype.set=function(t,e){return this.__data__[t]=b&&void 0===e?o:e,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(t){var e=this.__data__,n=O(e,t);return!(n<0||(n==e.length-1?e.pop():_.call(e,n,1),0))},S.prototype.get=function(t){var e=this.__data__,n=O(e,t);return n<0?void 0:e[n][1]},S.prototype.has=function(t){return O(this.__data__,t)>-1},S.prototype.set=function(t,e){var n=this.__data__,r=O(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},E.prototype.clear=function(){this.__data__={hash:new w,map:new(y||S),string:new w}},E.prototype.delete=function(t){return C(this,t).delete(t)},E.prototype.get=function(t){return C(this,t).get(t)},E.prototype.has=function(t){return C(this,t).has(t)},E.prototype.set=function(t,e){return C(this,t).set(t,e),this},x.Cache=E,t.exports=x},9797:function(t){var e="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function n(){var t=Date.now(),e=n.last||t;return n.last=t>e?t:e+1}t.exports=t.exports.default=function(t,r){return(t||"")+""+e+n().toString(36)+(r||"")},t.exports.process=function(t,r){return(t||"")+e+n().toString(36)+(r||"")},t.exports.time=function(t,e){return(t||"")+n().toString(36)+(e||"")}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";class t extends Error{constructor(t){super(t),this.name="AdaEmbedError"}}function e(t){if(!t)return;let e=t.charAt(0).toUpperCase()+t.slice(1);const n=e.charAt(e.length-1);[".","?","!"].includes(n)||(e=`${e}.`),console.warn(`Ada Embed - ${e}`)}var r=n(7293);function o(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(7654);function s(t){return new Promise(((e,n)=>{const r=t.method||"GET",{headers:o}=t,i=new XMLHttpRequest,s=new URL(t.url);s.searchParams.set("ada_request_origin","embed"),"withCredentials"in i&&(i.open(r,s.href,!0),o&&Object.keys(o).forEach((t=>{i.setRequestHeader(t,o[t])})),i.onload=()=>{if(i.status>=200&&i.status<300){let t;try{t=JSON.parse(i.response),e(t)}catch(t){n(new Error(`JSON Parse Error in XHR Request: ${t}`))}}else n(new Error(`XHR Error: ${i.statusText}`))},i.onerror=()=>n(new Error(`XHR Error: ${i.statusText}`)),i.send(t.body))}))}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const u=n.n(i)()((t=>0!==t&&Math.random()<(t||.01)));async function l(t,e,n){u(null==n?void 0:n.sampleRate)&&await s({url:"https://browser-http-intake.logs.datadoghq.com/v1/input/pubfe23baedd2ea322bebb5ed2020fa2fa1?ddsource=browser&ddtags=version:1.5.0,env:production",method:"POST",body:JSON.stringify(c(c({message:t},e),{},{sampleRate:(null==n?void 0:n.sampleRate)||.01,service:"embed",env:"production",embedVersion:2,version:"1.8.16",isNpm:!1,commitHash:"bccfc08"}))})}const d=()=>{};function p(t){return"object"==typeof t&&null!==t&&"string"==typeof t.handle}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(n){const r=document.getElementById("__ada");let i,s;if(r){/embed\.js/.test(r.src)&&e("`embed.js` script is no longer supported. Please update Ada Embed code to use `embed2.js` instead.");const n=r.getAttribute("data-lazy");if(s=Boolean(n||""===n),s)return;i=function(e){const n=e.getAttribute("data-handle")||void 0,r=e.getAttribute("data-domain")||void 0,i=n||p(window.adaSettings)&&window.adaSettings.handle||null;if(!i)throw new t("Either `data-handle` or `window.adaSettings.handle` must be defined");return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({handle:i,domain:r},window.adaSettings)}(r)}else{if(l('Missing "__ada" script tag',{handle:p(window.adaSettings)?window.adaSettings.handle:null}),!p(window.adaSettings))throw new t("`window.adaSettings` object must be defined");i=window.adaSettings,s=i.lazy||!1}var a;s||(a=()=>{n.start(i)},/comp|inter|loaded/.test(document.readyState)?a():document.addEventListener("DOMContentLoaded",(()=>{a()})))}var g,m,v,_,y,b,w=n(181),S=n.n(w),E={},O=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(t,e){for(var n in e)t[n]=e[n];return t}function x(t){var e=t.parentNode;e&&e.removeChild(t)}function k(t,e,n){var r,o=arguments,i={};for(r in e)"key"!==r&&"ref"!==r&&(i[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(i.children=n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===i[r]&&(i[r]=t.defaultProps[r]);return P(t,i,e&&e.key,e&&e.ref,null)}function P(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(i.__v=i),g.vnode&&g.vnode(i),i}function j(t){return t.children}function I(t,e){this.props=t,this.context=e}function D(t,e){if(null==e)return t.__?D(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?D(t):null}function A(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return A(t)}}function N(t){(!t.__d&&(t.__d=!0)&&m.push(t)&&!R.__r++||_!==g.debounceRendering)&&((_=g.debounceRendering)||v)(R)}function R(){for(var t;R.__r=m.length;)t=m.sort((function(t,e){return t.__v.__b-e.__v.__b})),m=[],t.some((function(t){var e,n,r,o,i,s,a;t.__d&&(s=(i=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=T({},i)).__v=r,o=H(a,i,r,e.__n,void 0!==a.ownerSVGElement,null,n,null==s?D(i):s),G(n,i),o!=s&&A(i)))}))}function $(t,e,n,r,o,i,s,a,c,u){var l,d,p,h,f,g,m,v=r&&r.__k||O,_=v.length;for(c==E&&(c=null!=s?s[0]:_?D(r,0):null),n.__k=[],l=0;l<e.length;l++)if(null!=(h=n.__k[l]=null==(h=e[l])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h?P(null,h,null,null,h):Array.isArray(h)?P(j,{children:h},null,null,null):null!=h.__e||null!=h.__c?P(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(p=v[l])||p&&h.key==p.key&&h.type===p.type)v[l]=void 0;else for(d=0;d<_;d++){if((p=v[d])&&h.key==p.key&&h.type===p.type){v[d]=void 0;break}p=null}f=H(t,h,p=p||E,o,i,s,a,c,u),(d=h.ref)&&p.ref!=d&&(m||(m=[]),p.ref&&m.push(p.ref,null,h),m.push(d,h.__c||f,h)),null!=f?(null==g&&(g=f),c=M(t,h,p,v,s,f,c),"option"==n.type?t.value="":"function"==typeof n.type&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=t&&(c=D(p))}if(n.__e=g,null!=s&&"function"!=typeof n.type)for(l=s.length;l--;)null!=s[l]&&x(s[l]);for(l=_;l--;)null!=v[l]&&q(v[l],v[l]);if(m)for(l=0;l<m.length;l++)W(m[l],m[++l],m[++l])}function M(t,e,n,r,o,i,s){var a,c,u;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(o==n||i!=s||null==i.parentNode)t:if(null==s||s.parentNode!==t)t.appendChild(i),a=null;else{for(c=s,u=0;(c=c.nextSibling)&&u<r.length;u+=2)if(c==i)break t;t.insertBefore(i,s),a=s}return void 0!==a?a:i.nextSibling}function L(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===C.test(e)?n+"px":null==n?"":n}function F(t,e,n,r,o){var i,s,a,c,u;if(o?"className"===e&&(e="class"):"class"===e&&(e="className"),"style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(c in r)n&&c in n||L(i,c,"");if(n)for(u in n)r&&n[u]===r[u]||L(i,u,n[u])}else"o"===e[0]&&"n"===e[1]?(s=e!==(e=e.replace(/Capture$/,"")),a=e.toLowerCase(),e=(a in t?a:e).slice(2),n?(r||t.addEventListener(e,B,s),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,B,s)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function B(t){this.l[t.type](g.event?g.event(t):t)}function U(t,e,n){var r,o;for(r=0;r<t.__k.length;r++)(o=t.__k[r])&&(o.__=t,o.__e&&("function"==typeof o.type&&o.__k.length>1&&U(o,e,n),e=M(n,o,o,t.__k,null,o.__e,e),"function"==typeof t.type&&(t.__d=e)))}function H(t,e,n,r,o,i,s,a,c){var u,l,d,p,h,f,m,v,_,y,b,w=e.type;if(void 0!==e.constructor)return null;(u=g.__b)&&u(e);try{t:if("function"==typeof w){if(v=e.props,_=(u=w.contextType)&&r[u.__c],y=u?_?_.props.value:u.__:r,n.__c?m=(l=e.__c=n.__c).__=l.__E:("prototype"in w&&w.prototype.render?e.__c=l=new w(v,y):(e.__c=l=new I(v,y),l.constructor=w,l.render=V),_&&_.sub(l),l.props=v,l.state||(l.state={}),l.context=y,l.__n=r,d=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=w.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=T({},l.__s)),T(l.__s,w.getDerivedStateFromProps(v,l.__s))),p=l.props,h=l.state,d)null==w.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==w.getDerivedStateFromProps&&v!==p&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(v,y),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(v,l.__s,y)||e.__v===n.__v){l.props=v,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),l.__v=e,e.__e=n.__e,e.__k=n.__k,l.__h.length&&s.push(l),U(e,a,t);break t}null!=l.componentWillUpdate&&l.componentWillUpdate(v,l.__s,y),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(p,h,f)}))}l.context=y,l.props=v,l.state=l.__s,(u=g.__r)&&u(e),l.__d=!1,l.__v=e,l.__P=t,u=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(r=T(T({},r),l.getChildContext())),d||null==l.getSnapshotBeforeUpdate||(f=l.getSnapshotBeforeUpdate(p,h)),b=null!=u&&u.type==j&&null==u.key?u.props.children:u,$(t,Array.isArray(b)?b:[b],e,n,r,o,i,s,a,c),l.base=e.__e,l.__h.length&&s.push(l),m&&(l.__E=l.__=null),l.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=z(n.__e,e,n,r,o,i,s,c);(u=g.diffed)&&u(e)}catch(t){e.__v=null,g.__e(t,e,n)}return e.__e}function G(t,e){g.__c&&g.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){g.__e(t,e.__v)}}))}function z(t,e,n,r,o,i,s,a){var c,u,l,d,p,h=n.props,f=e.props;if(o="svg"===e.type||o,null!=i)for(c=0;c<i.length;c++)if(null!=(u=i[c])&&((null===e.type?3===u.nodeType:u.localName===e.type)||t==u)){t=u,i[c]=null;break}if(null==t){if(null===e.type)return document.createTextNode(f);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,f.is&&{is:f.is}),i=null,a=!1}if(null===e.type)h!==f&&t.data!=f&&(t.data=f);else{if(null!=i&&(i=O.slice.call(t.childNodes)),l=(h=n.props||E).dangerouslySetInnerHTML,d=f.dangerouslySetInnerHTML,!a){if(null!=i)for(h={},p=0;p<t.attributes.length;p++)h[t.attributes[p].name]=t.attributes[p].value;(d||l)&&(d&&l&&d.__html==l.__html||(t.innerHTML=d&&d.__html||""))}(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||F(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||F(t,i,e[i],n[i],r)})(t,f,h,o,a),d?e.__k=[]:(c=e.props.children,$(t,Array.isArray(c)?c:[c],e,n,r,"foreignObject"!==e.type&&o,i,s,E,a)),a||("value"in f&&void 0!==(c=f.value)&&c!==t.value&&F(t,"value",c,h.value,!1),"checked"in f&&void 0!==(c=f.checked)&&c!==t.checked&&F(t,"checked",c,h.checked,!1))}return t}function W(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){g.__e(t,n)}}function q(t,e,n){var r,o,i;if(g.unmount&&g.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||W(r,null,e)),n||"function"==typeof t.type||(n=null!=(o=t.__e)),t.__e=t.__d=void 0,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){g.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&q(r[i],e,n);null!=o&&x(o)}function V(t,e,n){return this.constructor(t,n)}function J(t){var e={},n={__c:"__cC"+b++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return e[n.__c]=o,e},this.shouldComponentUpdate=function(t){o.props.value!==t.value&&r.some((function(e){e.context=t.value,N(e)}))},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}g={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(t)),r)return N(n.__E=n)}catch(e){t=e}throw t}},I.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&T(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),N(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),N(this))},I.prototype.render=j,m=[],v="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,y=E,b=0;const K=J(null),Y=J(null);var X=n(9797),Q=n.n(X);const Z="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,tt="8.33.0",et=globalThis;function nt(t,e,n){const r=n||et,o=r.__SENTRY__=r.__SENTRY__||{},i=o["8.33.0"]=o["8.33.0"]||{};return i[t]||(i[t]=e())}const rt=["debug","info","warn","error","log","assert","trace"],ot={};function it(t){if(!("console"in et))return t();const e=et.console,n={},r=Object.keys(ot);r.forEach((t=>{const r=ot[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}const st=nt("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Z?rt.forEach((n=>{e[n]=(...e)=>{t&&it((()=>{et.console[n](`Sentry Logger [${n}]:`,...e)}))}})):rt.forEach((t=>{e[t]=()=>{}})),e})),at=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ct(t,e=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function ut(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}const lt=Object.prototype.toString;function dt(t){switch(lt.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return bt(t,Error)}}function pt(t,e){return lt.call(t)===`[object ${e}]`}function ht(t){return pt(t,"ErrorEvent")}function ft(t){return pt(t,"DOMError")}function gt(t){return pt(t,"String")}function mt(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function vt(t){return pt(t,"Object")}function _t(t){return"undefined"!=typeof Event&&bt(t,Event)}function yt(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function bt(t,e){try{return t instanceof e}catch(t){return!1}}function wt(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}const St=et;function Et(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=Ot(n,l),!("html"===u||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch(t){return"<unknown>"}}function Ot(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(St.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(o&&o.length)o.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const t=n.className;if(t&&gt(t)){const e=t.split(/\s+/);for(const t of e)r.push(`.${t}`)}}const i=["aria-label","type","name","title","alt"];for(const t of i){const e=n.getAttribute(t);e&&r.push(`[${t}="${e}"]`)}return r.join("")}function Ct(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function Tt(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{wt(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function xt(t,e=[],n=!1){return e.some((e=>function(t,e,n=!1){return!!gt(t)&&(pt(e,"RegExp")?e.test(t):!!gt(e)&&(n?t===e:t.includes(e)))}(t,e,n)))}function kt(t,e,n){if(!(e in t))return;const r=t[e],o=n(r);"function"==typeof o&&function(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Pt(t,"__sentry_original__",e)}catch(t){}}(o,r),t[e]=o}function Pt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){Z&&st.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function jt(t){if(dt(t))return{message:t.message,name:t.name,stack:t.stack,...Dt(t)};if(_t(t)){const e={type:t.type,target:It(t.target),currentTarget:It(t.currentTarget),...Dt(t)};return"undefined"!=typeof CustomEvent&&bt(t,CustomEvent)&&(e.detail=t.detail),e}return t}function It(t){try{return"undefined"!=typeof Element&&bt(t,Element)?Et(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function Dt(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function At(t){return Nt(t,new Map)}function Nt(t,e){if(function(t){if(!vt(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(t){return!0}}(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.getOwnPropertyNames(t))void 0!==t[n]&&(r[n]=Nt(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(Nt(t,e))})),r}return t}function Rt(){const t=et,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function $t(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Mt(t){const{message:e,event_id:n}=t;if(e)return e;const r=$t(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Lt(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function Ft(t,e){const n=$t(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function Bt(t){if(t&&t.__sentry_captured__)return!0;try{Pt(t,"__sentry_captured__",!0)}catch(t){}return!1}var Ut;function Ht(t){return new zt((e=>{e(t)}))}function Gt(t){return new zt(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(Ut||(Ut={}));class zt{constructor(t){zt.prototype.__init.call(this),zt.prototype.__init2.call(this),zt.prototype.__init3.call(this),zt.prototype.__init4.call(this),this._state=Ut.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new zt(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new zt(((e,n)=>{let r,o;return this.then((e=>{o=!1,r=e,t&&t()}),(e=>{o=!0,r=e,t&&t()})).then((()=>{o?n(r):e(r)}))}))}__init(){this._resolve=t=>{this._setResult(Ut.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Ut.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===Ut.PENDING&&(yt(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Ut.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===Ut.RESOLVED&&t[1](this._value),this._state===Ut.REJECTED&&t[2](this._value),t[0]=!0)}))}}}const Wt="?",qt=/\(error: (.*)\)/,Vt=/captureMessage|captureException/;function Jt(t){return t[t.length-1]||{}}const Kt="<anonymous>";function Yt(t){try{return t&&"function"==typeof t&&t.name||Kt}catch(t){return Kt}}function Xt(t,e=100,n=1/0){try{return Zt("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Qt(t,e=3,n=102400){const r=Xt(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?Qt(t,e-1,n):r;var o}function Zt(t,e,n=1/0,r=1/0,o=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[i,s]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const a=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(wt(e))return"[VueViewModel]";if(vt(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${Yt(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(t){return`**non-serializable** (${t})`}var n}(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return Zt("",u.toJSON(),c-1,r,o)}catch(t){}const l=Array.isArray(e)?[]:{};let d=0;const p=jt(e);for(const t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(d>=r){l[t]="[MaxProperties ~]";break}const e=p[t];l[t]=Zt(t,e,c-1,r,o),d++}return s(e),l}function te(t,e=[]){return[t,e]}function ee(t,e){const[n,r]=t;return[n,[...r,e]]}function ne(t,e){const n=t[1];for(const t of n)if(e(t,t[0].type))return!0;return!1}function re(t){return et.__SENTRY__&&et.__SENTRY__.encodePolyfill?et.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}function oe(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"==typeof r?r="string"==typeof t?r+t:[re(r),t]:r.push("string"==typeof t?re(t):t)}for(const t of n){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Xt(n))}o(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}function ie(t){const e="string"==typeof t.data?re(t.data):t.data;return[At({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const se={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ae(t){return se[t]}function ce(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}class ue extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}function le(){return Date.now()/1e3}const de=function(){const{performance:t}=et;if(!t||!t.now)return le;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}();let pe;function he(t,e,n){return e||`${function(t){return`${function(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return n={sentry_key:t.publicKey,sentry_version:"7",...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`)).join("&");var n}(t,n)}`}function fe(){return ge(et),et}function ge(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||tt,e["8.33.0"]=e["8.33.0"]||{}}function me(){return{traceId:Rt(),spanId:Rt().substring(16)}}function ve(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||de(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:Rt()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}(()=>{const{performance:t}=et;if(!t||!t.now)return void(pe="none");const e=36e5,n=t.now(),r=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=o<e,s=t.timing&&t.timing.navigationStart,a="number"==typeof s?Math.abs(s+n-r):e;i||a<e?o<=a?(pe="timeOrigin",t.timeOrigin):pe="navigationStart":pe="dateNow"})();function _e(t,e){e?Pt(t,"_sentrySpan",e):delete t._sentrySpan}function ye(t){return t._sentrySpan}class be{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=me()}clone(){const t=new be;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,_e(t,ye(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ve(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,[n,r]=e instanceof we?[e.getScopeData(),e.getRequestSession()]:vt(e)?[t,t.requestSession]:[],{tags:o,extra:i,user:s,contexts:a,level:c,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,_e(this,void 0),this._attachments=[],this._propagationContext=me(),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:le(),...t},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ye(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e&&e.event_id?e.event_id:Rt();if(!this._client)return st.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=n&&n.event_id?n.event_id:Rt();if(!this._client)return st.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:Rt();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(st.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}const we=be;class Se{constructor(t,e){let n,r;n=t||new we,r=e||new we,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return yt(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function Ee(){const t=ge(fe());return t.stack=t.stack||new Se(nt("defaultCurrentScope",(()=>new we)),nt("defaultIsolationScope",(()=>new we)))}function Oe(t){return Ee().withScope(t)}function Ce(t,e){const n=Ee();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function Te(t){return Ee().withScope((()=>t(Ee().getIsolationScope())))}function xe(t){const e=ge(t);return e.acs?e.acs:{withIsolationScope:Te,withScope:Oe,withSetScope:Ce,withSetIsolationScope:(t,e)=>Te(e),getCurrentScope:()=>Ee().getScope(),getIsolationScope:()=>Ee().getIsolationScope()}}function ke(){return xe(fe()).getIsolationScope()}function Pe(){return xe(fe()).getCurrentScope().getClient()}const je="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const Ie=[];function De(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function Ae(t,e,n){if(n[e.name])je&&st.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===Ie.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),Ie.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}je&&st.log(`Integration installed: ${e.name}`)}}const Ne=/^sentry-/;function Re(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(e&&n&&(t[e]=n),t)),{})}const $e="production";function Me(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[t,r]]of e)(n[t]||(n[t]=[])).push(At(r));return n}function Le(t){const{spanId:e,traceId:n}=t.spanContext(),{parent_span_id:r}=Ue(t);return At({parent_span_id:r,span_id:e,trace_id:n})}function Fe(t){return"number"==typeof t?Be(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Be(t.getTime()):de()}function Be(t){return t>9999999999?t/1e3:t}function Ue(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:r,startTime:o,name:i,endTime:s,parentSpanId:a,status:c}=t;return At({span_id:e,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:Fe(o),timestamp:Fe(s)||void 0,status:He(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:Me(t)})}return{span_id:e,trace_id:n}}catch(t){return{}}}function He(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}function Ge(t){return t._sentryRootSpan||t}function ze(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},o=At({environment:n.environment||$e,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",o),o}function We(t){const e=Pe();if(!e)return{};const n=ze(Ue(t).trace_id||"",e),r=Ge(t),o=r._frozenDsc;if(o)return o;const i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&function(t){const e=function(t){if(t&&(gt(t)||Array.isArray(t)))return Array.isArray(t)?t.reduce(((t,e)=>{const n=Re(e);return Object.entries(n).forEach((([e,n])=>{t[e]=n})),t}),{}):Re(t)}(t);if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>(e.match(Ne)&&(t[e.slice("sentry-".length)]=n),t)),{});return Object.keys(n).length>0?n:void 0}(s);if(a)return a;const c=Ue(r),u=c.data||{},l=u["sentry.sample_rate"];null!=l&&(n.sample_rate=`${l}`);const d=u["sentry.source"],p=c.description;return"url"!==d&&p&&(n.transaction=p),function(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=Pe(),n=e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}()&&(n.sampled=String(function(t){const{traceFlags:e}=t.spanContext();return 1===e}(r))),e.emit("createDsc",n,r),n}function qe(t,e,n,r=0){return new zt(((o,i)=>{const s=t[r];if(null===e||"function"!=typeof s)o(e);else{const a=s({...e},n);je&&s.id&&null===a&&st.log(`Event processor "${s.id}" dropped event`),yt(a)?a.then((e=>qe(t,e,n,r+1).then(o))).then(null,i):qe(t,a,n,r+1).then(o).then(null,i)}}))}function Ve(t,e){const{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:f}=e;Je(t,"extra",n),Je(t,"tags",r),Je(t,"user",o),Je(t,"contexts",i),Je(t,"sdkProcessingMetadata",a),s&&(t.level=s),h&&(t.transactionName=h),f&&(t.span=f),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function Je(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}function Ke(t,e,n,r,o,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,c={...e,event_id:e.event_id||n.event_id||Rt(),timestamp:e.timestamp||le()},u=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:$e),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=Ct(t.message,i));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Ct(s.value,i));const a=t.request;a&&a.url&&(a.url=Ct(a.url,i))}(c,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(c,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=et._sentryDebugIds;if(!n)return;let r;const o=Ye.get(e);o?r=o:(r=new Map,Ye.set(e,r));const i=Object.entries(n).reduce(((t,[n,o])=>{let i;const s=r.get(n);s?i=s:(i=e(n),r.set(n,i));for(let e=i.length-1;e>=0;e--){const n=i[e];if(n.filename){t[n.filename]=o;break}}return t}),{});try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&(t.debug_id=i[t.filename])}))}))}catch(t){}}(c,t.stackParser);const l=function(t,e){if(!e)return t;const n=t?t.clone():new we;return n.update(e),n}(r,n.captureContext);n.mechanism&&Ft(c,n.mechanism);const d=o?o.getEventProcessors():[],p=nt("globalScope",(()=>new we)).getScopeData();i&&Ve(p,i.getScopeData()),l&&Ve(p,l.getScopeData());const h=[...n.attachments||[],...p.attachments];return h.length&&(n.attachments=h),function(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=e,c=At(n);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});const u=At(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=At(o);l&&Object.keys(l).length&&(t.user={...l,...t.user});const d=At(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),s&&(t.level=s),a&&"transaction"!==t.type&&(t.transaction=a)}(t,e),r&&function(t,e){t.contexts={trace:Le(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:We(e),...t.sdkProcessingMetadata};const n=Ue(Ge(e)).description;n&&!t.transaction&&"transaction"===t.type&&(t.transaction=n)}(t,r),function(t,e){var n;t.fingerprint=t.fingerprint?(n=t.fingerprint,Array.isArray(n)?n:[n]):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}(c,p),qe([...d,...p.eventProcessors],c,n).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach((([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})}))}(t),"number"==typeof s&&s>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Xt(t.data,e,n)}})))},...t.user&&{user:Xt(t.user,e,n)},...t.contexts&&{contexts:Xt(t.contexts,e,n)},...t.extra&&{extra:Xt(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Xt(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map((t=>({...t,...t.data&&{data:Xt(t.data,e,n)}})))),r}(t,s,a):t)))}const Ye=new WeakMap,Xe="Not capturing exception because it's already been captured.";function Qe(t){return void 0===t.type}function Ze(t){return"transaction"===t.type}const tn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function en(t,e){const n=rn(t,e),r={type:e&&e.name,value:sn(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function nn(t,e){return{exception:{values:[en(t,e)]}}}function rn(t,e){const n=e.stacktrace||e.stack||"",r=function(t){return t&&on.test(t.message)?1:0}(e),o=function(t){return"number"==typeof t.framesToPop?t.framesToPop:0}(e);try{return t(n,r,o)}catch(t){}return[]}const on=/Minified React error #\d+;/i;function sn(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function an(t,e,n,r){const o=function(t,e,n,r,o){let i;if(ht(e)&&e.error)return nn(t,e.error);if(ft(e)||pt(e,"DOMException")){const o=e;if("stack"in e)i=nn(t,e);else{const e=o.name||(ft(o)?"DOMError":"DOMException"),s=o.message?`${e}: ${o.message}`:e;i=cn(t,s,n,r),Lt(i,s)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return dt(e)?nn(t,e):vt(e)||_t(e)?(i=function(t,e,n,r){const o=Pe(),i=o&&o.getOptions().normalizeDepth,s=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}(e),a={__serialized__:Qt(e,i)};if(s)return{exception:{values:[en(t,s)]},extra:a};const c={exception:{values:[{type:_t(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:un(e,{isUnhandledRejection:r})}]},extra:a};if(n){const e=rn(t,n);e.length&&(c.exception.values[0].stacktrace={frames:e})}return c}(t,e,n,void 0),Ft(i,{synthetic:!0}),i):(i=cn(t,e,n,r),Lt(i,`${e}`,void 0),Ft(i,{synthetic:!0}),i)}(t,e,n&&n.syntheticException||void 0,r);return Ft(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ht(o)}function cn(t,e,n,r){const o={};if(r&&n){const r=rn(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]})}if(mt(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function un(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys(jt(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return Ct(r,e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:Ct(r,e)}return""}(t),r=e?"promise rejection":"exception";return ht(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:_t(t)?`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}const ln=et,dn=et;function pn(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}const hn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,fn=et,gn={};function mn(t){gn[t]=void 0}function vn(t,e,n=function(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return Gt(new ue("Not adding Promise because buffer limit was reached."));const o=r();return-1===e.indexOf(o)&&e.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(t){return new zt(((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{Ht(t).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}(t.bufferSize||64)){let r={};return{send:function(o){const i=[];if(ne(o,((e,n)=>{const o=ae(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)){const r=_n(e,n);t.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(e)})),0===i.length)return Ht({});const s=te(o[0],i),a=e=>{ne(s,((n,r)=>{const o=_n(n,r);t.recordDroppedEvent(e,ae(r),o)}))};return n.add((()=>e({body:oe(s)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&je&&st.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=function(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n,,,i]=t.split(":",5),s=parseInt(e,10),a=1e3*(isNaN(s)?60:s);if(n)for(const t of n.split(";"))"metric_bucket"===t&&i&&!i.split(";").includes("custom")||(o[t]=r+a);else o.all=r+a}else s?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(s,r):429===e&&(o.all=r+6e4);return o}(r,t),t)),(t=>{throw a("network_error"),t})))).then((t=>t),(t=>{if(t instanceof ue)return je&&st.error("Skipped sending event because buffer is full."),a("queue_overflow"),Ht({});throw t}))},flush:t=>n.drain(t)}}function _n(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}function yn(t,e,n,r){const o={filename:t,function:"<anonymous>"===e?Wt:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const bn=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wn=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Sn=/\((\S*)(?::(\d+))(?::(\d+))\)/,En=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,On=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Cn=function(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0,r=0)=>{const o=[],i=t.split("\n");for(let t=n;t<i.length;t++){const n=i[t];if(n.length>1024)continue;const s=qt.test(n)?n.replace(qt,"$1"):n;if(!s.match(/\S*Error: /)){for(const t of e){const e=t(s);if(e){o.push(e);break}}if(o.length>=50+r)break}}return function(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Jt(e).function||"")&&e.pop(),e.reverse(),Vt.test(Jt(e).function||"")&&(e.pop(),Vt.test(Jt(e).function||"")&&e.pop()),e.slice(0,50).map((t=>({...t,filename:t.filename||Jt(e).filename,function:t.function||Wt})))}(o.slice(r))}}([30,t=>{const e=bn.exec(t);if(e){const[,t,n,r]=e;return yn(t,Wt,+n,+r)}const n=wn.exec(t);if(n){if(n[2]&&0===n[2].indexOf("eval")){const t=Sn.exec(n[2]);t&&(n[2]=t[1],n[3]=t[2],n[4]=t[3])}const[t,e]=Tn(n[1]||Wt,n[2]);return yn(e,t,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=En.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=On.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||Wt;return[n,t]=Tn(n,t),yn(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),Tn=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:Wt,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},xn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"];function kn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return je&&st.error(`Cannot extract url for event ${Mt(t)}`),null}}const Pn={},jn={};function In(t,e){Pn[t]=Pn[t]||[],Pn[t].push(e)}function Dn(t,e){jn[t]||(e(),jn[t]=!0)}function An(t,e){const n=t&&Pn[t];if(n)for(const r of n)try{r(e)}catch(e){Z&&st.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Yt(r)}\nError:`,e)}}let Nn,Rn,$n;function Mn(){if(!fn.document)return;const t=An.bind(null,"dom"),e=Ln(t,!0);fn.document.addEventListener("click",e,!1),fn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=fn[e]&&fn[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(kt(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const r=Ln(t);s.handler=r,e.call(this,n,r,o)}s.refCount++}catch(t){}return e.call(this,n,r,o)}})),kt(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,r),i.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}function Ln(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;Pt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Pt(r,"_sentryId",Rt());const o="keypress"===n.type?"input":n.type;(function(t){if(t.type!==Rn)return!1;try{if(!t.target||t.target._sentryId!==$n)return!1}catch(t){}return!0})(n)||(t({event:n,name:o,global:e}),Rn=n.type,$n=r?r._sentryId:void 0),clearTimeout(Nn),Nn=fn.setTimeout((()=>{$n=void 0,Rn=void 0}),1e3)}}function Fn(){if(!fn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const r=1e3*de(),o=gt(n[0])?n[0].toUpperCase():void 0,i=function(t){if(gt(t))return t;try{return t.toString()}catch(t){}}(n[1]);if(!o||!i)return t.apply(e,n);e.__sentry_xhr_v3__={method:o,url:i,request_headers:{}},"POST"===o&&i.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const s=()=>{const t=e.__sentry_xhr_v3__;if(t&&4===e.readyState){try{t.status_code=e.status}catch(t){}An("xhr",{endTimestamp:1e3*de(),startTimestamp:r,xhr:e})}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply(t,e,n){return s(),t.apply(e,n)}}):e.addEventListener("readystatechange",s),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[r,o]=n,i=e.__sentry_xhr_v3__;return i&&gt(r)&&gt(o)&&(i.request_headers[r.toLowerCase()]=o),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const r=e.__sentry_xhr_v3__;return r?(void 0!==n[0]&&(r.body=n[0]),An("xhr",{startTimestamp:1e3*de(),xhr:e}),t.apply(e,n)):t.apply(e,n)}})}const Bn=et;let Un;function Hn(){if(!function(){const t=Bn.chrome,e=t&&t.app&&t.app.runtime,n="history"in Bn&&!!Bn.history.pushState&&!!Bn.history.replaceState;return!e&&n}())return;const t=fn.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=Un,e=String(n);Un=e,An("history",{from:t,to:e})}return t.apply(this,e)}}fn.onpopstate=function(...e){const n=fn.location.href,r=Un;if(Un=n,An("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},kt(fn.history,"pushState",e),kt(fn.history,"replaceState",e)}const Gn=100;function zn(t,e){const n=Pe(),r=ke();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Gn}=n.getOptions();if(i<=0)return;const s={timestamp:le(),...t},a=o?it((()=>o(s,e))):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,e),r.addBreadcrumb(a,i))}function Wn(){"console"in et&&rt.forEach((function(t){t in et.console&&kt(et.console,t,(function(e){return ot[t]=e,function(...e){An("console",{args:e,level:t});const n=ot[t];n&&n.apply(et.console,e)}}))}))}function qn(t,e=!1){e&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in dn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}())return!1;if(pn(dn.fetch))return!0;let t=!1;const e=dn.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=pn(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){Z&&st.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}()||kt(et,"fetch",(function(e){return function(...n){const{method:r,url:o}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Jn(e),method:Vn(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Jn(e),method:Vn(e,"method")?String(e.method).toUpperCase():"GET"}}(n),i={args:n,fetchData:{method:r,url:o},startTimestamp:1e3*de()};t||An("fetch",{...i});const s=(new Error).stack;return e.apply(et,n).then((async e=>(t?t(e):An("fetch",{...i,endTimestamp:1e3*de(),response:e}),e)),(t=>{throw An("fetch",{...i,endTimestamp:1e3*de(),error:t}),dt(t)&&void 0===t.stack&&(t.stack=s,Pt(t,"framesToPop",1)),t}))}}))}function Vn(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Jn(t){return"string"==typeof t?t:t?Vn(t,"url")?t.url:t.toString?t.toString():"":""}const Kn=["fatal","error","warning","log","info","debug"];function Yn(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function Xn(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const Qn={},Zn=["XHR Error: "],tr=new class extends class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=function(t){const e="string"==typeof t?function(t){const e=at.exec(t);if(!e)return void it((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,o="",i="",s="",a=""]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return ut({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(t):ut(t);if(e&&function(t){if(!Z)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(st.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(st.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(st.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(st.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}(t.dsn):je&&st.warn("No DSN provided, client will not send events."),this._dsn){const e=he(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){const r=Rt();if(Bt(t))return je&&st.log(Xe),r;const o={event_id:r,...e};return this._process(this.eventFromException(t,o).then((t=>this._captureEvent(t,o,n)))),o.event_id}captureMessage(t,e,n,r){const o={event_id:Rt(),...n},i=mt(t)?t:String(t),s=null===(a=t)||mt(a)||"object"!=typeof a&&"function"!=typeof a?this.eventFromMessage(i,e,o):this.eventFromException(t,o);var a;return this._process(s.then((t=>this._captureEvent(t,o,r)))),o.event_id}captureEvent(t,e,n){const r=Rt();if(e&&e.originalException&&Bt(e.originalException))return je&&st.log(Xe),r;const o={event_id:r,...e},i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,i||n)),o.event_id}captureSession(t){"string"!=typeof t.release?je&&st.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ve(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):Ht(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];Ae(this,t,this._integrations),e||De(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=function(t,e,n,r){const o=ce(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const s=function(t,e,n,r){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:ct(r)},...o&&{trace:At({...o})}}}(t,o,r,e);return delete t.sdkProcessingMetadata,te(s,[[{type:i},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=ee(n,ie(t));const r=this.sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,n,r){const o=ce(n);return te({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:ct(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${t}:${e}`;je&&st.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(je&&st.error("Error while sending event:",t),t))):(je&&st.error("Transport disabled"),Ht({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&Ae(t,e,n)})),n}(this,t),De(this,t)}_updateSessionFromEvent(t,e){let n=!1,r=!1;const o=e.exception&&e.exception.values;if(o){r=!0;for(const t of o){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(ve(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new zt((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r=ke()){const o=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),Ke(o,t,e,n,this,r).then((t=>{if(null===t)return t;const e={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if((!t.contexts||!t.contexts.trace)&&e){const{traceId:n,spanId:r,parentSpanId:o,dsc:i}=e;t.contexts={trace:At({trace_id:n,span_id:r,parent_span_id:o}),...t.contexts};const s=i||ze(n,this);t.sdkProcessingMetadata={dynamicSamplingContext:s,...t.sdkProcessingMetadata}}return t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if(je){const e=t;"log"===e.logLevel?st.log(e.message):st.warn(e)}}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:o}=r,i=Ze(t),s=Qe(t),a=t.type||"error",c=`before send for type \`${a}\``,u=void 0===o?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e)||e<0||e>1))return e;je&&st.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}(o);if(s&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),Gt(new ue(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===a?"replay":a,d=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,e,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,t),new ue("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const o=function(t,e,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=e;if(Qe(n)&&o)return o(n,r);if(Ze(n)){if(n.spans&&s){const e=[];for(const r of n.spans){const n=s(r);n?e.push(n):t.recordDroppedEvent("before_send","span")}n.spans=e}if(i){if(n.spans){const t=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return i(n,r)}}return n}(this,r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(yt(t))return t.then((t=>{if(!vt(t)&&null!==t)throw new ue(n);return t}),(t=>{throw new ue(`${e} rejected with ${t}`)}));if(!vt(t)&&null!==t)throw new ue(n);return t}(o,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,t),i){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw new ue(`${c} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const t=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const s=r.transaction_info;if(i&&s&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...s,source:t}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof ue)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new ue(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}}))}_flushOutcomes(){je&&st.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(je&&st.log("No outcomes to send"));if(!this._dsn)return void(je&&st.log("No dsn provided, will not send outcomes"));je&&st.log("Sending outcomes:",t);const e=(n=t,te((r=this._options.tunnel&&ct(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:le(),discarded_events:n}]]));var n,r;this.sendEnvelope(e)}}{constructor(t){const e={parentSpanIsAlwaysRootSpan:!0,...t};!function(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map((t=>({name:`${r}:@sentry/${t}`,version:tt}))),version:tt}),t._metadata=o}(e,"browser",["browser"],ln.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&ln.document&&ln.document.addEventListener("visibilitychange",(()=>{"hidden"===ln.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return an(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",r,o){const i=cn(t,e,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Ht(i)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(tn&&st.warn("SDK not enabled, will not capture user feedback."));const e=function(t,{metadata:e,tunnel:n,dsn:r}){const o={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:ct(r)}},i=function(t){return[{type:"user_report"},t]}(t);return te(o,[i])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}}({transport:function(t,e=function(t){const e=gn[t];if(e)return e;let n=fn[t];if(pn(n))return gn[t]=n.bind(fn);const r=fn.document;if(r&&"function"==typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const o=e.contentWindow;o&&o[t]&&(n=o[t]),r.head.removeChild(e)}catch(e){hn&&st.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?gn[t]=n.bind(fn):n}("fetch")){let n=0,r=0;return vn(t,(function(o){const i=o.body.length;n+=i,r++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return mn("fetch"),Gt("No fetch implementation available");try{return e(t.url,s).then((t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return mn("fetch"),n-=i,r--,Gt(t)}}))},stackParser:Cn,dsn:null,beforeSend(t){return"Could not connect frame channel."===t.message?null:t},environment:"production",release:"1.8.16-bccfc08",sampleRate:.25,autoSessionTracking:!1,integrations:[((t={})=>({name:"InboundFilters",processEvent(e,n,r){const o=r.getOptions(),i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:xn],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,o);return function(t,e){return e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(je&&st.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Mt(t)}`),!0):function(t,e){return!(t.type||!e||!e.length)&&function(t){const e=[];let n;t.message&&e.push(t.message);try{n=t.exception.values[t.exception.values.length-1]}catch(t){}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),e}(t).some((t=>xt(t,e)))}(t,e.ignoreErrors)?(je&&st.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Mt(t)}`),!0):function(t){return!t.type&&(!(!t.exception||!t.exception.values||0===t.exception.values.length)&&(!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))))}(t)?(je&&st.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Mt(t)}`),!0):function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&xt(n,e)}(t,e.ignoreTransactions)?(je&&st.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Mt(t)}`),!0):function(t,e){if(!e||!e.length)return!1;const n=kn(t);return!!n&&xt(n,e)}(t,e.denyUrls)?(je&&st.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Mt(t)}.\nUrl: ${kn(t)}`),!0):!function(t,e){if(!e||!e.length)return!0;const n=kn(t);return!n||xt(n,e)}(t,e.allowUrls)&&(je&&st.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Mt(t)}.\nUrl: ${kn(t)}`),!0)}(e,i)?null:e}}))(),{name:"HttpContext",preprocessEvent(t){if(!ln.navigator&&!ln.location&&!ln.document)return;const e=t.request&&t.request.url||ln.location&&ln.location.href,{referrer:n}=ln.document||{},{userAgent:r}=ln.navigator||{},o={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:o};t.request=i}},((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){var n;e.console&&function(t){const e="console";In(e,t),Dn(e,Wn)}(function(t){return function(e){if(Pe()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:(r=e.level,"warn"===r?"warning":Kn.includes(r)?r:"log"),message:Tt(e.args," ")};var r;if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${Tt(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}zn(n,{input:e.args,level:e.level})}}(t)),e.dom&&(n=function(t,e){return function(n){if(Pe()!==t)return;let r,o,i="object"==typeof e?e.serializeAttribute:void 0,s="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;s&&s>1024&&(tn&&st.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=1024),"string"==typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=Et(e,{keyAttrs:i,maxStringLength:s}),o=function(t){if(!St.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}(e)}catch(t){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),zn(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom),In("dom",n),Dn("dom",Mn)),e.xhr&&function(t){In("xhr",t),Dn("xhr",Fn)}(function(t){return function(e){if(Pe()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,o=e.xhr.__sentry_xhr_v3__;if(!n||!r||!o)return;const{method:i,url:s,status_code:a,body:c}=o,u={method:i,url:s,status_code:a},l={xhr:e.xhr,input:c,startTimestamp:n,endTimestamp:r};zn({category:"xhr",data:u,type:"http",level:Yn(a)},l)}}(t)),e.fetch&&function(t,e){const n="fetch";In(n,t),Dn(n,(()=>qn(void 0,undefined)))}(function(t){return function(e){if(Pe()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error)zn({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:n,endTimestamp:r});else{const t=e.response,o={...e.fetchData,status_code:t&&t.status},i={input:e.args,response:t,startTimestamp:n,endTimestamp:r};zn({category:"fetch",data:o,type:"http",level:Yn(o.status_code)},i)}}}(t)),e.history&&function(t){const e="history";In(e,t),Dn(e,Hn)}(function(t){return function(e){if(Pe()!==t)return;let n=e.from,r=e.to;const o=Xn(ln.location.href);let i=n?Xn(n):void 0;const s=Xn(r);i&&i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),zn({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){Pe()===t&&zn({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Mt(e)},{event:e})}}(t))}}})()]}),er={setTag(t,e){Qn[t]=e},async trackException(t){if(e(t.message),Zn.includes(t.message))return;const n=await an(Cn,t);n.tags=Qn,tr.captureEvent(n)}};er.setTag("url",window.location.href);var nr=er;const rr="DELETE_HISTORY",or="JWT_AUTH_RESPONSE",ir="DISPATCH",sr="DISPATCH_RESPONSE",ar="STATE_CHANGE",cr="GET_RESPONSE",ur="GET_STATE",lr="GET_STATE_RESPONSE";let dr=function(t){return t.Done="DONE",t.Loading="LOADING",t.Failure="FAILURE",t.Uninitiated="UNINITIATED",t}({});const pr="GET_INFO",hr="GET_INFO_RESPONSE",fr="SET_META_FIELDS",gr="SET_META_FIELDS_RESPONSE",mr="STOP",vr="STOP_RESPONSE",_r="DELETE_HISTORY",yr="DELETE_HISTORY_RESPONSE",br="RESET",wr="RESET_RESPONSE",Sr="CREATE_PROACTIVE",Er="CREATE_PROACTIVE_RESPONSE",Or="TRACK_EVENT",Cr="TRACK_EVENT_RESPONSE",Tr="TRIGGER_CAMPAIGN",xr="TRIGGER_CAMPAIGN_RESPONSE",kr="EVAL_CAMPAIGN_CONDITIONS",Pr="EVAL_CAMPAIGN_CONDITIONS_RESPONSE",jr="CLOSE_CAMPAIGN",Ir="CLOSE_CAMPAIGN_RESPONSE",Dr="SET_DEVICE_TOKEN",Ar="SET_DEVICE_TOKEN_RESPONSE",Nr="TRIGGER_PROACTIVE",Rr="TRIGGER_PROACTIVE_RESPONSE",$r="SEND_GREETING";let Mr=function(t){return t.Success="SUCCESS",t.Failure="FAILURE",t}({});class Lr{constructor(){o(this,"trackedListeners",void 0),o(this,"trackedTimeouts",void 0),o(this,"eventType",void 0),o(this,"isConnected",void 0)}removeEventListener(t){window.removeEventListener(this.eventType,t),this.trackedListeners.delete(t)}clearTrackedTimeout(t){clearTimeout(t),this.trackedTimeouts.delete(t)}clearTimeoutsAndListeners(){this.removeAllEventListeners(),this.clearAllTrackedTimeouts()}fetch(e,n,r){var o=this;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6e4;const s=Q()();return new Promise(((a,c)=>{let u,l;u=window.setTimeout((()=>{this.removeEventListener(l),c(new t("Could not connect frame channel."))}),i),this.addTrackedTimeout(u),l=this.addEventListener((function(e,r,i){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mr.Success;e===n&&s===i&&(o.removeEventListener(l),clearTimeout(u),d===Mr.Success?a(r):c(new t(`Fetch event error: ${r}`)))})),this.postMessage(e,r,s)})).catch((n=>{if("GET_STATE"===e)throw new t(`Failed to respond to "GET_STATE" request. Reason: "${n.message}".`);"Could not connect frame channel."!==n.message&&nr.trackException(n)}))}addTrackedListener(t){window.addEventListener(this.eventType,t),this.trackedListeners.add(t)}addTrackedTimeout(t){this.trackedTimeouts.add(t)}removeAllEventListeners(){this.trackedListeners.forEach((t=>{this.removeEventListener(t)}))}clearAllTrackedTimeouts(){this.trackedTimeouts.forEach((t=>{this.clearTrackedTimeout(t)}))}}class Fr extends Lr{constructor(t,e,n){super(),o(this,"trackedListeners",new Set),o(this,"trackedTimeouts",new Set),o(this,"eventType","message"),o(this,"name",void 0),o(this,"targetWindow",void 0),o(this,"targetOrigin",void 0),o(this,"isConnected",!1),this.name=t,this.targetWindow=e,this.targetOrigin=n||"*"}static isMessageEvent(t){return"data"in t&&void 0!==t.data}postMessage(t,e,n,r){this.targetWindow.postMessage(this.constructObjectToSend(t,e,n,r),this.targetOrigin)}isValidMessageEvent(t){return"*"===this.targetOrigin||"origin"in t&&t.origin===this.targetOrigin}addEventListener(t){const e=e=>{let n;if(!this.isValidMessageEvent(e))return;try{Fr.isMessageEvent(e)&&(n=JSON.parse(e.data))}catch{return}const{name:r,type:o,payload:i,id:s,status:a}=n;r===this.name&&t(o,i,s,a)};return this.addTrackedListener(e),e}constructObjectToSend(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;try{return JSON.stringify({name:this.name,type:e,payload:n,id:r,status:o})}catch(r){const o=r instanceof Error?r.message:"unknown",i=n&&"object"==typeof n?Object.keys(n):[];if("DISPATCH"===e&&n&&"object"==typeof n){const e=n,r=e.payload&&"object"==typeof e.payload?Object.keys(e.payload):[];throw new t(`Failed to stringify payload for "DISPATCH" event. Reason: "${o}". Action: "${e.actionKey}". Payload keys: ${r.join(", ")}.`)}throw new t(`Failed to stringify object. Reason: "${o}". Event: "${e}". Payload keys: ${i.join(", ")}.`)}}}class Br extends Lr{constructor(){super(...arguments),o(this,"trackedListeners",new Set),o(this,"trackedTimeouts",new Set),o(this,"eventType","ada-custom-message"),o(this,"isConnected",!0)}postMessage(t,e,n,r){const o=function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"function"==typeof CustomEvent?n=new CustomEvent(t,{bubbles:r,cancelable:o,detail:e}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,r,o,e)),n}(this.eventType,this.constructObjectToSend(t,e,n,r));window.dispatchEvent(o)}addEventListener(t){const e=e=>{if(!e.detail)throw new Error("handleEvent.detail is undefined");const{detail:{type:n,payload:r,id:o,status:i}}=e;return t(n,r,o,i)};return this.addTrackedListener(e),e}constructObjectToSend(t,e,n,r){return{type:t,payload:e,id:n,status:r}}}class Ur{constructor(){o(this,"channels",{local:new Br})}registerFrameChannel(t,e,n){const r=new Fr(t,e,n);return this.channels[t]=r,r}unregisterChannel(e){const n=this.channels[e];if(!n)throw new t(`Channel "${e} not registered."`);n.clearTimeoutsAndListeners(),delete this.channels[e]}getChannel(t){return this.channels[t]}getAllChannels(){return Object.values(this.channels)}}var Hr=n(5473),Gr=n.n(Hr);let zr=function(t){return t.SET_STATE_ACTION="setState",t.TOGGLE_CHAT_ACTION="toggleChat",t.SET_CONNECTION_STATE="setConnectionState",t.SEND_UNREAD_MESSAGES_ACTION="sendUnreadMessages",t.FOCUS_OFF_ADA_ACTION="focusOffAda",t}({}),Wr=function(t){return t.SET_STATE_TYPE="SET_STATE",t.TOGGLE_CHAT_TYPE="TOGGLE_CHAT",t.SET_META_FIELDS_TYPE="SET_META_FIELDS",t.SET_CONNECTION_STATE_TYPE="SET_CONNECTION_STATE",t.INCREMENT_MESSAGE_COUNT_TYPE="INCREMENT_MESSAGE_COUNT",t.FOCUS_OFF_ADA_TYPE="FOCUS_OFF_ADA",t}({}),qr=[];const Vr=(()=>{let t=0;return()=>(t+=1,t)})();function Jr(t,e){qr.forEach((n=>{if(t.startsWith(n.eventKey))try{n.callback(e,{eventKey:t})}catch{}}))}function Kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Xr="ada";function Qr(t,e,n){return`https://rollout${e?`.${e}`:""}.${n||Xr}.support/${t}/client.json`}function Zr(t){return Object.keys(t).map((e=>{const n=t[e];return null==n?null:`${e}=${window.encodeURIComponent(n)}`})).filter((t=>null!==t)).join("&")}function to(t){let{name:e,handle:n,cluster:r,domain:o,route:i,qp:s={}}=t;const a=Zr(s),c=a.length?"?":"";return`https://${n}${r?`.${r}`:""}.${o||Xr}.support/${e}/${i?`${i}/`:""}${c}${a}`}const eo={setState:t=>{let{payload:e={}}=t;return{type:Wr.SET_STATE_TYPE,payload:e}},toggleChat:e=>{let{currentState:n}=e;if(n.chatterToken){if(!n.handle)throw new t("`currentState.handle` is undefined");s({url:to({name:"api",handle:n.handle,cluster:n.cluster,domain:n.domain,route:`chatters/${n.chatterToken}/live_chat_unread_amount`}),method:"DELETE"}).catch((t=>{console.error(t)}))}const{hasChatOpenedAfterProactiveMessagesShown:r,wasCampaignShownButNowClosed:o,proactiveCampaignHadMessages:i}=n;if(!n.isDrawerOpen&&!r&&!o&&i&&n.latestCampaignKey){if(!n.handle)throw new t("`currentState.handle` is undefined");s({url:`${to({name:"api",handle:n.handle,cluster:n.cluster,domain:n.domain})}business_events/track`,method:"POST",headers:{"Session-Auth":n.sessionToken||"","Chatter-Token":n.chatterToken||""},body:JSON.stringify({event_key:`ada:message_opened:${n.latestCampaignKey}`,value:0,meta:{campaign_key:n.latestCampaignKey},customer_query:{token:n.chatterToken}})}),Jr("ada:campaigns:opened",{campaignKey:n.latestCampaignKey})}return{type:Wr.TOGGLE_CHAT_TYPE}},sendUnreadMessages:t=>{let{payload:e}=t;return{type:Wr.INCREMENT_MESSAGE_COUNT_TYPE,payload:e}},setConnectionState:t=>{let{payload:e}=t;return{type:Wr.SET_CONNECTION_STATE_TYPE,payload:e}},focusOffAda:t=>{let{payload:e}=t;return{type:Wr.FOCUS_OFF_ADA_TYPE,payload:e}}};var no=n(6183);function ro(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ro(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?io(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class ao{constructor(t,e){o(this,"state",void 0),o(this,"defaultState",void 0),o(this,"messageService",void 0),this.defaultState=t,this.state=t,this.messageService=e}addChannelListener(t){const n=this.messageService.channels[t];n?n.addEventListener(((t,e,r)=>{this.handleEvents(n,t,e,r)})):e(`The ${t} channel should be registered first.`)}handleEvents(t,e,n,r){if("GET"===e){const{key:e}=n;this.getEventHandler(t,e,r)}e===ur&&this.getStateEventHandler(t,r),e===ir&&this.dispatchEventHandler(t,n,r)}getEventHandler(t,e,n){const r=this.state[e];t.postMessage(cr,r,n)}getStateEventHandler(t,e){t.postMessage(lr,this.state,e)}dispatchEventHandler(t,e,n){const{actionKey:r,payload:o}=e;if(i=r,!Object.values(zr).includes(i))return void console.error(`Action "${r} doesn't exist.`);var i;const s=eo[r]({currentState:this.state,payload:o,dispatch:(e,n)=>{this.dispatchEventHandler(t,{actionKey:e,payload:n})}}),a=((t,e)=>{switch(e.type){case Wr.TOGGLE_CHAT_TYPE:{let{hasChatOpenedAfterProactiveMessagesShown:e}=t;const{wasCampaignShownButNowClosed:n}=t;return t.isDrawerOpen||!t.latestCampaignKey||e||n||(e=!0),no.BB.setItem("ada-embed_is-drawer-open",!t.isDrawerOpen),oo(oo({},t),{},{isDrawerOpen:!t.isDrawerOpen,isIntroShown:!1,drawerHasBeenOpened:!0,focusIsOnAda:!0,unreadMessageCount:0,hasChatOpenedAfterProactiveMessagesShown:e})}case Wr.SET_STATE_TYPE:return oo(oo({},t),e.payload);case Wr.INCREMENT_MESSAGE_COUNT_TYPE:{const{messages:n}=e.payload,r=n.filter((t=>!t.campaign_key));return oo(oo({},t),{},{unreadMessageCount:r.length})}case Wr.SET_CONNECTION_STATE_TYPE:{const n=oo(oo({},t.connections),e.payload),r=Object.values(n);let o;const i=r.every((t=>t===dr.Done)),s=r.some((t=>t===dr.Done)),a=r.some((t=>t===dr.Failure));return o=i?dr.Done:a?dr.Failure:s?dr.Loading:dr.Uninitiated,oo(oo({},t),{},{connections:n,appConnectionState:o})}case Wr.FOCUS_OFF_ADA_TYPE:return oo(oo({},t),{},{focusIsOnAda:!1});default:return t}})(this.state,s);this.commitStateChanges(t,a,n)}commitStateChanges(t,e,n){const r=this.messageService.getAllChannels();t.postMessage(sr,e,n),Gr()(this.state)!==Gr()(e)&&(this.state=so(so({},this.state),e),r.forEach((t=>{t.isConnected&&t.postMessage(ar,this.state)})))}}class co{constructor(t,e){o(this,"localChannel",void 0),o(this,"store",void 0),o(this,"registeredCallbacks",[]),o(this,"get",(t=>this.localChannel.fetch("GET",cr,{key:t}))),o(this,"getState",(()=>this.localChannel.fetch(ur,lr))),o(this,"dispatch",((t,e)=>this.localChannel.fetch(ir,sr,{actionKey:t,payload:e}))),o(this,"subscribe",(t=>{this.registeredCallbacks.push(t)})),o(this,"addChannelListener",(t=>this.store.addChannelListener(t))),this.localChannel=e.channels.local,this.store=new ao(t,e),this.store.addChannelListener("local"),this.localChannel.addEventListener(((t,e)=>{t===ar&&this.registeredCallbacks.forEach((t=>{t(e)}))}))}}const uo="Notification"in window;const lo="chatter",po="ada-embed_chatter-created",ho="ada-embed_session-token",fo="inLiveChat",go="ada-embed_zd-session-id",mo="ada-embed_zd-previous-tags",vo="ada-embed_zd-messaging-external-user-id",_o="ada-embed_zd-messaging-chatter-created";function yo(t){return no.BB.getItem(t)||no.ad.getItem(t)}function bo(t){return t.trim().replace(/^http(s)?:\/\/(www.)?/,"")}const wo=(t,e)=>{const n=e.split("?")[0];return t.some((t=>{switch(t.type){case"ends-with":return n.endsWith(t.value)||(t=>t.endsWith("/")?t.slice(0,-1):t)(n).endsWith(t.value);case"contains":return e.includes(t.value);case"equals":return function(t,e){const n=bo(t),r=function(t){const e=t.split("?");if(e.length>1){const t=encodeURI(e[1]);return new RegExp(`^${e[0]}\\?${t}$`)}const n=t.replace("*",".*");return new RegExp(`^${n}$`)}(bo(e));return null!==r.exec(n)}(n,t.value);case"regex":{const n=new RegExp(t.value);return Boolean(n.exec(e))}default:return!1}}))},So=t=>{switch(t.type){case"url-match":return wo(t.conditions_any,window.location.href);case"datetime":return((t,e)=>{const n=new Date(t.condition.datetime);switch(t.condition.operator){case"before-exclusive":return e<n;case"after-inclusive":return e>=n;default:return!0}})(t,new Date);default:return!0}};function Eo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eo(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Co=[...Object.values({en:"en",be:"be",da:"da",de:"de",es:"es",fi:"fi",fr:"fr",hi:"hi",ht:"ht",id:"id",it:"it",ja:"ja",km:"km",ko:"ko",ms:"ms",my:"my",no:"no",nl:"nl",pa:"pa",pt:"pt",ru:"ru",sv:"sv",ta:"ta",th:"th",tl:"tl",tr:"tr",uk:"uk",vi:"vi",zh:"zh","zh-tw":"zh-tw",bg:"bg",ro:"ro",el:"el",hu:"hu",pl:"pl",cs:"cs",et:"et",hr:"hr",lt:"lt",lv:"lv",sl:"sl",sk:"sk",is:"is",ar:"ar",he:"he"})];function To(t){return Co.includes(t)}var xo=()=>{const t=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"en").toLowerCase();if(To(t))return t;if(t.includes("-")){const e=t.split("-")[0];if(To(e))return e}return t};function ko(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ko(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jo(t,e){switch(t.message_frequency){case"every-time":default:return!1;case"once-per-session":{const n=no.ad.getFnItem("marketing_campaigns_shown");return(n?(n[e]||"").split(","):[]).includes(t.campaign_key)}case"once-per-user":{const n=no.BB.getFnItem("marketing_campaigns_shown");return(n?(n[e]||"").split(","):[]).includes(t.campaign_key)}}}function Io(t,e){return t?`${t},${e}`:e}async function Do(t,n,r,o){try{const e=await s({url:Qr(t,n,r)});if(function(t){return["handle","rollout","chat","features"].every((e=>void 0!==t[e]))}(e))return{client:e}}catch(t){t instanceof Error&&nr.trackException(t)}try{return await s({url:to({name:"api",handle:t,cluster:n,domain:r,qp:{url:window.location.href,language:o}})})}catch(t){e("Failed to fetch client from API.")}return null}var Ao=n(8233),No=n(9186),Ro=n(20);const $o=["chat","chat_button","features","handle","language","persistence","privacy","rollout","alternative_bot","tint","translated_languages"];class Mo{constructor(t){o(this,"tint",void 0),o(this,"chat",void 0),o(this,"intro",void 0),o(this,"handle",void 0),o(this,"rollout",void 0),o(this,"alternative_bot",void 0),o(this,"language",void 0),o(this,"privacy",void 0),o(this,"features",void 0),o(this,"persistence",void 0),o(this,"chat_button",void 0),o(this,"business_events",void 0),o(this,"marketing_campaigns_order",void 0),o(this,"marketing_campaigns",void 0),o(this,"ui_settings",void 0),o(this,"translated_languages",void 0),o(this,"proactive_conversations",void 0);const{chat:e,chat_button:n,features:r,handle:i,language:s,persistence:a,privacy:c,rollout:u,alternative_bot:l,tint:d,translated_languages:p}=t,h=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Ro(t);for(r=0;r<i.length;r++)n=i[r],No(e).call(e,n)>=0||(o[n]=t[n]);return o}(t,e);if(Ao){var i=Ao(t);for(r=0;r<i.length;r++)n=i[r],No(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,$o);this.chat=e,this.chat_button=n,this.features=r,this.handle=i,this.language=s,this.persistence=a,this.privacy=c,this.rollout=u,this.tint=d,this.translated_languages=p,this.alternative_bot=l,Object.assign(this,h)}}function Lo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lo(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Bo="primary",Uo="alternative",Ho="botAssignment";async function Go(t,e,n,r){const{cluster:o,domain:i,language:s}=r;if(t===Bo)return e;if(t===Uo){const t=await Do(n,o,i,s||xo());return t?new Mo(t.client):null}return null}function zo(){return new URL(window.location.href).searchParams.get("adaBotHandleOverride")}function Wo(t){const e=function(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"function"==typeof Event?e=new Event(t,{bubbles:n,cancelable:r}):(e=document.createEvent("Event"),e.initEvent(t,n,r)),e}(t);window.dispatchEvent(e)}const qo=Wo.bind(void 0,"locationchange");function Vo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vo(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ko(t,e,n){no.BB.setFnItem("rolloutGroup",Jo(Jo({},no.BB.getFnItem("rolloutGroup")),{},{[t]:e})),no.BB.setFnItem("rolloutLastValue",Jo(Jo({},no.BB.getFnItem("rolloutLastValue")),{},{[t]:n}))}let Yo=function(t){return t.NOTIFICATION_CLICK="ada:web_notification:click",t}({});var Xo=n(977);function Qo(){return Qo=Xo||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function Zo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}class ti extends I{constructor(){super(...arguments),o(this,"state",{initialized:!1,propsFromState:{},propsFromDispatch:{}})}componentDidMount(){const{store:t}=this.props;t.subscribe((t=>{this.setState(this.mapStateAndDispatch(t))})),t.getState().then((t=>{this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zo(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({initialized:!0},this.mapStateAndDispatch(t)))}))}mapStateAndDispatch(t){const{mapStateToProps:e,mapDispatchToProps:n,store:r}=this.props;return{propsFromState:e?e(t):{},propsFromDispatch:n?n(r.dispatch):{}}}render(){const{WrappedComponent:t}=this.props,{propsFromState:e,propsFromDispatch:n,initialized:r}=this.state;return r?k(t,Qo({},this.props,e,n)):null}}function ei(t,e){return function(n){return r=>k(K.Consumer,null,(o=>k(ti,Qo({store:o},r,{WrappedComponent:n,mapStateToProps:t,mapDispatchToProps:e}))))}}function ni(t,e){return n=>e(t,n)}const ri=["ar","he"];function oi(t){const{language:e,align:n}=t;return"auto"===n?(t=>Boolean(t&&ri.includes(t))||!1)(e)?"left":"right":n||"right"}const ii="chat",si="x-storage",ai="normal",ci="session";function ui(t,e,n){n===ai&&no.BB.setItem(t,e),n===ci&&no.ad.setItem(t,e)}function li(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?li(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const pi="The format of manifest file is incorrect",hi=async e=>{if(window.__AdaChatVersion)return window.__AdaChatVersion;const{cluster:n,domain:r}=e;if("att"===n||null!=r&&r.match(/ada-(dev|dev2|stage)/))return;const o=await(async()=>{try{return(await fetch("https://static.ada.support/chat-manifest.json")).json()}catch(t){return void l("Failed to load chat manifest",{hostPage:window.location.href})}})();return o?(e=>{if(!(e=>{if("object"!=typeof e)throw new t(pi);if(null===e)throw new t(pi);const n=e;if(!Array.isArray(n.versions))throw new t(pi);if(!n.versions.length)throw new t(pi);if("string"!=typeof n.versions[0].hash)throw new t(pi);if(!n.versions[0].hash)throw new t(pi);if("number"!=typeof n.versions[0].weight)throw new t(pi);if(1!==n.versions.reduce(((t,e)=>t+e.weight),0))throw new t('The sum of version weights must be "1"');return!0})(e))throw new t(pi);const n=JSON.stringify(e);if(n===no.BB.getItem("ada-embed_chat-manifest-cache")){const t=no.BB.getItem("ada-embed_chat-assigned-version");if(t)return t}const r=Math.random(),{versions:o}=e,i=o.map((t=>({value:t,sort:Math.random()}))).sort(((t,e)=>t.sort-e.sort)).map((t=>{let{value:e}=t;return e}));let{hash:s}=i[i.length-1];for(let t=0;t<i.length;t+=1){const e=i[t];if(r<=e.weight){s=e.hash;break}}return no.BB.setItem("ada-embed_chat-assigned-version",s),no.BB.setItem("ada-embed_chat-manifest-cache",n),s})(o):void 0};var fi=ei((function(t){const{handle:e,domain:n,cluster:r,appConnectionState:o}=t;return{handle:e,domain:n,cluster:r,appConnectionState:o}}),(function(t){return{setGlobalState:ni(zr.SET_STATE_ACTION,t),setConnectionState:ni(zr.SET_CONNECTION_STATE,t)}}))(class extends I{constructor(){super(...arguments),o(this,"iframeRef",{current:null}),o(this,"channel",void 0)}getChannel(){const{name:t,store:e,messageService:n}=this.props;if(this.channel)return this.channel;const r=new URL(this.iframeRef.current.src).origin,o=n.registerFrameChannel(t,this.iframeRef.current.contentWindow,r);return e.addChannelListener(t),o}componentDidMount(){this.connectFrame()}componentDidUpdate(){const{appConnectionState:t}=this.props;t===dr.Done&&this.getChannel().postMessage("ALL_FRAMES_LOADED")}componentWillUnmount(){const{messageService:t,name:e}=this.props;t.unregisterChannel(e)}get url(){const{name:t,handle:e,domain:n,cluster:r}=this.props;return function(t){let e,{frameName:n,handle:r,cluster:o,domain:i}=t;return e=`https://${r}${o?`.${o}`:""}.${i||Xr}.support`,`${e}/embed/${n}/bccfc08/index.html`}({frameName:t,handle:e,domain:n,cluster:r})}async connectFrame(){const{name:t,setGlobalState:e,setConnectionState:n}=this.props;let r,o;this.channel=this.getChannel(),await n({[t]:dr.Loading}),r=window.setTimeout((()=>{this.getChannel().removeEventListener(o),n({[t]:dr.Failure})}),6e4),o=this.channel.addEventListener(((i,s)=>{(async()=>{i===`${t}_INIT`&&(this.getChannel().removeEventListener(o),this.getChannel().clearTrackedTimeout(r),this.getChannel().isConnected=!0,s&&await e(s),await n({[t]:dr.Done}))})()}))}render(){const{name:t,roleDescription:e,onTransitionEnd:n,styles:r,title:o,sandboxParams:i}=this.props,s=`ada-${t}-frame`;return k("iframe",{src:this.url,scrolling:"no",style:r,frameBorder:"0",ref:this.iframeRef,id:s,name:s,title:o||s,className:s,onTransitionEnd:n,"aria-roledescription":e,role:"application",sandbox:i})}}),gi=ei((function(t){const{client:e,isDrawerOpen:n}=t;return{client:e,isDrawerOpen:n}}))(class extends I{constructor(){super(...arguments),o(this,"state",{delayedIsShown:this.isShown}),o(this,"handleOnTransitionEndBound",this.handleOnTransitionEnd.bind(this))}get isShown(){const{isDrawerOpen:t}=this.props;return!t}get styles(){var t,e;const{client:n,frameWidth:r,adaSettings:o}=this.props;if(!n)return"";const i=n.chat_button.size,s=null===(t=n.ui_settings)||void 0===t||null===(e=t.embed)||void 0===e?void 0:e.style,{delayedIsShown:a}=this.state,c=i+48,u=i+48;let l=`\n      position: fixed;\n      bottom: 0px;\n      ${oi(o)}: 0px;\n      z-index: 10000;\n      height: ${c}px;\n      width: ${c}px;\n      overflow: hidden;\n      visibility: ${this.isShown?"visible":"hidden"};\n      opacity: ${this.isShown?"1":"0"};\n      transition: visibility 200ms ease, opacity 200ms ease;\n      transform: translate(0, 10%);\n      transition: visibility 250ms ease, opacity 250ms ease, transform 250ms ease;\n      ${oi(o)}: 0;\n      bottom: 0;\n\n      ${this.isShown?"transform: translate(0, 0);":""}\n    `;return l+="text"===s?`\n        width: ${r}px;\n        height: 92px;\n    `:`\n        width: ${u}px;\n        height: ${u}px;\n      `,this.isShown||a?l:l+"\n      top: -9999px !important;\n      left: -9999px !important;\n    "}handleOnTransitionEnd(){this.setState({delayedIsShown:this.isShown})}render(){const{client:t}=this.props;return k(K.Consumer,null,(e=>k(Y.Consumer,null,(n=>k(fi,{title:null!=t&&t.handle?`${t.handle.charAt(0).toUpperCase()+t.handle.slice(1)} Chat Button Frame`:"Chat Button Frame",styles:this.styles,name:"button",store:e,messageService:n,onTransitionEnd:this.handleOnTransitionEndBound,sandboxParams:"allow-same-origin allow-scripts"})))))}});const mi=null!==/(iPhone)|(iPod)|(android)|(webOS)/i.exec(navigator.userAgent);class vi extends I{constructor(){super(...arguments),o(this,"iframeRef",{current:null}),o(this,"pageScrollLocked",!1),o(this,"documentBodyOverflow",""),o(this,"channel",void 0),o(this,"chatRenderTimeout",void 0),o(this,"url",this.getIframeSrc()),o(this,"state",{isMounted:!1,closeTransitionTime:200})}componentDidMount(){const{adaSettings:t,handle:e,setChatHasBeenRendered:n,messageService:r,store:o}=this.props;this.rememberInitialPageStyle(),n();const i=new URL(this.iframeRef.current.src).origin;this.channel=r.registerFrameChannel("chat",this.iframeRef.current.contentWindow,i),o.addChannelListener("chat"),this.bindChatEventHandlers(),this.handleScrollLock(),l("Chat frame mount",{handle:e,embedSettings:t}),setTimeout((()=>{this.setState({isMounted:!0})}),50)}componentDidUpdate(t){const{isDrawerOpen:e}=this.props;e!==t.isDrawerOpen&&this.handleScrollLock()}componentWillUnmount(){const{messageService:t}=this.props;t.unregisterChannel("chat")}get darkMode(){var t,e;const{client:n}=this.props;if(null==n||null===(t=n.ui_settings)||void 0===t||null===(e=t.chat)||void 0===e||!e.theme)return!1;const{theme:r}=n.ui_settings.chat,o=window.matchMedia("(prefers-color-scheme: dark)").matches;return"dark"===r||"auto"===r&&o}getIframeSrc(){const{handle:t,domain:e,cluster:n,greeting:r,language:o,skipGreeting:i,wasIntroShown:s,privateMode:a,testMode:c,adaSettings:u,chatVersion:l}=this.props,d=new URL(window.location.href).searchParams.get("adaSMSToken"),p={embedVersion:"bccfc08".slice(0,7),greeting:r,language:o,skipGreeting:i,introShown:s,embed2:1,private:a?1:null,test_user:c?1:null,align:oi(u)};return d&&(p.adaSMSToken=d),function(t){let{handle:e,version:n,cluster:r,domain:o,qp:i}=t;const s=Zr(Yr(Yr({},i),{},{version:n})),a=s.length?"?":"";return`https://${e}${r?`.${r}`:""}.${o||Xr}.support/chat/${a}${s}`}({version:l,handle:t,cluster:n,domain:e,qp:p})}get styles(){var t,e;const{isDrawerOpen:n,client:r,testMode:o,adaSettings:i}=this.props;if(!r)return"";const{isMounted:s,closeTransitionTime:a}=this.state,c=n&&s,u=this.darkMode?"#121212":"#fff",l="rectangular"===(null===(t=r.ui_settings)||void 0===t||null===(e=t.chat)||void 0===e?void 0:e.style)?"8px":"16px",d=o?"773px":"725px";return`\n        position: fixed;\n\n        ${mi?`\n          ${oi(i)}: 0;\n          bottom: 0;\n          height: 100%;\n        `:`\n          height: 90%;\n          ${oi(i)}: 24px;\n          bottom: 24px;\n          max-width: 375px;\n          max-height: ${d};\n          border-radius: ${l};\n        `}\n\n        width: 100%;\n        ${this.hasVisibleProactiveMessages||c?"pointer-events: auto":"pointer-events: none"};\n        opacity: 0;\n        transform: translate(0, 100px);\n        transition: transform ${a}ms ease, opacity ${a}ms ease, visibility 0ms linear ${a}ms;\n        box-shadow: 0px 12px 48px 4px rgba(0, 0, 0, 0.12);\n        background-color: ${u};\n        visibility: hidden;\n        z-index: 10010;\n\n        ${c&&"\n          opacity: 1;\n          transform: translate(0, 0);\n          transition: transform 300ms ease, opacity 300ms ease;\n          visibility: visible;\n        "}\n      `}get hasVisibleProactiveMessages(){const{chatDimensions:t}=this.props;return Boolean(null==t?void 0:t.height)}get visibleProactiveStyles(){var t,e;const{chatDimensions:n,client:r,adaSettings:o}=this.props;if(!r)return"";const i="text"===(null===(t=r.ui_settings)||void 0===t||null===(e=t.embed)||void 0===e?void 0:e.style)?41:r.chat_button.size-3;return`\n      box-shadow: none;\n      background: none;\n      height: ${null==n?void 0:n.height}px !important;\n      width: ${null==n?void 0:n.width}px !important;\n      ${oi(o)}: 0;\n      bottom: ${i}px;\n      z-index: 9999;\n    `}static get parentElementStyles(){return"\n      height: 100%;\n      width: 100%;\n    "}get chooseStyles(){const{parentElement:e,client:n,isDrawerOpen:r,drawerHasBeenOpened:o}=this.props;if(e)return vi.parentElementStyles;if(!n)throw new t("`client` is not defined");return n.features.afm_proactive_messaging&&!r?this.hasVisibleProactiveMessages?`\n        ${this.styles};\n        opacity: 1;\n        transform: translate(0, 0);\n        visibility: visible;\n        height: 0 !important;\n        transition: none;\n        ${this.visibleProactiveStyles};\n      `:`\n          ${this.styles};\n          opacity: 0;\n          transform: translate(375px, 0);\n          visibility: hidden;\n          transform: translate(0, 100px);\n\n          ${mi?"\n            height: 0;\n          ":"\n            height: 90%;\n          "}\n          ${!o&&"\n            transition: none;\n          "}\n        `:this.styles}handleScrollLock(){const{isDrawerOpen:t,parentElement:e}=this.props,{closeTransitionTime:n}=this.state;mi&&(e||(t?this.lockDocumentBodyFromScrolling():(this.pageScrollLocked&&this.unlockDocumentBodyFromScrolling(),this.iframeRef.current.ontransitionend=()=>{this.iframeRef.current.ontransitionend=null,setTimeout((()=>{this.collapseIframe()}),n)})))}collapseIframe(){const{isDrawerOpen:t}=this.props;t||(this.iframeRef.current.style.width=0,this.iframeRef.current.style.height=0)}rememberInitialPageStyle(){this.documentBodyOverflow=window.document.body.style.overflow}lockDocumentBodyFromScrolling(){this.pageScrollLocked=!0,this.documentBodyOverflow=window.document.body.style.overflow,window.document.body.style.overflow="hidden"}unlockDocumentBodyFromScrolling(){window.document.body.style.overflow=this.documentBodyOverflow,this.pageScrollLocked=!1}notificationOnClickHandler(t){const{toggleChat:e}=this.props;window.focus(),t||e()}handleNotifications(t){const{title:e,body:n,icon:r}=t,{isDrawerOpen:o,parentElement:i}=this.props,s=o||Boolean(i);!function(t,e,n,r){if(!uo||"granted"!==Notification.permission||!document.hidden&&e)return null;const o=new Notification(t,r);o.onclick=()=>{n&&n(),o.close()}}(e,s,this.notificationOnClickHandler.bind(this,s),{body:n,icon:r})}async handleChatEvent(e,n,r){const{adaSettings:o,setGlobalState:i,setConnectionState:s}=this.props;switch(e){case"GET_WINDOW_ORIGIN":if(!this.channel)throw new t("`this.channel` is not defined");this.channel.postMessage("SET_WINDOW_ORIGIN",window.location,r);break;case"CHAT_STARTED":if(!this.channel)throw new t("`this.channel` is not defined");clearTimeout(this.chatRenderTimeout),this.channel.isConnected=!0,s({chat:dr.Done});break;case"CHAT_WEBSOCKET_CONNECTED":i({isChatWebsocketConnected:!0});break;case"PUBLISH_EVENT":{const{eventKey:t,data:e}=n;Jr(t,e);break}case"ANALYTICS":{const{analytics:t}=n,{analyticsCallback:e}=o;e&&e(t);break}case"CHATTER":{const{client:e}=this.props,{chatter:r,created:s,sessionToken:a}=n,{chatterTokenCallback:c}=o;if(!e)throw new t("`client` is undefined");!function(t,e){const{persistence:n}=t,{chatter:r,created:o,sessionToken:i}=e;ui(lo,r,n),ui(po,o,n),i&&ui(ho,i,n)}(e,n),c&&c(r),await i({chatterToken:r,chatterCreated:s,sessionToken:a});break}case"ZD_SESSION":{const{client:e}=this.props,{zdSessionId:r,zdPreviousTags:o}=n;if(!e)throw new t("`client` is undefined");await i({zdSessionId:r});const s=e.persistence===ai?no.BB:e.persistence===ci?no.ad:null;s&&(null===r?s.removeItem(go):s.setItem(go,r),null===o?s.removeItem(mo):s.setItem(mo,o));break}case"ZD_MESSAGING_HANDOFF":{const{client:e}=this.props,{zdMessagingExternalUserId:r,zdMessagingChatterCreated:o}=n;if(!e)throw new t("`client` is undefined");await i({zdMessagingExternalUserId:r,zdMessagingChatterCreated:o}),null===r?no.BB.removeItem(vo):no.BB.setItem(vo,r),null===o?no.BB.removeItem(_o):no.BB.setItem(_o,o);break}case"LIVE_CHAT_UPDATE":{const{client:e}=this.props,{inLiveChat:r}=n;if(await i({chatterInLiveChat:r}),!e)throw new t("`client` is not defined");e.persistence===ai?no.BB.setItem(fo,r):e.persistence===ci&&no.ad.setItem(fo,r);break}case"CUSTOM_JAVASCRIPT":{const{eventCallbacks:t}=o;if(!t)break;const e=n.event_data,r=t[e.event_name],i=t["*"];r&&r(e),i&&i(e);break}case"RESET_FROM_CHAT":{const{resetChat:t}=this.props;t();break}case"JWT_AUTH":{const{zdChatterAuthCallback:e}=o;if(e)try{e((e=>{if(!this.channel)throw new t("`this.channel` is not defined");this.channel.postMessage(or,{token:e},r)}))}catch(e){if(console.warn("Function for zdChatterAuthCallback produced an error - please ensure the callback is functioning normally"),!this.channel)throw new t("`this.channel` is not defined");this.channel.postMessage(or,{},r)}else{if(!this.channel)throw new t("`this.channel` is not defined");this.channel.postMessage(or,{},r)}break}case"CREATE_NOTIFICATION":this.handleNotifications(n);break;case"BROWSER_HAS_NOTIFICATIONS":if(!this.channel)throw new t("`this.channel` is not defined");this.channel.postMessage("BROWSER_HAS_NOTIFICATIONS_RESPONSE",{browserHasNotificationSupport:uo});break;case"REQUEST_NOTIFICATIONS":uo&&Notification.requestPermission();break;case"END_CONVERSATION":{const{conversationEndCallback:t}=o;await i({metaFields:{proactive_conversation:null}}),t&&t(n);break}}}bindChatEventHandlers(){const{messageService:e}=this.props,n=e.getChannel("chat");if(!n)throw new t("`channel` is not defined");n.addEventListener(((t,e,n)=>{this.handleChatEvent(t,e,n)}))}frameLoaded(){const{handle:t,adaSettings:e}=this.props,{chatFrameTimeoutCallback:n}=e;this.chatRenderTimeout=window.setTimeout((()=>{var r;l("Chat frame took over 5 seconds to respond",{handle:t,embedSettings:e}),null!==(r=this.channel)&&void 0!==r&&r.isConnected||(n&&n(),Jr("ada:chat_frame_timeout",void 0))}),5e3)}render(){const{client:t,isDrawerOpen:e}=this.props,n="ada-chat-frame";return k("iframe",{src:this.url,scrolling:"no",style:this.chooseStyles,frameBorder:"0",ref:this.iframeRef,id:n,name:n,title:n,className:n,"aria-expanded":e,"aria-roledescription":null!=t&&t.handle?`${t.handle.charAt(0).toUpperCase()+t.handle.slice(1)} Chat Window`:"Chat Window","aria-modal":!0,allowTransparency:!0,allowFullScreen:!0,onLoad:this.frameLoaded.bind(this),sandbox:"allow-downloads allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation allow-forms"})}}var _i=ei((function(t){const{handle:e,domain:n,cluster:r,greeting:o,language:i,wasIntroShown:s,isDrawerOpen:a,parentElement:c,privateMode:u,testMode:l,client:d,chatDimensions:p,drawerHasBeenOpened:h}=t;return{handle:e,domain:n,cluster:r,greeting:o,language:i,wasIntroShown:s,isDrawerOpen:a,parentElement:c,privateMode:u,testMode:l,client:d,chatDimensions:p,drawerHasBeenOpened:h}}),(function(t){return{setConnectionState:ni(zr.SET_CONNECTION_STATE,t),setGlobalState:ni(zr.SET_STATE_ACTION,t),toggleChat:ni(zr.TOGGLE_CHAT_ACTION,t)}}))(vi),yi=ei((function(t){const{client:e,introDimensions:n,isIntroShown:r,isDrawerOpen:o,adaSettings:i}=t;return{client:e,introDimensions:n,isIntroShown:r,isDrawerOpen:o,adaSettings:i}}))(class extends I{get isShown(){const{isIntroShown:t,isDrawerOpen:e}=this.props;return t&&!e}get styles(){const{client:t,introDimensions:e,adaSettings:n}=this.props;if(!t)return"display: none";const r=t.chat_button.size,o=16+r,i=`\n      position: fixed;\n      ${oi(n)}: ${o}px;\n      bottom: 8px;\n      z-index: 10000;\n      max-height: 300px;\n      max-width: 250px;\n      opacity: ${this.isShown?"1":"0"};\n      height: ${e.height}px;\n      width: ${e.width}px;\n      max-height: auto;\n      max-width: 350px;\n      z-index: 9999;\n      ${oi(n)}: 0;\n      bottom: ${r-20}px;\n    `;return this.isShown?i:i+'\n      visibility: "hidden";\n      top: -9999px !important;\n      left: -9999px !important;\n    '}render(){return k(K.Consumer,null,(t=>k(Y.Consumer,null,(e=>k(fi,{styles:this.styles,name:"intro",store:t,messageService:e})))))}}),bi=ei((function(t){const{isDrawerOpen:e}=t;return{isDrawerOpen:e}}))(class extends I{constructor(){super(...arguments),o(this,"state",{delayedIsShown:this.isShown}),o(this,"handleOnTransitionEndBound",this.handleOnTransitionEnd.bind(this))}get isShown(){const{isDrawerOpen:t}=this.props;return t}get styles(){const{delayedIsShown:t}=this.state,e=`\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 9998;\n      visibility: ${this.isShown?"visible":"hidden"};\n      opacity: ${this.isShown?"1":"0"};\n      transition: visibility 200ms ease, opacity 200ms ease;\n    `;return this.isShown||t?e:e+"\n      top: -9999px !important;\n      left: -9999px !important;\n    "}handleOnTransitionEnd(){this.setState({delayedIsShown:this.isShown})}render(){return k(K.Consumer,null,(t=>k(Y.Consumer,null,(e=>k(fi,{styles:this.styles,name:"drawer-mask",store:t,messageService:e,onTransitionEnd:this.handleOnTransitionEndBound})))))}});class wi extends I{static get styles(){return"\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      visibility: hidden;\n      height: 0;\n      width: 0;\n    "}render(){return k(K.Consumer,null,(t=>k(Y.Consumer,null,(e=>k(fi,{styles:wi.styles,name:si,store:t,messageService:e,sandboxParams:"allow-same-origin allow-scripts"})))))}}var Si=ei()(wi);function Ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ei(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Ci=ei((function(t){const{client:e,hideMask:n,metaFields:r,sensitiveMetaFields:o,isChatWebsocketConnected:i,isDrawerOpen:s,chatterToken:a,sessionToken:c,appConnectionState:u,drawerHasBeenOpened:l,chatterInLiveChat:d,chatDimensions:p,isIntroShown:h,language:f,wasCampaignShownButNowClosed:g}=t;return{client:e,hideMask:n,metaFields:r,sensitiveMetaFields:o,isChatWebsocketConnected:i,isDrawerOpen:s,chatterToken:a,sessionToken:c,appConnectionState:u,drawerHasBeenOpened:l,chatterInLiveChat:d,chatDimensions:p,isIntroShown:h,language:f,wasCampaignShownButNowClosed:g}}),(function(t){return{setGlobalState:ni(zr.SET_STATE_ACTION,t)}}))(class extends I{constructor(){super(...arguments),o(this,"state",{campaignToTrigger:null,campaignTriggerOptions:{ignoreFrequency:!1,ignoreStatus:!1},chatHasBeenRendered:!1,hideChatOverride:!1,hideIntroOverride:!1,followUpResponseId:null,chatVersion:void 0,readyToRenderChatFrame:!1,proactiveConversation:null,proactiveConversationTriggerMethod:null,recentProactiveConversationConfig:null}),o(this,"resetChatBound",this.resetChat.bind(this)),o(this,"locationChangeHandlerBound",this.locationChangeHandler.bind(this)),o(this,"setChatHasBeenRenderedBound",this.setChatHasBeenRendered.bind(this)),o(this,"frameWidth",0),o(this,"bindEmbedActionEventHandlerOnce",(()=>{let t=!1;return()=>{t||(this.bindEmbedActionEventHandler(),t=!0)}})())}async componentDidMount(){const{adaSettings:t,setGlobalState:e}=this.props,{onAdaEmbedLoaded:n}=t;e({adaSettings:t}),e({metaFields:{proactive_conversation:null}}),n&&n(),this.initialize(),this.notificationPermHandler(),window.history.pushState=(t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=t.apply(window.history,n);return Wo("pushstate"),Wo("locationchange"),o})(window.history.pushState),window.history.replaceState=(t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=t.apply(window.history,n);return Wo("replacestate"),Wo("locationchange"),o})(window.history.replaceState),window.addEventListener("popstate",qo),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(t=>{const{data:e}=t;!function(t){t.type===Yo.NOTIFICATION_CLICK&&setTimeout((()=>{var t;return null===(t=window.adaEmbed)||void 0===t?void 0:t.handleNotification()}),0)}(e)})),window.addEventListener("locationchange",this.locationChangeHandlerBound);const r=await hi(t);this.setState({chatVersion:r,readyToRenderChatFrame:!0})}onAppConnectionStateChange(){const{appConnectionState:e,initializationReject:n,initializationResolve:r,adaSettings:o}=this.props;switch(e){case dr.Done:if(!r)throw new t("`initializationResolve` is undefined");r(),this.bindEmbedActionEventHandlerOnce(),o.adaReadyCallback&&o.adaReadyCallback({isRolledOut:!0});break;case dr.Failure:if(!n)throw new t("`initializationReject` is undefined");n(new t("Embed startup failed. This is likely because one or all frame components failed to connect. Please check your internet connection.")),this.unmount()}}componentDidUpdate(t){var n,r;const{isDrawerOpen:o,appConnectionState:i,chatterToken:a,client:c,isChatWebsocketConnected:u,adaSettings:p,chatterInLiveChat:h,messageService:f,wasCampaignShownButNowClosed:g,setGlobalState:m,language:v}=this.props,{toggleCallback:_}=p;"text"===(null==c||null===(n=c.ui_settings)||void 0===n||null===(r=n.embed)||void 0===r?void 0:r.style)&&this.computeButtonFrameWidth(),t.appConnectionState!==i&&this.onAppConnectionStateChange();const{campaignToTrigger:y,campaignTriggerOptions:b,followUpResponseId:w,proactiveConversation:S,proactiveConversationTriggerMethod:E,recentProactiveConversationConfig:O}=this.state;if(!y||!y.message_text&&!a||!y.message_text&&!u||!y.response_id&&i!==dr.Done||o||h||function(t){let{adaSettings:n,chatterToken:r,campaign:o,ignoreStatus:i,ignoreFrequency:a,clearCampaignToTrigger:c,messageService:u}=t;const{handle:l,cluster:p,domain:h}=n;if(c(),a||!jo(o,l))if("active"===o.status||i)if(function(t,e,n){switch(e){case"every-time":default:break;case"once-per-session":{const e=no.ad.getFnItem("marketing_campaigns_shown"),r=Io(e&&e[n]||"",t);no.ad.setFnItem("marketing_campaigns_shown",Po(Po({},e),{},{[n]:r}));break}case"once-per-user":{const e=no.BB.getFnItem("marketing_campaigns_shown"),r=Io(e&&e[n]||"",t);no.BB.setFnItem("marketing_campaigns_shown",Po(Po({},e),{},{[n]:r}));break}}}(o.campaign_key,o.message_frequency,l),o.message_text){const t=u.getChannel("local"),r=n.language||xo(),i=o.message_text[r],s=o.message_duration,a=o.follow_up_response_id;i?t.postMessage(Sr,{body:i,duration:s,responseId:a}):e(`No translation for this campaign (campaign_key: ${o.campaign_key}) is defined for the language: ${r}`)}else s({url:to({name:"api",route:`campaigns/trigger/${o.campaign_key}`,handle:l,cluster:p,domain:h}),method:"POST",body:JSON.stringify({customer_query:{token:r},ignore_status:i})}).catch(d);else e(`Campaign with key ${o.campaign_key} is not active. If you still want to trigger it, use the ignoreStatus option.`)}({adaSettings:p,chatterToken:a,campaign:y,ignoreStatus:Boolean(b.ignoreStatus),ignoreFrequency:Boolean(b.ignoreFrequency),clearCampaignToTrigger:()=>this.setState({campaignToTrigger:null}),messageService:f}),S&&i===dr.Done&&function(t){let{proactiveConversation:n,triggerMethod:r,adaSettings:o,messageService:i,language:s,setRecentProactiveConversationConfig:a,clearProactiveConversation:c}=t;const{handle:u}=o,{key:d,params:p={},is_template:h}=n,f=String(d),{duration:g,delay:m,frequency:v,active:_}=n.modality_config.chat;let y=n.messages[s][0];if(_){if(h){if(0===Object.keys(p).length)return void e("Proactive message is a template but no parameters were provided");const t=[];if(y=y.replace(/{{(.*?)}}/g,((e,n)=>(n in p||t.push(n),p[n]))),t.length>0)return void e(`Missing parameters for template message: ${t.join(", ")}`)}if("url"===r){const t=!function(t,e,n){switch(e){case"always":default:return!1;case"session":{const e=no.ad.getFnItem("proactive_conversations_shown");return(e?(e[n]||"").split(","):[]).includes(t)}}}(f,v,u);if(!t)return}!function(t,e,n){switch(e){case"always":default:break;case"session":{const e=no.ad.getFnItem("proactive_conversations_shown"),i=(o=t,(r=e&&e[n]||"")?`${r},${o}`:o);no.ad.setFnItem("proactive_conversations_shown",di(di({},e),{},{[n]:i}));break}}var r,o}(f,v,u),a({key:f,params:p}),c(),i.getChannel("local").postMessage(Sr,{body:y,duration:g,delay:m}),l("Proactive message displayed",{handle:u,language:s,duration:g,delay:m})}else e("Proactive message is not active")}({proactiveConversation:S,triggerMethod:E,adaSettings:p,messageService:f,language:v||xo(),setRecentProactiveConversationConfig:t=>this.setState({recentProactiveConversationConfig:t}),clearProactiveConversation:()=>this.setState({proactiveConversation:null})}),u&&o&&w){const t=f.getChannel(ii);t&&(g?t.postMessage($r,void 0):t.postMessage($r,{responseId:w}),this.setState({followUpResponseId:null}))}if(u&&o&&O){const t=f.getChannel(ii);t&&(m({metaFields:{proactive_conversation:O.key}}),t.postMessage("INJECT_PROACTIVE_CONVERSATION",{key:O.key,messageParams:O.params,language:v||xo()}),l("Proactive message clicked",{handle:p.handle,embedSettings:p}),this.setState({recentProactiveConversationConfig:null}))}t.isDrawerOpen!==o&&_&&_(o),c&&!t.client&&(this.evaluateCampaignConditions({},!0),this.evaluateProactiveConversationConditions()),a&&t.chatterToken!==a&&null!=c&&c.business_events&&c.features.afm_business_events&&this.evaluateBusinessEventConditions()}get shouldRenderChatFrame(){const{isDrawerOpen:t,adaSettings:e,chatterInLiveChat:n}=this.props,{parentElement:r,preload:o}=e,{chatHasBeenRendered:i,hideChatOverride:s,readyToRenderChatFrame:a}=this.state;return!(!a||s||!o&&!n&&!r&&!t&&!i)}setChatHasBeenRendered(){this.setState({chatHasBeenRendered:!0})}computeButtonFrameWidth(){const{entryContainer:t,client:e}=this.props,n=function(t){var e,n;const r=null==t||null===(e=t.ui_settings)||void 0===e||null===(n=e.embed)||void 0===n?void 0:n.button_text,o=xo();return r&&r[o]?r[o]:"Chat"}(e),r=document.createElement("span");r.innerText=n||"",t.appendChild(r);const o=r.getBoundingClientRect().width;this.frameWidth=Math.ceil(o+26+30+48+24),t.removeChild(r)}unmount(){var t;const{entryContainer:e,messageService:n}=this.props;null===(t=e.parentNode)||void 0===t||t.removeChild(e),n.getAllChannels().forEach((t=>{t.clearTimeoutsAndListeners()})),window.removeEventListener("popstate",qo),window.removeEventListener("locationchange",this.locationChangeHandlerBound)}trackEvent(t){const{adaSettings:e,chatterToken:n,sessionToken:r}=this.props;!function(t,e,n,r){const{handle:o,cluster:i,domain:a}=t,c=to({name:"api",handle:o,cluster:i,domain:a});if(!e||!n)return;const{eventKey:u,value:l,meta:d}=r;s({url:`${c}business_events/track`,method:"POST",headers:{"Session-Auth":n,"Chatter-Token":e},body:JSON.stringify({event_key:u,value:l,meta:Oo(Oo({},d),{},{_ada_url:window.location.href.split("?")[0]}),customer_query:{token:e}})})}(e,n,r,t)}evaluateBusinessEventConditions(){const{client:t}=this.props;null!=t&&t.features.afm_business_events&&t.business_events&&t.business_events.filter((t=>t.trigger_conditions.some((t=>So(t))))).forEach((t=>{this.trackEvent({eventKey:t.event_key,value:t.value})}))}triggerCampaign(e){var n;const{client:r,isDrawerOpen:o,setGlobalState:i}=this.props,{chatHasBeenRendered:s}=this.state,{campaignKey:a,ignoreStatus:c,ignoreFrequency:u}=e;if(o)return;const l=null==r||null===(n=r.marketing_campaigns)||void 0===n?void 0:n.find((t=>t.campaign_key===a));if(!l)throw new t(`Could not find campaign with key: ${a}`);const d=l.follow_up_response_id?l.follow_up_response_id:l.response_id;i({latestCampaignKey:a,hasChatOpenedAfterProactiveMessagesShown:!1,wasCampaignShownButNowClosed:!1,proactiveCampaignHadMessages:!1}),this.setState({chatHasBeenRendered:s||!l.message_text,campaignToTrigger:l,followUpResponseId:d,campaignTriggerOptions:{ignoreFrequency:u,ignoreStatus:c}})}evaluateCampaignConditions(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{adaSettings:r,client:o}=this.props;if(!o)throw new t("`client` is not defined");const i=((t,e,n,r)=>{const{ignoreStatus:o=!1,ignoreFrequency:i=!1}=n,{handle:s}=t;return null==e?void 0:e.find((t=>{if("active"!==t.status&&!o)return!1;if(r&&!t.message_text)return!1;if(!t.trigger_conditions||0===t.trigger_conditions.length)return!1;const e=t.trigger_conditions.every((t=>So(t))),n=i||!jo(t,s);return e&&n}))})(r,o.marketing_campaigns,e,!o.features.afm_proactive_messaging);i&&(n?setTimeout((()=>{const{trigger_conditions:t=[]}=i;for(let e=0;e<t.length;e+=1)if(!So(t[e]))return;this.triggerCampaign({campaignKey:i.campaign_key})}),1e3*i.message_delay):this.triggerCampaign({campaignKey:i.campaign_key}))}evaluateProactiveConversationConditions(){const{client:e}=this.props;if(!e)throw new t("`client` is not defined");const n=e.proactive_conversations;if(!n)return;const r=window.location.href;Object.entries(n).forEach((t=>{let[e,n]=t;const o=n.modality_config.chat,i=n.is_template;var s,a;o.active&&!i&&(s=o.url_trigger_conditions,a=r,s&&s.length&&wo(s,a))&&this.handleProactiveTrigger(Oi({key:e},n),"url")}))}async handleSettingDeviceToken(t,e,n){const{setGlobalState:r,sensitiveMetaFields:o,metaFields:i}=this.props,s=(null==i?void 0:i.sdkType)||"WEB",a="REACTNATIVE"===s?"ANDROID":s,{token:c}=e;await r({deviceToken:c,sensitiveMetaFields:Oi(Oi({},o),{},{device_token:c,device_os:a})}),t.postMessage(Ar,null,n)}handleProactiveTrigger(t,e){const{isDrawerOpen:n}=this.props;n||this.setState({proactiveConversation:t,proactiveConversationTriggerMethod:e})}async handleEmbedAction(n,r,o){const{client:i,messageService:s,adaSettings:a}=this.props,{parentElement:c}=a,u=s.getChannel("local"),d=s.getChannel(si);switch(n){case Or:if(!i)throw new t("`client` is not defined");i.features.afm_business_events?this.trackEvent(r):console.error("Ada Embed - business events not available in your feature set."),u.postMessage(Cr,null,o);break;case Tr:if(!i)throw new t("`client` is not defined");i.features.afm_proactive_messaging?this.triggerCampaign(r):console.error("Ada Embed - proactive campaigns not available in your feature set."),u.postMessage(xr,null,o);break;case kr:if(!i)throw new t("`client` is not defined");i.features.afm_proactive_messaging?this.evaluateCampaignConditions(r):console.error("Ada Embed - proactive campaigns not available in your feature set."),u.postMessage(Pr,null,o);break;case pr:{const{isDrawerOpen:t,drawerHasBeenOpened:e,chatterToken:n}=this.props,r={isDrawerOpen:t,isChatOpen:t||Boolean(c),hasActiveChatter:Boolean(n),hasClosedChat:e&&!t};u.postMessage(hr,r,o);break}case fr:{const{metaFields:t,setGlobalState:e}=this.props,n=r,i=Oi(Oi({},t),n);await e({metaFields:i}),u.postMessage(gr,null,o);break}case"SET_SENSITIVE_META_FIELDS":{const{sensitiveMetaFields:t,setGlobalState:e}=this.props;await e({sensitiveMetaFields:Oi(Oi({},t),r)}),u.postMessage("SET_SENSITIVE_META_FIELDS_RESPONSE",null,o);break}case mr:u.postMessage(vr,null,o),this.unmount();break;case br:{const{greeting:e,language:n,metaFields:i,sensitiveMetaFields:s,resetChatHistory:c=!0,activeModality:p}=r,{setGlobalState:h}=this.props,{handle:f}=a;l("Reset method triggered",{handle:f,greeting:e,resetChatHistory:c,language:n,metaFields:i,sensitiveMetaFields:s});const{chatHasBeenRendered:g}=this.state;let m={greeting:e,language:n,metaFields:i,sensitiveMetaFields:s,chatDimensions:void 0,activeModality:p};if(c){if(!d)throw new t("`xStorageChannel` is null");d.postMessage(rr,void 0),no.BB.removeItem(lo),no.ad.removeItem(lo),no.BB.removeItem(po),no.ad.removeItem(po),m=Oi(Oi({},m),{},{chatterToken:void 0,chatterCreated:void 0})}await h(m),g&&this.setState({hideChatOverride:!0},(()=>{this.setState({hideChatOverride:!1})})),u.postMessage(wr,null,o);break}case _r:{const{setGlobalState:e}=this.props;if(!d)throw new t("`xStorageChannel` is null");no.BB.removeItem(lo),no.ad.removeItem(lo),no.BB.removeItem(po),no.ad.removeItem(po),await e({chatterToken:void 0,chatterCreated:void 0}),d.postMessage(rr,void 0),u.postMessage(yr,null,o);break}case Sr:{if(!i)throw new t("`client` is not defined");const{body:e,duration:n,delay:s}=r,a=1e3;this.setState({hideIntroOverride:!0},(async()=>{const{setGlobalState:t}=this.props,r=new Mo(Oi(Oi({},i),{},{intro:{body:e,delay:s||0,duration:n||0===n?n:null,style:"Text",response_id:""}}));await t({client:r,isIntroShown:!1}),this.setState({hideIntroOverride:!1})})),await(h=1e3*(n||0)+a,new Promise((t=>{setTimeout(t,h)}))),u.postMessage(Er,null,o);break}case jr:{const t=s.getChannel(ii);t&&t.postMessage(jr,void 0),u.postMessage(Ir,null,o);break}case Dr:this.handleSettingDeviceToken(u,r,o);break;case Nr:{var p;if(!i)throw new t("`client` is not defined");const{messageKey:n,params:s}=r;if(null!==(p=i.proactive_conversations)&&void 0!==p&&p[n]){const t=i.proactive_conversations[n];this.handleProactiveTrigger(Oi(Oi({},t),{},{key:n,params:s}),"programmatic")}else e(`Proactive message with key ${n} not found`);u.postMessage(Rr,null,o);break}}var h}bindEmbedActionEventHandler(){const{messageService:t}=this.props;return t.getChannel("local").addEventListener(((t,e,n)=>{this.handleEmbedAction(t,e,n)}))}locationChangeHandler(){this.setState({hideIntroOverride:!0},(()=>{this.initialize().then((()=>{this.setState({hideIntroOverride:!1}),this.evaluateCampaignConditions({},!0),this.evaluateBusinessEventConditions(),this.evaluateProactiveConversationConditions()}))}))}async initialize(){const{adaSettings:t,setGlobalState:n}=this.props,{handle:r,cluster:o,domain:i,rolloutOverride:a,adaReadyCallback:c,privateMode:u}=t,d=t.language||xo(),p=Object.keys(t).reduce(((e,n)=>"function"!=typeof t[n]?Oi(Oi({},e),{},{[n]:t[n]}):e),{}),h=await Do(r,o,i,d);if(!h)return void this.unmount();const f=new Mo(h.client);if(!function(t,n){const r=function(t){const e={group:null,lastProb:null};return e.group=(no.BB.getFnItem("rolloutGroup")||{})[t]||null,e.lastProb=(no.BB.getFnItem("rolloutLastValue")||{})[t]||null,e}(n);if(t<0||t>1)return e("Rollout value must be between 0 and 1 - defaulting to 1"),!0;if(1===t||0===t){const e=t?"B":"A";return Ko(n,e,t),"B"===e}if(t===r.lastProb)return"B"===r.group;const o=Math.random();if(null===r.group||0===r.lastProb){const e=o<=t;return Ko(n,e?"B":"A",t),e}if(null!==r.lastProb&&t>0){const e=o<=(t>r.lastProb?1-r.lastProb/t:1-t/r.lastProb);return Ko(n,e?"B":"A",t),e}return e("Unable to detemrine rollout group - defaulting to showing chat button"),!0}(void 0!==a?a:f.rollout,f.handle)&&!zo())return e("User is in the wrong rollout group."),c&&c({isRolledOut:!1}),void this.unmount();const g=f.alternative_bot,m=await async function(t,e,n){const r=zo(),{domain:o,cluster:i,language:s}=n;if(r){var a;const e=r.replace(/&(?!amp)(?!lt;)(?!gt;)(?!quot)(?!apos;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#47;").replace(/\?/g,"&#63;").replace(/=/g,"&#61;").replace(/\./g,"&#46;");if(e!==t.handle&&e!==(null===(a=t.alternative_bot)||void 0===a?void 0:a.handle))return t;const n=await Do(e,i,o,s||xo());return n?new Mo(n.client):null}if(e){const{handle:r,rollout:o}=e;return 0===o?Go(Bo,t,r,n):1===o?Go(Uo,t,r,n):async function(t,e,n,r){const o=function(t){const e=no.BB.getFnItem(Ho);return e?e[t]===Uo?Uo:e[t]===Bo?Bo:null:null}(t.handle);if(o)return Go(o,t,e,r);const i=(s=n,parseFloat(Math.random().toFixed(2))<=s?Uo:Bo);var s;return function(t,e){const n=no.BB.getFnItem(Ho)||{};no.BB.setFnItem(Ho,Fo(Fo({},n),{},{[e]:t}))}(i,t.handle),l("Launch Controls Bot Assignment",Fo(Fo({},{primaryBot:t.handle,alternativeBotRollout:n,alternativeBot:e}),{},i===Uo?{assignedBot:Uo}:{assignedBot:Bo}),{sampleRate:1}),Go(i,t,e,r)}(t,r,o,n)}return t}(f,g,t);if(!m)return void this.unmount();const v=to({name:"api",handle:m.handle,cluster:o,domain:i});if(m.features.afm_business_events&&!m.business_events)try{const t=await s({url:`${v}business_events/`});m.business_events=t.business_events}catch(t){m.business_events=[],e("Failed to fetch events from API.")}if(!m.marketing_campaigns)try{const t=await s({url:`${v}campaigns/`});m.marketing_campaigns=t.campaigns}catch(t){m.marketing_campaigns=[],m.marketing_campaigns_order=[],e("Failed to fetch campaigns from API.")}m.marketing_campaigns_order&&(m.marketing_campaigns=m.marketing_campaigns_order.map((t=>{var e;return null===(e=m.marketing_campaigns)||void 0===e?void 0:e.find((e=>e._id===t))})).filter((t=>Boolean(t))));const{chat:_}=m;if(!_)return e("Sorry, please turn on the web chat integration in your bot's settings."),void this.unmount();const y=function(t,e,n){const{persistence:r}=e;return n?null:r===ai?no.BB.getItem(t):r===ci?no.ad.getItem(t):null}(fo,m,u);try{await n(Oi(Oi({client:m,enabledLanguages:["en"].concat(m.translated_languages),initialURL:window.location.href,isIntroShown:!1},p),{},{handle:m.handle,adaSettings:Oi(Oi({},t),{},{handle:m.handle}),chatterInLiveChat:y}))}catch(t){t instanceof Error&&nr.trackException(t),this.unmount()}}resetChat(){const{messageService:e}=this.props,{chatHasBeenRendered:n}=this.state,r=e.getChannel(si);if(!r)throw new t("`xStorageChannel` is null");r.postMessage(rr,void 0),n&&this.setState({hideChatOverride:!0},(()=>{this.setState({hideChatOverride:!1})}))}notificationPermHandler(){const{setGlobalState:t}=this.props;var e;e=e=>{t({notificationsPermission:e})},"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then((t=>{t.onchange=()=>{var n;e("granted"===(n=t.state)||"denied"===n?n:"default")}})).catch((()=>{}))}renderChatFrame(){const{messageService:t,store:e,adaSettings:n}=this.props,{campaignToTrigger:r,followUpResponseId:o,chatVersion:i}=this.state;return this.shouldRenderChatFrame?k(_i,{chatVersion:i,setChatHasBeenRendered:this.setChatHasBeenRenderedBound,adaSettings:n,store:e,messageService:t,resetChat:this.resetChatBound,skipGreeting:Boolean(r||o)}):null}renderIntroFrame(){var t;const{adaSettings:e,client:n}=this.props,{parentElement:r}=e,{hideIntroOverride:o}=this.state;return r||"text"!==(null==n||null===(t=n.intro)||void 0===t?void 0:t.style.toLocaleLowerCase())||o||this.shouldRenderChatFrame?null:k(yi,null)}renderMaskFrame(){const{adaSettings:t,hideMask:e}=this.props,{parentElement:n}=t;return n||e?null:k(bi,null)}renderBackdrop(){const{adaSettings:t,chatDimensions:e,isDrawerOpen:n,isIntroShown:r}=this.props,{parentElement:o}=t;if(o)return null;const i=Boolean(null==e?void 0:e.height),s=n||i||r;return k("div",{style:Oi(Oi({position:"fixed",width:"635px",height:"785px",[oi(t)]:0},"left"===oi(t)?{background:"linear-gradient(45deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0) 40.92%)"}:{background:"linear-gradient(315.92deg, rgba(0, 0, 0, 0.08) 0%, rgba(0, 0, 0, 0) 40.92%)"}),{},{bottom:0,pointerEvents:"none",zIndex:9999,transition:"500ms linear",opacity:s?1:0})})}renderXStorageFrame(){return k(Si,null)}renderButtonFrame(){const{adaSettings:t}=this.props,{parentElement:e}=t;if(e)return null;const{frameWidth:n}=this;return k(gi,{frameWidth:n,adaSettings:t})}render(){const{client:t}=this.props;return t?k(j,null,this.renderBackdrop(),this.renderXStorageFrame(),this.renderButtonFrame(),this.renderChatFrame(),this.renderIntroFrame(),this.renderMaskFrame()):null}});function Ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ki(e){let n,{adaSettings:r,initializationResolve:o,initializationReject:i,messageService:s,store:a}=e;const c=document.createElement("div");if(c.id="ada-entry",r.parentElement?(n=function(e){let{adaSettings:n}=e;const{parentElement:r}=n;let o=null;if(!r)return null;if("string"==typeof r?o=document.getElementById(r):r instanceof HTMLElement&&(o=r),!o)throw new t("parentElement requires a string or HTMLElement.");return o}({adaSettings:r}),c.style.height="100%"):n=document.body,!n)throw new t("`parentContainer` is null");n.appendChild(c),function(t,e,n){var r,o,i;g.__&&g.__(t,e),o=(r=n===y)?null:n&&n.__k||e.__k,t=k(j,null,[t]),i=[],H(e,(r?e:n||e).__k=t,o||E,E,void 0!==e.ownerSVGElement,n&&!r?[n]:o?null:e.childNodes.length?O.slice.call(e.childNodes):null,i,n||E,r),G(i,t)}(k(K.Provider,{value:a},k(Y.Provider,{value:s},k(Ci,{store:a,messageService:s,adaSettings:r,entryContainer:c,initializationReject:i,initializationResolve:o}))),c)}const Pi=new t("Actions cannot be called until Embed has been instantiated. Try running `adaEmbed.start({...})`.");function ji(){let e=null;const n=async()=>{if(!e)throw Pi;if(e.adaSettings.parentElement)throw new t("Cannot toggle when using parentElement.");await e.initialized,await e.store.dispatch(zr.TOGGLE_CHAT_ACTION)};return Object.freeze({start:async n=>{if(!p(n))throw new t("`start` method requires `StartOptions` argument");if(e)throw new t("Ada Embed has already been started.");var r;return e=function(e){const n=new Ur,r=n.channels.local,o=(t=>({adaSettings:t,handle:t.handle,styles:void 0,domain:void 0,cluster:void 0,language:void 0,greeting:void 0,crossWindowPersistence:!0,hideMask:!0,metaFields:{},sensitiveMetaFields:{},parentElement:void 0,isDrawerOpen:!1,drawerHasBeenOpened:!1,focusIsOnAda:!1,enabledLanguages:["en"],client:void 0,isIntroShown:!1,wasIntroShown:!1,isButtonShown:!1,introDimensions:{},unreadMessageCount:0,initialURL:void 0,privateMode:!1,rolloutOverride:void 0,chatterToken:yo(lo)||void 0,chatterCreated:yo(po)||void 0,sessionToken:yo(ho)||void 0,zdSessionId:yo(go)||void 0,zdPreviousTags:yo(mo)||void 0,zdMessagingExternalUserId:yo(vo)||null,zdMessagingChatterCreated:yo(_o)||null,connections:{},appConnectionState:dr.Uninitiated,testMode:!1,embedStyles:void 0,notificationsPermission:uo?Notification.permission:void 0,browserHasNotificationSupport:uo,preload:!1,chatDimensions:void 0,isChatWebsocketConnected:!1,latestCampaignKey:void 0,hasChatOpenedAfterProactiveMessagesShown:!1,chatterInLiveChat:!1,wasCampaignShownButNowClosed:!1,proactiveCampaignHadMessages:!1,deviceToken:null}))(e),i=new co(o,n),s=new Promise(((t,r)=>{ki({adaSettings:e,messageService:n,store:i,initializationResolve:t,initializationReject:r})})),a=S()((async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await s,await r.fetch(Tr,xr,xi({campaignKey:t},e))}),1e3,{leading:!0});return{initialized:s,messageService:n,store:i,adaSettings:e,async getInfo(){return await s,await r.fetch(pr,hr)},async setMetaFields(t){await s,await r.fetch(fr,gr,t)},async setSensitiveMetaFields(t){await s,await r.fetch("SET_SENSITIVE_META_FIELDS","SET_SENSITIVE_META_FIELDS_RESPONSE",t)},async stop(){await s,await r.fetch(mr,vr)},async deleteHistory(){await s,await r.fetch(_r,yr)},async reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await s,await r.fetch(br,wr,t)},async trackEvent(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};await s,await r.fetch(Or,Cr,{eventKey:t,value:e,meta:n})},async triggerCampaign(t){a(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},async evaluateCampaignConditions(t){await s,await r.fetch(kr,Pr,t)},async createProactive(n,o,i){if(e.parentElement)throw new t("Cannot call createProactive when using parentElement.");await s;try{await r.fetch(Sr,Er,{body:n,duration:o,responseId:i},1e3*o+2e3)}catch(e){throw new t(`${e}`)}},async closeCampaign(){await s,await r.fetch(jr,Ir)},async setDeviceToken(t){await s,await r.fetch(Dr,Ar,{token:t})},async triggerProactive(t){await s,await r.fetch(Nr,Rr,t)}}}(n),window.adaEmbedLoadedCallback&&window.adaEmbedLoadedCallback(),l("Embed start",{handle:n.handle,embedSettings:n,hostPage:window.location.href,adaScriptURL:(r=document.getElementById("__ada"),r?r.src:null)}),e.initialized},stop:async()=>{if(!e)throw Pi;const t=e.stop();return e=null,t},toggle:n,deleteHistory:async()=>{if(!e)throw Pi;return e.deleteHistory()},setMetaFields:async t=>{if(!e)throw Pi;return e.setMetaFields(t)},setSensitiveMetaFields:async t=>{if(!e)throw Pi;return e.setSensitiveMetaFields(t)},getInfo:async()=>{if(!e)throw Pi;return e.getInfo()},reset:async t=>{if(!e)throw Pi;return l("Embed reset",{initialURL:window.location.href,resetChatHistory:null==t?void 0:t.resetChatHistory,greeting:null==t?void 0:t.greeting}),e.reset(t)},trackEvent:async(t,n,r)=>{if(!e)throw Pi;return e.trackEvent(t,n,r)},createProactive:async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,o=arguments.length>2?arguments[2]:void 0;if(!n)throw new t("Cannot call createProactive without body set.");if(!e)throw Pi;return e.createProactive(n,r,o)},triggerCampaign:async(t,n)=>{if(!e)throw Pi;return e.triggerCampaign(t,n)},evaluateCampaignConditions:async t=>{if(!e)throw Pi;return e.evaluateCampaignConditions(t)},subscribeEvent:async(t,e)=>function(t,e){const n=Vr();return qr.push({eventKey:t,callback:e,id:n}),n}(t,e),unsubscribeEvent:async t=>function(t){qr=qr.filter((e=>e.id!==t))}(t),closeCampaign:async()=>{if(!e)throw Pi;return e.closeCampaign()},setDeviceToken:async t=>{if(!e)throw Pi;return e.setDeviceToken(t)},setLanguage:n=>{if(!e)throw Pi;const r=e.messageService.getChannel("chat");if(!r)throw new t("Chat is not ready yet to have language changed.");r.postMessage("SET_LANGUAGE",{language:n})},handleNotification:async()=>{if(!e)throw Pi;(await e.getInfo()).isChatOpen||await n()},triggerAnswer:n=>{if(!e)throw Pi;const r=e.messageService.getChannel("chat");if(!r)throw new t("Chat is not ready yet to have answer triggered.");r.postMessage("TRIGGER_ANSWER",{answerId:n})},triggerProactive:t=>{if(!e)throw Pi;return e.triggerProactive(t)}})}!function(){if(window.__AdaEmbedLoaded)return void e("Embed script has already been initialized. Skipping.");window.__AdaEmbedLoaded=!0;const t=ji();window.adaEmbed=t,f(t),(t=>{const e=window.__AdaEmbedLoaderInitialActionQueue;null!=e&&e.length&&(l("Call to dispatchEmbedLoaderInitialActionQueue",{hostPage:window.location.href}),e.forEach((e=>{(0,t[e.method])(...e.arguments).then((t=>{window.dispatchEvent(new CustomEvent(`__ada-embed-action-resolve-${e.method}`,{detail:t}))}))})))})(t)}()}()}();
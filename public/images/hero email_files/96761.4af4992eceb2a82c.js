"use strict";(self.webpackChunkmailchimp=self.webpackChunkmailchimp||[]).push([["96761"],{379999:function(e,t,n){n.d(t,{Z:()=>i});let i={liveExpertHelpBtn:"liveExpertHelpBtn-3ju2V",appHeaderFeedbackTextBelow:"appHeaderFeedbackTextBelow-2K6cL",appHeaderliveExpertHelpBtn:"appHeaderliveExpertHelpBtn-1RFSO",online:"online-xMPbD",collapsedLiveHelpButtonContainer:"collapsedLiveHelpButtonContainer-19Mso",collapsedContainer:"collapsedContainer-1gSSZ",nonDesktop:"nonDesktop-URmVV"}},749229:function(e,t,n){n.d(t,{Z:()=>i});let i={skipToContent:"skipToContent-3Sx-7"}},940403:function(e,t,n){n.d(t,{d:()=>a});var i=n(683028);function a(e,t){return(0,i.$f)("/mailchimp.humanassistance.entrypoints.EntryPointsService/Get",e,t)}},924591:function(e,t,n){n.d(t,{d:()=>a});var i=n(683028);function a(e,t){return(0,i.$f)("/mailchimp.humanassistance.floatingactionbutton.FloatingActionButtonService/Get",e,t)}},148042:function(e,t,n){n.d(t,{oX:()=>a});var i=n(683028);function a(e,t){return(0,i.$f)("/mailchimp.identity.v1.IdentityService/GetLinkedAccounts",e,t)}},705084:function(e,t,n){n.d(t,{Z:()=>a});var i=n(237293);function a(){let{isCrmRoute:e}=(0,i.yj)();return!!e}},151082:function(e,t,n){n.d(t,{Z:()=>r});var i=n(146393),a=n(349507);let o=Symbol.for("useLocalStorageState"),r=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=(0,i.useRef)(o);if(r.current===o){let n=a.Z.getItem(e);"string"==typeof n?"undefined"===n?r.current=void 0:r.current=JSON.parse(n):r.current=t}let[l,c]=(0,i.useState)(r.current);return(0,i.useEffect)(()=>{n&&(void 0===l?a.Z.setItem(e,"undefined"):a.Z.setItem(e,JSON.stringify(l)))},[n,e,l]),[l,c]}},720310:function(e,t,n){n.d(t,{Z:()=>l});var i=n(764819),a=n(399971);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class l extends a.Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(r(r({},{org:"sbseg",purpose:"prod",scope:"mc",scope_area:"crm_composite_app"}),t),null),this.event=()=>e,this.schema=r(r({},{action:"string",initiative_name:"string",object:"string",object_detail:"string",org:"string",purpose:"string",scope:"string",scope_area:"string",screen:"string",ui_access_point:"string",ui_action:"string",ui_object:"string",ui_object_detail:"string"}),n)}}},349507:function(e,t,n){n.d(t,{Z:()=>i});let i={setItem:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){return}},getItem:function(e){try{return window.localStorage.getItem(e)}catch(e){return null}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){return}}}},496534:function(e,t,n){n.d(t,{eH:()=>a,tg:()=>i,to:()=>o});let i="dsh_hv_premium_plan_english",a="email_eligible",o="chat_eligible"},588355:function(e,t,n){n.d(t,{T:()=>r,y:()=>l});var i=n(146393),a=n(940403),o=n(633764);let r=(0,i.createContext)({entryPointsAccessMap:new Map,isEntryPointsAccessMapLoading:!0}),l=e=>{let{children:t}=e,[n,l]=(0,i.useState)(new Map),[c,s]=(0,i.useState)(!0),[u,d]=(0,i.useState)(!0),[p,g]=(0,i.useState)(!0),[h,f]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{p||h||d(!1)},[p,h]),(0,i.useEffect)(()=>{(0,o.F7)("c84977deb5786d93b9deeea6648e9cd6")&&(0,a.d)().then(e=>{if("object"==typeof e&&e.hasOwnProperty("entryPoints")){let{entryPoints:t}=e;l(new Map(Object.entries(t))),s(!1)}}).catch(()=>{s(!1)})},[]),i.createElement(r.Provider,{value:{entryPointsAccessMap:n,isEntryPointsAccessMapLoading:c,isEligibilityLoading:u,isRightRailEligibilityLoading:p,setIsRightRailEligibilityLoading:g,setIsDSHEligibilityLoading:f,isDSHEligibilityLoading:h}},t)}},567585:function(e,t,n){n.d(t,{a:()=>o,x:()=>a});var i=n(146393);let a=(0,i.lazy)(()=>n.e("44491").then(n.bind(n,705046))),o=(0,i.lazy)(()=>n.e("50204").then(n.bind(n,323487)))},709798:function(e,t,n){n.d(t,{Z:()=>u});var i=n(146393),a=n(306139),o=n.n(a),r=n(237483),l=n(150153),c=n(629250),s=n(379999);function u(){let e=(0,c.V)({id:"wef.live_expert_help",defaultMessage:"Live expert help"}),[t,n]=(0,i.useState)(!1);return i.createElement(i.Fragment,null,i.createElement(r.Button,{"data-testid":"test-button",type:"primary",className:o()(s.Z.liveExpertHelpBtn,{[s.Z.nonDesktop]:!1,[s.Z.appHeaderliveExpertHelpBtn]:!1}),onClick:()=>{n(!0)}},i.createElement(r.ClusterLayout,{gap:2,alignItems:"center",nowrap:!0},i.createElement("div",{className:s.Z.online}),i.createElement("span",null,e))),t&&i.createElement(l.Z,{openModal:t,closeModalHandler:()=>{n(!1)}}))}},751782:function(e,t,n){n.d(t,{$D:()=>o,H7:()=>a,Pv:()=>l,r4:()=>r,tG:()=>i});let i="triton_high_value_cohort",a="triton_general_cohort",o="triton_high_value_cohort_non_english",r="triton_general_cohort_non_english",l="bypass_criteria"},150153:function(e,t,n){n.d(t,{Z:()=>r});var i=n(146393),a=n(237483),o=n(629250);let r=e=>{let{openModal:t,closeModalHandler:n}=e,r=(0,o.V)({id:"shell.right_rail_live_expert_help",defaultMessage:"Live expert help"}),l=(0,o.V)({id:"shell.right_rail_unsupported",defaultMessage:"Weâ€™re sorry, live expert help is only available on larger screen sizes"}),c=(0,o.V)({id:"right_rail_unsupported_accept",defaultMessage:"Ok"});return i.createElement(a.WinkStyles,null,i.createElement(a.Modal,{isOpen:t,onRequestClose:()=>{n()}},i.createElement(a.ModalCloseButton,null),i.createElement(a.ModalHeader,null,r),i.createElement(a.ModalBody,null,i.createElement(a.ModalContent,{style:{textAlign:"center"}},i.createElement("p",null,l))),i.createElement(a.ModalFooter,null,i.createElement(a.Button,{type:"primary",onClick:()=>{n()}},c))))}},835194:function(e,t,n){n.d(t,{Fh:()=>d,H2:()=>l,W9:()=>s,WU:()=>u,iO:()=>c,ih:()=>i,jH:()=>a,tV:()=>r,yM:()=>o});let i="OIHS_OPEN_PANEL",a="CHAT",o="CONTACT",r="PON",l="ARTICLE",c="SEARCH",s="LAUNCH_CONVERSATION_HUB",u="OIHS_CLOSE_PANEL_TOPIC",d="TRITON_CHAT"},148063:function(e,t,n){n.d(t,{Nf:()=>i,hA:()=>r,m$:()=>o,o1:()=>a});let i="opening",a="open",o="closed",r="pending"},230387:function(e,t,n){n.d(t,{Cs:()=>i,T9:()=>l,WH:()=>r,aU:()=>o,av:()=>c,zW:()=>a});let i={Crm:"customer_relationship_management",Internationalization:"internationalization"},a={Account:{Completed:"account:completed",Engaged:"account:engaged",Failed:"account:failed",Started:"account:started",Selected:"account:selected",Viewed:"account:viewed"},Audience:{Completed:"audience:completed",Engaged:"audience:engaged",Failed:"audience:failed",Started:"audience:started",Selected:"audience:selected",Viewed:"audience:viewed"},Navigation:{Completed:"navigation:completed",Engaged:"navigation:engaged",Failed:"navigation:failed",Started:"navigation:started",Selected:"navigation:selected",Viewed:"navigation:viewed"}},o={Started:"started",Engaged:"engaged",Completed:"completed",Viewed:"viewed",Selected:"selected",Failed:"failed"},r={Button:"button",Card:"card",Link:"link",Tab:"tab",SubMenu:"sub_menu",Icon:"icon"},l={Clicked:"clicked",Deleted:"deleted",Dragged:"dragged",Started:"started"},c={LeftNav:"left_nav",Header:"header",TopLeft:"top_left",TopRight:"top_right"}},61417:function(e,t,n){n.d(t,{S:()=>o});var i=n(720310),a=n(230387);function o(){return{selectsMainNavLink:e=>{let{screen:t,object_detail:n}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:n,action:a.aU.Selected,ui_object:a.WH.Button,ui_object_detail:n,ui_action:a.T9.Clicked,ui_access_point:a.av.LeftNav})},selectsFreddieLogo:e=>{let{screen:t}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:"crm_overview",action:a.aU.Selected,ui_object:a.WH.Button,ui_object_detail:"freddie_head",ui_action:a.T9.Clicked,ui_access_point:a.av.Header})},selectsCrmSwitcher:e=>{let{screen:t}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:"account_switch",action:a.aU.Selected,ui_object:a.WH.Link,ui_object_detail:"crm",ui_action:a.T9.Clicked,ui_access_point:a.av.TopLeft})},selectsMarketingSwitcher:e=>{let{screen:t}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:"account_switch",action:a.aU.Selected,ui_object:a.WH.Link,ui_object_detail:"marketing",ui_action:a.T9.Clicked,ui_access_point:a.av.TopLeft})},goToAccountAndBilling:e=>{let{screen:t}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:"account_billing",action:a.aU.Selected,ui_object:a.WH.SubMenu,ui_object_detail:"account_billing",ui_action:a.T9.Clicked,ui_access_point:a.av.TopRight})},selectsAudienceInAudienceSwitcher:e=>{let{screen:t}=e;return new i.Z(a.zW.Audience.Engaged,{initiative_name:a.Cs.Crm,screen:t,object:"audience",object_detail:"audience_selection",action:a.aU.Engaged,ui_object:a.WH.SubMenu,ui_object_detail:"audience_name",ui_action:a.T9.Clicked,ui_access_point:a.av.TopRight})},viewProfileMenu:e=>{let{screen:t}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:"account_profile",action:a.aU.Selected,ui_object:a.WH.Icon,ui_object_detail:"profile",ui_action:a.T9.Clicked,ui_access_point:a.av.TopRight})},selectsLanguagePreference:e=>{let{screen:t,language_selected:n}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Internationalization,screen:t,object:"navigation",object_detail:"language_preference",action:a.aU.Selected,ui_object:a.WH.SubMenu,ui_object_detail:"language_selector",ui_action:a.T9.Clicked,ui_access_point:a.av.TopRight,language_selected:n},{language_selected:"string"})},logsOut:e=>{let{screen:t}=e;return new i.Z(a.zW.Navigation.Selected,{initiative_name:a.Cs.Crm,screen:t,object:"navigation",object_detail:"language_preference",action:a.aU.Selected,ui_object:a.WH.SubMenu,ui_object_detail:"language_selector",ui_action:a.T9.Clicked,ui_access_point:a.av.TopRight})}}}},199116:function(e,t,n){n.d(t,{Z:()=>s});var i=n(146393),a=n(395552),o=n.n(a);n(633764);var r=n(836681),l=n(924591);let c=(0,r.SN)(()=>(0,l.d)()),s=function(){let{value:e,isLoading:t,error:n}=(0,r.Wf)(c);(0,i.useEffect)(()=>{var e;n&&("unauthenticated"===(e=n).code||e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message)||"permission_denied"===e.code&&e.meta?.details==="3a321b3f"&&"not allowed"===e.msg.toLowerCase()||o().notify("Could not load fab",t=>t.addMetadata("useResource",{error:e})))},[n]);let a=e?.enabled&&!n&&!t;return{isLoading:t,shouldShowLiveExpertHelp:a,error:n}}},629250:function(e,t,n){n.d(t,{V:()=>s,y:()=>c});var i=n(146393),a=n(351643),o=n(388274),r=n(633764),l=n(627379);function c(e){let{id:t,defaultMessage:n,values:o,description:c}=e;try{if((0,r.F7)("573ca507394f8db0f21f804ba7f81161"))return i.createElement(l.default,{FallbackComponent:n},i.createElement(a.Z,{id:t,defaultMessage:n,values:o,description:c}))}catch{l.Bugsnag.notify("Error within i18n flow",e=>{e.addMetadata("translated text",{id:t,defaultMessage:n,values:o})})}return n||t}function s(e){let{id:t,defaultMessage:n,values:i,description:a}=e;try{let e=(0,o.Z)();if((0,r.F7)("573ca507394f8db0f21f804ba7f81161"))return e.formatMessage({id:t,defaultMessage:n,values:i,description:a})}catch{l.Bugsnag.notify("Error within i18n flow",e=>{e.addMetadata("translated text",{id:t,defaultMessage:n,values:i})})}return n||t}},932882:function(e,t,n){n.d(t,{Z:()=>a});var i=n(146393);function a(){return i.createElement("div",{id:"\uD83D\uDE48","data-auto-enablement-allowed":"true"})}},75721:function(e,t,n){n.d(t,{F:()=>h,X:()=>g});var i=n(146393),a=n(633764),o=n(889943),r=n(817343),l=n(524743),c=n(148063),s=n(588355),u=n(751782),d=n(496534),p=n(835194);let g=(0,i.createContext)({isRightRailCollapsed:null,setIsRightRailCollapsed:null,isRightRailOpen:null,setIsRightRailOpen:null,entryPoint:null,setEntryPoint:()=>{},hasBeenOpened:null,rightRailExperience:r.qe,setRightRailExperience:null,setResettingRightRail:null,resettingRightRail:null,resetRightRail:null,setShouldResetRightRail:null,tritonChatProps:null,setTritonChatProps:null,isRightRailPoppedOut:null,setIsRightRailPoppedOut:null,openRightRailInNewWindow:null,newWindow:null,showTritonExperience:null,setShowTritonExperience:null,tritonCohort:null,setTritonCohort:null,isSupportOptionsVisible:null,setIsSupportOptionsVisible:null,ponProps:null,setPonProps:null,isHelpOverlayVisible:null,showOicuOnHelpOverlay:null,setShowOicuOnHelpOverlay:null,setIsHelpOverlayVisible:()=>{},launchRightRailOrTriton:()=>{},launchDSHRightRailOrTriton:()=>{},handleExperience:()=>{},intent:null,setIntent:null,bookedApptOicuQueue:null,setBookedApptOicuQueue:null,selectedKBArticle:"",rightRailContainerRef:null}),h=e=>{let{children:t}=e,[n,h]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[_,v]=(0,i.useState)(null),[b,w]=(0,i.useState)(!1),S=(0,i.useRef)(!1),[C,T]=(0,i.useState)(r.qe),[y,E]=(0,i.useState)(!1),[k,O]=(0,i.useState)(null),[j,R]=(0,i.useState)(!1),P=(0,i.useRef)(null),[I,H]=(0,i.useState)(!1),[x,A]=(0,i.useState)(null),[Z,N]=(0,i.useState)(!0),[M,B]=(0,i.useState)(null),[W,L]=(0,i.useState)(!1),[D,F]=(0,i.useState)(void 0),[z,V]=(0,i.useState)(null),[U,$]=(0,i.useState)(!1),[X,G]=(0,i.useState)(""),q=(0,i.useRef)(null),[J,K]=(0,i.useState)(!0),[Q,Y]=(0,i.useState)(!1),{entryPointsAccessMap:ee,isEntryPointsAccessMapLoading:et,setIsRightRailEligibilityLoading:en}=(0,i.useContext)(s.T);(0,i.useEffect)(()=>{if(!et){if((0,a.F7)("fbfe69c577d7cacfea6f2ca60ee78260"))H(!0),A(u.Pv);else{let e=ee.get(u.$D),t=ee.get(u.r4),n=ee.get(d.tg);H(e||t||n),n?A(d.tg):e?A(u.tG):t&&A(u.H7)}en(!1)}},[ee,et,en]);let ei=e=>{S.current||(S.current=!0),v(e),m(!0)},ea=e=>{$(!0),v(e)},eo=()=>{P.current=window.open("/right-rail","",`width=420,height=${window.screen.availHeight},left=${window.screen.availWidth},top=${window.screen.availHeight/2}`),window.resizeTo(screen.availWidth-420,screen.availHeight),window.localStorage.setItem("mcTritonChatStatus",c.Nf)},er=()=>{f?f&&n&&h(!1):ei("global-header")},el=()=>{B(null),w(!0),E(!0)},ec=e=>{O(null),e&&window.localStorage.removeItem("mcTritonChatStatus"),w(!0),E(!0)};return i.createElement(g.Provider,{value:{isRightRailCollapsed:n,setIsRightRailCollapsed:h,isRightRailOpen:f,openRightRail:ei,closeRightRail:()=>{y&&(w(!0),E(!1)),m(!1)},hasBeenOpened:S.current,setEntryPoint:v,entryPoint:_,rightRailExperience:C,setRightRailExperience:T,setResettingRightRail:w,resettingRightRail:b,resetRightRail:()=>{O(null),w(!0)},setShouldResetRightRail:E,tritonChatProps:k,setTritonChatProps:O,popoutRightRail:()=>{y&&E(!1),m(!1),w(!1),L(!1),$(!1)},isRightRailPoppedOut:j,setIsRightRailPoppedOut:R,openRightRailInNewWindow:eo,newWindow:P.current,showTritonExperience:I,setShowTritonExperience:H,tritonCohort:x,setTritonCohort:A,isSupportOptionsVisible:Z,setIsSupportOptionsVisible:N,launchRightRailOrTriton:e=>{let t=e===l.bZ||W,i=window.localStorage?.getItem("mcTritonChatStatus");M&&(B(null),w(!0),E(!0)),i===c.o1?P.current?((0,o.Z)({channelName:"human-assistance-leh-click",message:'LEH button clicked with "open" cookie and new chat browser window refocused',classification:o._.SENSITIVE}),P.current.focus()):eo():i===c.m$?(O(null),i&&window.localStorage.removeItem("mcTritonChatStatus"),t?ea(e):(w(!0),E(!0),ei(e))):i===c.hA||i===c.Nf||k?(w(!0),E(!0),v(e),eo()):t?ea(e):f?f&&n&&h(!1):ei(e)},launchDSHRightRailOrTriton:()=>{let e=window.localStorage?.getItem("mcTritonChatStatus");M&&el(),k&&e===c.m$&&ec(e),er()},ponProps:M,setPonProps:B,isHelpOverlayVisible:W,setIsHelpOverlayVisible:L,intent:D,setIntent:F,bookedApptOicuQueue:z,setBookedApptOicuQueue:V,setShowOicuOnHelpOverlay:$,showOicuOnHelpOverlay:U,selectedKBArticle:X,setSelectedKBArticle:G,rightRailContainerRef:q,setShouldRehydrate:K,shouldRehydrate:J,handleExperience:e=>{e.experience!==p.tV||Q?e.experience===p.jH&&(O(e),Y(!0),ei("global-header")):(ec(),B(e),er())},isChatActive:Q,setIsChatActive:Y}},t)}},817466:function(e,t,n){n.d(t,{Z:()=>r});var i=n(146393),a=n(237293),o=n(749229);let r=function(e){let{id:t,label:n}=e,{focusModeNavigation:r=!1,apprehensivelyRemoveLeftNavigation:l=!1}=(0,a.yj)();return r||l?null:i.createElement("a",{href:`#${t}`,className:o.Z.skipToContent,onClick:e=>{e.preventDefault();let n=document.getElementById("fallback"),i=document.getElementById(t);!i&&n&&(i=n.contentDocument.getElementById(t)),i.setAttribute("tabindex",-1),i.focus(),i.addEventListener("blur",function(){i.removeAttribute("tabindex")},{once:!0})}},n)}},288467:function(e,t,n){n.d(t,{Z:()=>g});var i=n(764819),a=n(307923),o=n(88737),r=n(633764),l=n(210050),c=n(627379),s=n(403821),u=n(242982);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let g=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Wi.UNSPECIFIED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.consumerId=e,this.purposeId=t,this.accessToken=null,this.environment=n||o.Z.xapi.env,this._loadingClientPromise=null}async initClient(){await this._mintXApiToken()}async post(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.accessToken||await this.getXApiToken();let i=(0,s.Z)();return fetch(e,{method:"POST",headers:p({"Content-Type":"application/json",Authorization:`Bearer ${this.accessToken}`,intuit_tid:i},n),body:t}).catch(n=>{throw this.sendBugsnagError({error:{name:"xApiClient POST failure",message:`xapi client failed when calling ${e}`,data:p(p({},n),{},{intuit_tid:i,body:t})}}),n}).finally(()=>{this._refreshTokenIfNeeded()})}async _mintXApiToken(){let e=(0,s.Z)(),t=(0,a.createCustomerInteraction)("xapi-get-token");try{this._loadingClientPromise=(0,l.Y)({consumerId:this.consumerId,purposeId:this.purposeId,env:this.environment,intuit_tid:e});let n=await this._loadingClientPromise;if(n.accessToken)return this.accessToken=n.accessToken,this._tokenExpirationTimeMS=new Date().getTime()+1e3*n.expiresIn,clearTimeout(this._currentExpirationTimeout),this._currentExpirationTimeout=setTimeout(()=>{this.accessToken=null,this._loadingClientPromise=null},1e3*n.expiresIn),t.success(),n;throw Error("GetToken response did not contain an access token")}catch(n){if((0,r.F7)("6b7ad23f04b7ee783f9a41b3b297b42a")&&(this._loadingClientPromise=null),t.fail(),(0,r.F7)("914d0d83bd397ee2d1f8ddf25f78a0d5")&&("unauthenticated"===n.code||n instanceof TypeError&&["Failed to fetch","Load failed","NetworkError when attempting to fetch resource."].includes(n.message)))return;return n instanceof TypeError||this.sendBugsnagError({error:{name:"GetToken failure",data:p(p({},n),{},{intuit_tid:e})}}),Promise.reject(n)}finally{t.record()}}_refreshTokenIfNeeded(){let e=new Date().getTime();this._tokenExpirationTimeMS-e<3e5&&this._mintXApiToken()}getXApiToken(){let e=null;return this.accessToken&&(e=Promise.resolve({accessToken:this.accessToken})),this._loadingClientPromise&&(e=new Promise((e,t)=>{this._loadingClientPromise.then(t=>{e({accessToken:t.accessToken})}).catch(e=>{t(e)})})),e||(e=new Promise((e,t)=>{this._mintXApiToken().then(t=>{e({accessToken:t.accessToken})}).catch(e=>{t(e)})})),this._refreshTokenIfNeeded(),e}async getNonCachedXApiToken(){return{accessToken:(await this._mintXApiToken()).accessToken}}sendBugsnagError(e){let{error:t}=e,{message:n="XApiClient error",name:i="",data:a={}}=p({},t),o=this.consumerId||"unknown";c.Bugsnag.notify(n,e=>{e.addMetadata("XApiClient",{affectedComponent:"XApiClient",error:{message:n,name:i,consumerId:o},data:p({},a)})})}}},429596:function(e,t,n){n.d(t,{Aw:()=>r,O1:()=>a,k6:()=>o});var i=n(146393);let a=(0,i.lazy)(()=>Promise.all([n.e("10262"),n.e("5716"),n.e("16645")]).then(n.bind(n,508042))),o=(0,i.lazy)(()=>Promise.all([n.e("10262"),n.e("5716"),n.e("24604")]).then(n.bind(n,730379))),r=(0,i.lazy)(()=>Promise.all([n.e("36108"),n.e("99163"),n.e("44740"),n.e("5216"),n.e("39592"),n.e("79726"),n.e("70444"),n.e("11386"),n.e("27961"),n.e("73248"),n.e("33674"),n.e("11942"),n.e("5589"),n.e("37091")]).then(n.bind(n,320505)))}}]);
//# sourceMappingURL=96761.4af4992eceb2a82c.js.map